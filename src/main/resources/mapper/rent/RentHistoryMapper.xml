<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.library.bible.rent.repository.IRentHistoryRepository">
	
	<!-- ResultMap 정의 -->
	<resultMap id="rentMap" type="RentHistory">
		<id property="rentHistoryId" column="rent_history_id"/>
		<result property="memId" column="mem_id"/>
		<result property="rentDate" column="rent_date"/>
	</resultMap>
	
	<!-- 모든 대여 기록 조회 -->
	<select id="selectAllRentHistory" resultMap="rentMap">
		SELECT
			rent_history_id,
			mem_id,
			rent_date
		FROM rent_history
	</select>
	
	<!-- 특정 대여 기록 조회 -->
	<select id="selectRentHistory" resultMap="rentMap">
		SELECT
			rent_history_id,
			mem_id,
			rent_date
		FROM rent_history
		WHERE rent_history_id = #{rentHistoryId}
	</select>
	
	<!-- 대여 기록 추가 -->
	<insert id="insertRentHistory" parameterType="RentHistory">
	    INSERT INTO rent_history
	        (mem_id, rent_date)
	    VALUES 
	        (#{memId}, #{rentDate})
	</insert>
	
	<!-- 대여 기록 수정 -->
	<update id="updateRentHistory" parameterType="RentHistory">
		UPDATE rent_history
		SET
			mem_id = #{memId},
			rent_date = #{rentDate}
		WHERE rent_history_id = #{rentHistoryId}
	</update>
	
	<!-- 대여 기록 삭제 -->
	<delete id="deleteRentHistory">
		DELETE FROM rent_history WHERE rent_history_id = #{rentHistoryId}
	</delete>

</mapper>