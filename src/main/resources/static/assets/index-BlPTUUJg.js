var sm=Object.defineProperty;var rm=(e,t,n)=>t in e?sm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pt=(e,t,n)=>rm(e,typeof t!="symbol"?t+"":t,n);function om(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function au(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ae={},lr=[],Ai=()=>{},am=()=>!1,el=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),lu=e=>e.startsWith("onUpdate:"),mn=Object.assign,cu=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},lm=Object.prototype.hasOwnProperty,he=(e,t)=>lm.call(e,t),kt=Array.isArray,cr=e=>Do(e)==="[object Map]",_r=e=>Do(e)==="[object Set]",xh=e=>Do(e)==="[object Date]",Ut=e=>typeof e=="function",Ge=e=>typeof e=="string",_i=e=>typeof e=="symbol",Ie=e=>e!==null&&typeof e=="object",p1=e=>(Ie(e)||Ut(e))&&Ut(e.then)&&Ut(e.catch),m1=Object.prototype.toString,Do=e=>m1.call(e),cm=e=>Do(e).slice(8,-1),x1=e=>Do(e)==="[object Object]",uu=e=>Ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,to=au(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nl=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},um=/-(\w)/g,$n=nl(e=>e.replace(um,(t,n)=>n?n.toUpperCase():"")),hm=/\B([A-Z])/g,zs=nl(e=>e.replace(hm,"-$1").toLowerCase()),il=nl(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wl=nl(e=>e?`on${il(e)}`:""),os=(e,t)=>!Object.is(e,t),xa=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},b1=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},ka=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bh;const sl=()=>bh||(bh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function rl(e){if(kt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Ge(i)?pm(i):rl(i);if(r)for(const o in r)t[o]=r[o]}return t}else if(Ge(e)||Ie(e))return e}const fm=/;(?![^(]*\))/g,dm=/:([^]+)/,gm=/\/\*[^]*?\*\//g;function pm(e){const t={};return e.replace(gm,"").split(fm).forEach(n=>{if(n){const i=n.split(dm);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function es(e){let t="";if(Ge(e))t=e;else if(kt(e))for(let n=0;n<e.length;n++){const i=es(e[n]);i&&(t+=i+" ")}else if(Ie(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const mm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xm=au(mm);function w1(e){return!!e||e===""}function bm(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=No(e[i],t[i]);return n}function No(e,t){if(e===t)return!0;let n=xh(e),i=xh(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=_i(e),i=_i(t),n||i)return e===t;if(n=kt(e),i=kt(t),n||i)return n&&i?bm(e,t):!1;if(n=Ie(e),i=Ie(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const c in e){const h=e.hasOwnProperty(c),g=t.hasOwnProperty(c);if(h&&!g||!h&&g||!No(e[c],t[c]))return!1}}return String(e)===String(t)}function hu(e,t){return e.findIndex(n=>No(n,t))}const y1=e=>!!(e&&e.__v_isRef===!0),It=e=>Ge(e)?e:e==null?"":kt(e)||Ie(e)&&(e.toString===m1||!Ut(e.toString))?y1(e)?It(e.value):JSON.stringify(e,A1,2):String(e),A1=(e,t)=>y1(t)?A1(e,t.value):cr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],o)=>(n[Gl(i,o)+" =>"]=r,n),{})}:_r(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Gl(n))}:_i(t)?Gl(t):Ie(t)&&!kt(t)&&!x1(t)?String(t):t,Gl=(e,t="")=>{var n;return _i(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bn;class C1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bn,!t&&Bn&&(this.index=(Bn.scopes||(Bn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Bn;try{return Bn=this,t()}finally{Bn=n}}}on(){Bn=this}off(){Bn=this.parent}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function wm(e){return new C1(e)}function ym(){return Bn}let Ee;const Yl=new WeakSet;class _1{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bn&&Bn.active&&Bn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yl.has(this)&&(Yl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||S1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wh(this),I1(this);const t=Ee,n=ii;Ee=this,ii=!0;try{return this.fn()}finally{T1(this),Ee=t,ii=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)gu(t);this.deps=this.depsTail=void 0,wh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cc(this)&&this.run()}get dirty(){return Cc(this)}}let E1=0,eo,no;function S1(e,t=!1){if(e.flags|=8,t){e.next=no,no=e;return}e.next=eo,eo=e}function fu(){E1++}function du(){if(--E1>0)return;if(no){let t=no;for(no=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;eo;){let t=eo;for(eo=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function I1(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function T1(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),gu(i),Am(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function Cc(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(M1(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function M1(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===go))return;e.globalVersion=go;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Cc(e)){e.flags&=-3;return}const n=Ee,i=ii;Ee=e,ii=!0;try{I1(e);const r=e.fn(e._value);(t.version===0||os(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Ee=n,ii=i,T1(e),e.flags&=-3}}function gu(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)gu(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Am(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ii=!0;const O1=[];function hs(){O1.push(ii),ii=!1}function fs(){const e=O1.pop();ii=e===void 0?!0:e}function wh(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ee;Ee=void 0;try{t()}finally{Ee=n}}}let go=0;class Cm{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class pu{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ee||!ii||Ee===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ee)n=this.activeLink=new Cm(Ee,this),Ee.deps?(n.prevDep=Ee.depsTail,Ee.depsTail.nextDep=n,Ee.depsTail=n):Ee.deps=Ee.depsTail=n,v1(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Ee.depsTail,n.nextDep=void 0,Ee.depsTail.nextDep=n,Ee.depsTail=n,Ee.deps===n&&(Ee.deps=i)}return n}trigger(t){this.version++,go++,this.notify(t)}notify(t){fu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{du()}}}function v1(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)v1(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const _c=new WeakMap,Rs=Symbol(""),Ec=Symbol(""),po=Symbol("");function un(e,t,n){if(ii&&Ee){let i=_c.get(e);i||_c.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new pu),r.map=i,r.key=n),r.track()}}function Ni(e,t,n,i,r,o){const c=_c.get(e);if(!c){go++;return}const h=g=>{g&&g.trigger()};if(fu(),t==="clear")c.forEach(h);else{const g=kt(e),p=g&&uu(n);if(g&&n==="length"){const x=Number(i);c.forEach((w,A)=>{(A==="length"||A===po||!_i(A)&&A>=x)&&h(w)})}else switch((n!==void 0||c.has(void 0))&&h(c.get(n)),p&&h(c.get(po)),t){case"add":g?p&&h(c.get("length")):(h(c.get(Rs)),cr(e)&&h(c.get(Ec)));break;case"delete":g||(h(c.get(Rs)),cr(e)&&h(c.get(Ec)));break;case"set":cr(e)&&h(c.get(Rs));break}}du()}function tr(e){const t=ue(e);return t===e?t:(un(t,"iterate",po),Qn(e)?t:t.map(hn))}function ol(e){return un(e=ue(e),"iterate",po),e}const _m={__proto__:null,[Symbol.iterator](){return Xl(this,Symbol.iterator,hn)},concat(...e){return tr(this).concat(...e.map(t=>kt(t)?tr(t):t))},entries(){return Xl(this,"entries",e=>(e[1]=hn(e[1]),e))},every(e,t){return Si(this,"every",e,t,void 0,arguments)},filter(e,t){return Si(this,"filter",e,t,n=>n.map(hn),arguments)},find(e,t){return Si(this,"find",e,t,hn,arguments)},findIndex(e,t){return Si(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Si(this,"findLast",e,t,hn,arguments)},findLastIndex(e,t){return Si(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Si(this,"forEach",e,t,void 0,arguments)},includes(...e){return Kl(this,"includes",e)},indexOf(...e){return Kl(this,"indexOf",e)},join(e){return tr(this).join(e)},lastIndexOf(...e){return Kl(this,"lastIndexOf",e)},map(e,t){return Si(this,"map",e,t,void 0,arguments)},pop(){return Br(this,"pop")},push(...e){return Br(this,"push",e)},reduce(e,...t){return yh(this,"reduce",e,t)},reduceRight(e,...t){return yh(this,"reduceRight",e,t)},shift(){return Br(this,"shift")},some(e,t){return Si(this,"some",e,t,void 0,arguments)},splice(...e){return Br(this,"splice",e)},toReversed(){return tr(this).toReversed()},toSorted(e){return tr(this).toSorted(e)},toSpliced(...e){return tr(this).toSpliced(...e)},unshift(...e){return Br(this,"unshift",e)},values(){return Xl(this,"values",hn)}};function Xl(e,t,n){const i=ol(e),r=i[t]();return i!==e&&!Qn(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=n(o.value)),o}),r}const Em=Array.prototype;function Si(e,t,n,i,r,o){const c=ol(e),h=c!==e&&!Qn(e),g=c[t];if(g!==Em[t]){const w=g.apply(e,o);return h?hn(w):w}let p=n;c!==e&&(h?p=function(w,A){return n.call(this,hn(w),A,e)}:n.length>2&&(p=function(w,A){return n.call(this,w,A,e)}));const x=g.call(c,p,i);return h&&r?r(x):x}function yh(e,t,n,i){const r=ol(e);let o=n;return r!==e&&(Qn(e)?n.length>3&&(o=function(c,h,g){return n.call(this,c,h,g,e)}):o=function(c,h,g){return n.call(this,c,hn(h),g,e)}),r[t](o,...i)}function Kl(e,t,n){const i=ue(e);un(i,"iterate",po);const r=i[t](...n);return(r===-1||r===!1)&&bu(n[0])?(n[0]=ue(n[0]),i[t](...n)):r}function Br(e,t,n=[]){hs(),fu();const i=ue(e)[t].apply(e,n);return du(),fs(),i}const Sm=au("__proto__,__v_isRef,__isVue"),R1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(_i));function Im(e){_i(e)||(e=String(e));const t=ue(this);return un(t,"has",e),t.hasOwnProperty(e)}class D1{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(r?o?Lm:L1:o?P1:k1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const c=kt(t);if(!r){let g;if(c&&(g=_m[n]))return g;if(n==="hasOwnProperty")return Im}const h=Reflect.get(t,n,pn(t)?t:i);return(_i(n)?R1.has(n):Sm(n))||(r||un(t,"get",n),o)?h:pn(h)?c&&uu(n)?h:h.value:Ie(h)?r?F1(h):ko(h):h}}class N1 extends D1{constructor(t=!1){super(!1,t)}set(t,n,i,r){let o=t[n];if(!this._isShallow){const g=Ps(o);if(!Qn(i)&&!Ps(i)&&(o=ue(o),i=ue(i)),!kt(t)&&pn(o)&&!pn(i))return g?!1:(o.value=i,!0)}const c=kt(t)&&uu(n)?Number(n)<t.length:he(t,n),h=Reflect.set(t,n,i,pn(t)?t:r);return t===ue(r)&&(c?os(i,o)&&Ni(t,"set",n,i):Ni(t,"add",n,i)),h}deleteProperty(t,n){const i=he(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&Ni(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!_i(n)||!R1.has(n))&&un(t,"has",n),i}ownKeys(t){return un(t,"iterate",kt(t)?"length":Rs),Reflect.ownKeys(t)}}class Tm extends D1{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Mm=new N1,Om=new Tm,vm=new N1(!0);const Sc=e=>e,$o=e=>Reflect.getPrototypeOf(e);function Rm(e,t,n){return function(...i){const r=this.__v_raw,o=ue(r),c=cr(o),h=e==="entries"||e===Symbol.iterator&&c,g=e==="keys"&&c,p=r[e](...i),x=n?Sc:t?Ic:hn;return!t&&un(o,"iterate",g?Ec:Rs),{next(){const{value:w,done:A}=p.next();return A?{value:w,done:A}:{value:h?[x(w[0]),x(w[1])]:x(w),done:A}},[Symbol.iterator](){return this}}}}function Jo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Dm(e,t){const n={get(r){const o=this.__v_raw,c=ue(o),h=ue(r);e||(os(r,h)&&un(c,"get",r),un(c,"get",h));const{has:g}=$o(c),p=t?Sc:e?Ic:hn;if(g.call(c,r))return p(o.get(r));if(g.call(c,h))return p(o.get(h));o!==c&&o.get(r)},get size(){const r=this.__v_raw;return!e&&un(ue(r),"iterate",Rs),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,c=ue(o),h=ue(r);return e||(os(r,h)&&un(c,"has",r),un(c,"has",h)),r===h?o.has(r):o.has(r)||o.has(h)},forEach(r,o){const c=this,h=c.__v_raw,g=ue(h),p=t?Sc:e?Ic:hn;return!e&&un(g,"iterate",Rs),h.forEach((x,w)=>r.call(o,p(x),p(w),c))}};return mn(n,e?{add:Jo("add"),set:Jo("set"),delete:Jo("delete"),clear:Jo("clear")}:{add(r){!t&&!Qn(r)&&!Ps(r)&&(r=ue(r));const o=ue(this);return $o(o).has.call(o,r)||(o.add(r),Ni(o,"add",r,r)),this},set(r,o){!t&&!Qn(o)&&!Ps(o)&&(o=ue(o));const c=ue(this),{has:h,get:g}=$o(c);let p=h.call(c,r);p||(r=ue(r),p=h.call(c,r));const x=g.call(c,r);return c.set(r,o),p?os(o,x)&&Ni(c,"set",r,o):Ni(c,"add",r,o),this},delete(r){const o=ue(this),{has:c,get:h}=$o(o);let g=c.call(o,r);g||(r=ue(r),g=c.call(o,r)),h&&h.call(o,r);const p=o.delete(r);return g&&Ni(o,"delete",r,void 0),p},clear(){const r=ue(this),o=r.size!==0,c=r.clear();return o&&Ni(r,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Rm(r,e,t)}),n}function mu(e,t){const n=Dm(e,t);return(i,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(he(n,r)&&r in i?n:i,r,o)}const Nm={get:mu(!1,!1)},km={get:mu(!1,!0)},Pm={get:mu(!0,!1)};const k1=new WeakMap,P1=new WeakMap,L1=new WeakMap,Lm=new WeakMap;function Bm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fm(e){return e.__v_skip||!Object.isExtensible(e)?0:Bm(cm(e))}function ko(e){return Ps(e)?e:xu(e,!1,Mm,Nm,k1)}function B1(e){return xu(e,!1,vm,km,P1)}function F1(e){return xu(e,!0,Om,Pm,L1)}function xu(e,t,n,i,r){if(!Ie(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const c=Fm(e);if(c===0)return e;const h=new Proxy(e,c===2?i:n);return r.set(e,h),h}function ur(e){return Ps(e)?ur(e.__v_raw):!!(e&&e.__v_isReactive)}function Ps(e){return!!(e&&e.__v_isReadonly)}function Qn(e){return!!(e&&e.__v_isShallow)}function bu(e){return e?!!e.__v_raw:!1}function ue(e){const t=e&&e.__v_raw;return t?ue(t):e}function Um(e){return!he(e,"__v_skip")&&Object.isExtensible(e)&&b1(e,"__v_skip",!0),e}const hn=e=>Ie(e)?ko(e):e,Ic=e=>Ie(e)?F1(e):e;function pn(e){return e?e.__v_isRef===!0:!1}function U1(e){return V1(e,!1)}function Vm(e){return V1(e,!0)}function V1(e,t){return pn(e)?e:new Hm(e,t)}class Hm{constructor(t,n){this.dep=new pu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ue(t),this._value=n?t:hn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Qn(t)||Ps(t);t=i?t:ue(t),os(t,n)&&(this._rawValue=t,this._value=i?t:hn(t),this.dep.trigger())}}function hr(e){return pn(e)?e.value:e}const zm={get:(e,t,n)=>t==="__v_raw"?e:hr(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return pn(r)&&!pn(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function H1(e){return ur(e)?e:new Proxy(e,zm)}class jm{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new pu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=go-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ee!==this)return S1(this,!0),!0}get value(){const t=this.dep.track();return M1(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Wm(e,t,n=!1){let i,r;return Ut(e)?i=e:(i=e.get,r=e.set),new jm(i,r,n)}const ta={},Pa=new WeakMap;let Is;function Gm(e,t=!1,n=Is){if(n){let i=Pa.get(n);i||Pa.set(n,i=[]),i.push(e)}}function Ym(e,t,n=Ae){const{immediate:i,deep:r,once:o,scheduler:c,augmentJob:h,call:g}=n,p=V=>r?V:Qn(V)||r===!1||r===0?ki(V,1):ki(V);let x,w,A,_,I=!1,T=!1;if(pn(e)?(w=()=>e.value,I=Qn(e)):ur(e)?(w=()=>p(e),I=!0):kt(e)?(T=!0,I=e.some(V=>ur(V)||Qn(V)),w=()=>e.map(V=>{if(pn(V))return V.value;if(ur(V))return p(V);if(Ut(V))return g?g(V,2):V()})):Ut(e)?t?w=g?()=>g(e,2):e:w=()=>{if(A){hs();try{A()}finally{fs()}}const V=Is;Is=x;try{return g?g(e,3,[_]):e(_)}finally{Is=V}}:w=Ai,t&&r){const V=w,W=r===!0?1/0:r;w=()=>ki(V(),W)}const v=ym(),k=()=>{x.stop(),v&&v.active&&cu(v.effects,x)};if(o&&t){const V=t;t=(...W)=>{V(...W),k()}}let L=T?new Array(e.length).fill(ta):ta;const F=V=>{if(!(!(x.flags&1)||!x.dirty&&!V))if(t){const W=x.run();if(r||I||(T?W.some((Q,H)=>os(Q,L[H])):os(W,L))){A&&A();const Q=Is;Is=x;try{const H=[W,L===ta?void 0:T&&L[0]===ta?[]:L,_];g?g(t,3,H):t(...H),L=W}finally{Is=Q}}}else x.run()};return h&&h(F),x=new _1(w),x.scheduler=c?()=>c(F,!1):F,_=V=>Gm(V,!1,x),A=x.onStop=()=>{const V=Pa.get(x);if(V){if(g)g(V,4);else for(const W of V)W();Pa.delete(x)}},t?i?F(!0):L=x.run():c?c(F.bind(null,!0),!0):x.run(),k.pause=x.pause.bind(x),k.resume=x.resume.bind(x),k.stop=k,k}function ki(e,t=1/0,n){if(t<=0||!Ie(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,pn(e))ki(e.value,t,n);else if(kt(e))for(let i=0;i<e.length;i++)ki(e[i],t,n);else if(_r(e)||cr(e))e.forEach(i=>{ki(i,t,n)});else if(x1(e)){for(const i in e)ki(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&ki(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Po(e,t,n,i){try{return i?e(...i):e()}catch(r){al(r,t,n)}}function Ei(e,t,n,i){if(Ut(e)){const r=Po(e,t,n,i);return r&&p1(r)&&r.catch(o=>{al(o,t,n)}),r}if(kt(e)){const r=[];for(let o=0;o<e.length;o++)r.push(Ei(e[o],t,n,i));return r}}function al(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||Ae;if(t){let h=t.parent;const g=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${n}`;for(;h;){const x=h.ec;if(x){for(let w=0;w<x.length;w++)if(x[w](e,g,p)===!1)return}h=h.parent}if(o){hs(),Po(o,null,10,[e,g,p]),fs();return}}Xm(e,n,r,i,c)}function Xm(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}const An=[];let xi=-1;const fr=[];let Qi=null,rr=0;const z1=Promise.resolve();let La=null;function wu(e){const t=La||z1;return e?t.then(this?e.bind(this):e):t}function Km(e){let t=xi+1,n=An.length;for(;t<n;){const i=t+n>>>1,r=An[i],o=mo(r);o<e||o===e&&r.flags&2?t=i+1:n=i}return t}function yu(e){if(!(e.flags&1)){const t=mo(e),n=An[An.length-1];!n||!(e.flags&2)&&t>=mo(n)?An.push(e):An.splice(Km(t),0,e),e.flags|=1,j1()}}function j1(){La||(La=z1.then(G1))}function Zm(e){kt(e)?fr.push(...e):Qi&&e.id===-1?Qi.splice(rr+1,0,e):e.flags&1||(fr.push(e),e.flags|=1),j1()}function Ah(e,t,n=xi+1){for(;n<An.length;n++){const i=An[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;An.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function W1(e){if(fr.length){const t=[...new Set(fr)].sort((n,i)=>mo(n)-mo(i));if(fr.length=0,Qi){Qi.push(...t);return}for(Qi=t,rr=0;rr<Qi.length;rr++){const n=Qi[rr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qi=null,rr=0}}const mo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function G1(e){try{for(xi=0;xi<An.length;xi++){const t=An[xi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Po(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;xi<An.length;xi++){const t=An[xi];t&&(t.flags&=-2)}xi=-1,An.length=0,W1(),La=null,(An.length||fr.length)&&G1()}}let Vn=null,Y1=null;function Ba(e){const t=Vn;return Vn=e,Y1=e&&e.type.__scopeId||null,t}function Ls(e,t=Vn,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&Rh(-1);const o=Ba(t);let c;try{c=e(...r)}finally{Ba(o),i._d&&Rh(1)}return c};return i._n=!0,i._c=!0,i._d=!0,i}function fe(e,t){if(Vn===null)return e;const n=hl(Vn),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,c,h,g=Ae]=t[r];o&&(Ut(o)&&(o={mounted:o,updated:o}),o.deep&&ki(c),i.push({dir:o,instance:n,value:c,oldValue:void 0,arg:h,modifiers:g}))}return e}function ys(e,t,n,i){const r=e.dirs,o=t&&t.dirs;for(let c=0;c<r.length;c++){const h=r[c];o&&(h.oldValue=o[c].value);let g=h.dir[i];g&&(hs(),Ei(g,n,8,[e.el,h,e,t]),fs())}}const qm=Symbol("_vte"),Qm=e=>e.__isTeleport;function Au(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Au(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function X1(e,t){return Ut(e)?mn({name:e.name},t,{setup:e}):e}function K1(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Fa(e,t,n,i,r=!1){if(kt(e)){e.forEach((I,T)=>Fa(I,t&&(kt(t)?t[T]:t),n,i,r));return}if(io(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Fa(e,t,n,i.component.subTree);return}const o=i.shapeFlag&4?hl(i.component):i.el,c=r?null:o,{i:h,r:g}=e,p=t&&t.r,x=h.refs===Ae?h.refs={}:h.refs,w=h.setupState,A=ue(w),_=w===Ae?()=>!1:I=>he(A,I);if(p!=null&&p!==g&&(Ge(p)?(x[p]=null,_(p)&&(w[p]=null)):pn(p)&&(p.value=null)),Ut(g))Po(g,h,12,[c,x]);else{const I=Ge(g),T=pn(g);if(I||T){const v=()=>{if(e.f){const k=I?_(g)?w[g]:x[g]:g.value;r?kt(k)&&cu(k,o):kt(k)?k.includes(o)||k.push(o):I?(x[g]=[o],_(g)&&(w[g]=x[g])):(g.value=[o],e.k&&(x[e.k]=g.value))}else I?(x[g]=c,_(g)&&(w[g]=c)):T&&(g.value=c,e.k&&(x[e.k]=c))};c?(v.id=-1,Nn(v,n)):v()}}}sl().requestIdleCallback;sl().cancelIdleCallback;const io=e=>!!e.type.__asyncLoader,Z1=e=>e.type.__isKeepAlive;function $m(e,t){q1(e,"a",t)}function Jm(e,t){q1(e,"da",t)}function q1(e,t,n=fn){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ll(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Z1(r.parent.vnode)&&tx(i,t,n,r),r=r.parent}}function tx(e,t,n,i){const r=ll(t,e,i,!0);$1(()=>{cu(i[t],r)},n)}function ll(e,t,n=fn,i=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...c)=>{hs();const h=Lo(n),g=Ei(t,n,e,c);return h(),fs(),g});return i?r.unshift(o):r.push(o),o}}const Hi=e=>(t,n=fn)=>{(!wo||e==="sp")&&ll(e,(...i)=>t(...i),n)},ex=Hi("bm"),Q1=Hi("m"),nx=Hi("bu"),ix=Hi("u"),sx=Hi("bum"),$1=Hi("um"),rx=Hi("sp"),ox=Hi("rtg"),ax=Hi("rtc");function lx(e,t=fn){ll("ec",e,t)}const J1="components";function Xe(e,t){return e0(J1,e,!0,t)||e}const t0=Symbol.for("v-ndc");function cx(e){return Ge(e)?e0(J1,e,!1)||e:e||t0}function e0(e,t,n=!0,i=!1){const r=Vn||fn;if(r){const o=r.type;{const h=Zx(o,!1);if(h&&(h===t||h===$n(t)||h===il($n(t))))return o}const c=Ch(r[e]||o[e],t)||Ch(r.appContext[e],t);return!c&&i?o:c}}function Ch(e,t){return e&&(e[t]||e[$n(t)]||e[il($n(t))])}function Bs(e,t,n,i){let r;const o=n,c=kt(e);if(c||Ge(e)){const h=c&&ur(e);let g=!1;h&&(g=!Qn(e),e=ol(e)),r=new Array(e.length);for(let p=0,x=e.length;p<x;p++)r[p]=t(g?hn(e[p]):e[p],p,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let h=0;h<e;h++)r[h]=t(h+1,h,void 0,o)}else if(Ie(e))if(e[Symbol.iterator])r=Array.from(e,(h,g)=>t(h,g,void 0,o));else{const h=Object.keys(e);r=new Array(h.length);for(let g=0,p=h.length;g<p;g++){const x=h[g];r[g]=t(e[x],x,g,o)}}else r=[];return r}const Tc=e=>e?_0(e)?hl(e):Tc(e.parent):null,so=mn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tc(e.parent),$root:e=>Tc(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>i0(e),$forceUpdate:e=>e.f||(e.f=()=>{yu(e.update)}),$nextTick:e=>e.n||(e.n=wu.bind(e.proxy)),$watch:e=>vx.bind(e)}),Zl=(e,t)=>e!==Ae&&!e.__isScriptSetup&&he(e,t),ux={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:o,accessCache:c,type:h,appContext:g}=e;let p;if(t[0]!=="$"){const _=c[t];if(_!==void 0)switch(_){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Zl(i,t))return c[t]=1,i[t];if(r!==Ae&&he(r,t))return c[t]=2,r[t];if((p=e.propsOptions[0])&&he(p,t))return c[t]=3,o[t];if(n!==Ae&&he(n,t))return c[t]=4,n[t];Mc&&(c[t]=0)}}const x=so[t];let w,A;if(x)return t==="$attrs"&&un(e.attrs,"get",""),x(e);if((w=h.__cssModules)&&(w=w[t]))return w;if(n!==Ae&&he(n,t))return c[t]=4,n[t];if(A=g.config.globalProperties,he(A,t))return A[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:o}=e;return Zl(r,t)?(r[t]=n,!0):i!==Ae&&he(i,t)?(i[t]=n,!0):he(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:o}},c){let h;return!!n[c]||e!==Ae&&he(e,c)||Zl(t,c)||(h=o[0])&&he(h,c)||he(i,c)||he(so,c)||he(r.config.globalProperties,c)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:he(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _h(e){return kt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Mc=!0;function hx(e){const t=i0(e),n=e.proxy,i=e.ctx;Mc=!1,t.beforeCreate&&Eh(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:c,watch:h,provide:g,inject:p,created:x,beforeMount:w,mounted:A,beforeUpdate:_,updated:I,activated:T,deactivated:v,beforeDestroy:k,beforeUnmount:L,destroyed:F,unmounted:V,render:W,renderTracked:Q,renderTriggered:H,errorCaptured:et,serverPrefetch:K,expose:Mt,inheritAttrs:At,components:ht,directives:Ot,filters:Xt}=t;if(p&&fx(p,i,null),c)for(const ct in c){const Bt=c[ct];Ut(Bt)&&(i[ct]=Bt.bind(n))}if(r){const ct=r.call(n,n);Ie(ct)&&(e.data=ko(ct))}if(Mc=!0,o)for(const ct in o){const Bt=o[ct],te=Ut(Bt)?Bt.bind(n,n):Ut(Bt.get)?Bt.get.bind(n,n):Ai,Ne=!Ut(Bt)&&Ut(Bt.set)?Bt.set.bind(n):Ai,Qe=qn({get:te,set:Ne});Object.defineProperty(i,ct,{enumerable:!0,configurable:!0,get:()=>Qe.value,set:qt=>Qe.value=qt})}if(h)for(const ct in h)n0(h[ct],i,n,ct);if(g){const ct=Ut(g)?g.call(n):g;Reflect.ownKeys(ct).forEach(Bt=>{ba(Bt,ct[Bt])})}x&&Eh(x,e,"c");function _t(ct,Bt){kt(Bt)?Bt.forEach(te=>ct(te.bind(n))):Bt&&ct(Bt.bind(n))}if(_t(ex,w),_t(Q1,A),_t(nx,_),_t(ix,I),_t($m,T),_t(Jm,v),_t(lx,et),_t(ax,Q),_t(ox,H),_t(sx,L),_t($1,V),_t(rx,K),kt(Mt))if(Mt.length){const ct=e.exposed||(e.exposed={});Mt.forEach(Bt=>{Object.defineProperty(ct,Bt,{get:()=>n[Bt],set:te=>n[Bt]=te})})}else e.exposed||(e.exposed={});W&&e.render===Ai&&(e.render=W),At!=null&&(e.inheritAttrs=At),ht&&(e.components=ht),Ot&&(e.directives=Ot),K&&K1(e)}function fx(e,t,n=Ai){kt(e)&&(e=Oc(e));for(const i in e){const r=e[i];let o;Ie(r)?"default"in r?o=Ui(r.from||i,r.default,!0):o=Ui(r.from||i):o=Ui(r),pn(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:c=>o.value=c}):t[i]=o}}function Eh(e,t,n){Ei(kt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function n0(e,t,n,i){let r=i.includes(".")?x0(n,i):()=>n[i];if(Ge(e)){const o=t[e];Ut(o)&&gr(r,o)}else if(Ut(e))gr(r,e.bind(n));else if(Ie(e))if(kt(e))e.forEach(o=>n0(o,t,n,i));else{const o=Ut(e.handler)?e.handler.bind(n):t[e.handler];Ut(o)&&gr(r,o,e)}}function i0(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:c}}=e.appContext,h=o.get(t);let g;return h?g=h:!r.length&&!n&&!i?g=t:(g={},r.length&&r.forEach(p=>Ua(g,p,c,!0)),Ua(g,t,c)),Ie(t)&&o.set(t,g),g}function Ua(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&Ua(e,o,n,!0),r&&r.forEach(c=>Ua(e,c,n,!0));for(const c in t)if(!(i&&c==="expose")){const h=dx[c]||n&&n[c];e[c]=h?h(e[c],t[c]):t[c]}return e}const dx={data:Sh,props:Ih,emits:Ih,methods:Yr,computed:Yr,beforeCreate:yn,created:yn,beforeMount:yn,mounted:yn,beforeUpdate:yn,updated:yn,beforeDestroy:yn,beforeUnmount:yn,destroyed:yn,unmounted:yn,activated:yn,deactivated:yn,errorCaptured:yn,serverPrefetch:yn,components:Yr,directives:Yr,watch:px,provide:Sh,inject:gx};function Sh(e,t){return t?e?function(){return mn(Ut(e)?e.call(this,this):e,Ut(t)?t.call(this,this):t)}:t:e}function gx(e,t){return Yr(Oc(e),Oc(t))}function Oc(e){if(kt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function yn(e,t){return e?[...new Set([].concat(e,t))]:t}function Yr(e,t){return e?mn(Object.create(null),e,t):t}function Ih(e,t){return e?kt(e)&&kt(t)?[...new Set([...e,...t])]:mn(Object.create(null),_h(e),_h(t??{})):t}function px(e,t){if(!e)return t;if(!t)return e;const n=mn(Object.create(null),e);for(const i in t)n[i]=yn(e[i],t[i]);return n}function s0(){return{app:null,config:{isNativeTag:am,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mx=0;function xx(e,t){return function(i,r=null){Ut(i)||(i=mn({},i)),r!=null&&!Ie(r)&&(r=null);const o=s0(),c=new WeakSet,h=[];let g=!1;const p=o.app={_uid:mx++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:Qx,get config(){return o.config},set config(x){},use(x,...w){return c.has(x)||(x&&Ut(x.install)?(c.add(x),x.install(p,...w)):Ut(x)&&(c.add(x),x(p,...w))),p},mixin(x){return o.mixins.includes(x)||o.mixins.push(x),p},component(x,w){return w?(o.components[x]=w,p):o.components[x]},directive(x,w){return w?(o.directives[x]=w,p):o.directives[x]},mount(x,w,A){if(!g){const _=p._ceVNode||$t(i,r);return _.appContext=o,A===!0?A="svg":A===!1&&(A=void 0),e(_,x,A),g=!0,p._container=x,x.__vue_app__=p,hl(_.component)}},onUnmount(x){h.push(x)},unmount(){g&&(Ei(h,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(x,w){return o.provides[x]=w,p},runWithContext(x){const w=dr;dr=p;try{return x()}finally{dr=w}}};return p}}let dr=null;function ba(e,t){if(fn){let n=fn.provides;const i=fn.parent&&fn.parent.provides;i===n&&(n=fn.provides=Object.create(i)),n[e]=t}}function Ui(e,t,n=!1){const i=fn||Vn;if(i||dr){const r=dr?dr._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Ut(t)?t.call(i&&i.proxy):t}}const r0={},o0=()=>Object.create(r0),a0=e=>Object.getPrototypeOf(e)===r0;function bx(e,t,n,i=!1){const r={},o=o0();e.propsDefaults=Object.create(null),l0(e,t,r,o);for(const c in e.propsOptions[0])c in r||(r[c]=void 0);n?e.props=i?r:B1(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function wx(e,t,n,i){const{props:r,attrs:o,vnode:{patchFlag:c}}=e,h=ue(r),[g]=e.propsOptions;let p=!1;if((i||c>0)&&!(c&16)){if(c&8){const x=e.vnode.dynamicProps;for(let w=0;w<x.length;w++){let A=x[w];if(cl(e.emitsOptions,A))continue;const _=t[A];if(g)if(he(o,A))_!==o[A]&&(o[A]=_,p=!0);else{const I=$n(A);r[I]=vc(g,h,I,_,e,!1)}else _!==o[A]&&(o[A]=_,p=!0)}}}else{l0(e,t,r,o)&&(p=!0);let x;for(const w in h)(!t||!he(t,w)&&((x=zs(w))===w||!he(t,x)))&&(g?n&&(n[w]!==void 0||n[x]!==void 0)&&(r[w]=vc(g,h,w,void 0,e,!0)):delete r[w]);if(o!==h)for(const w in o)(!t||!he(t,w))&&(delete o[w],p=!0)}p&&Ni(e.attrs,"set","")}function l0(e,t,n,i){const[r,o]=e.propsOptions;let c=!1,h;if(t)for(let g in t){if(to(g))continue;const p=t[g];let x;r&&he(r,x=$n(g))?!o||!o.includes(x)?n[x]=p:(h||(h={}))[x]=p:cl(e.emitsOptions,g)||(!(g in i)||p!==i[g])&&(i[g]=p,c=!0)}if(o){const g=ue(n),p=h||Ae;for(let x=0;x<o.length;x++){const w=o[x];n[w]=vc(r,g,w,p[w],e,!he(p,w))}}return c}function vc(e,t,n,i,r,o){const c=e[n];if(c!=null){const h=he(c,"default");if(h&&i===void 0){const g=c.default;if(c.type!==Function&&!c.skipFactory&&Ut(g)){const{propsDefaults:p}=r;if(n in p)i=p[n];else{const x=Lo(r);i=p[n]=g.call(null,t),x()}}else i=g;r.ce&&r.ce._setProp(n,i)}c[0]&&(o&&!h?i=!1:c[1]&&(i===""||i===zs(n))&&(i=!0))}return i}const yx=new WeakMap;function c0(e,t,n=!1){const i=n?yx:t.propsCache,r=i.get(e);if(r)return r;const o=e.props,c={},h=[];let g=!1;if(!Ut(e)){const x=w=>{g=!0;const[A,_]=c0(w,t,!0);mn(c,A),_&&h.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(x),e.extends&&x(e.extends),e.mixins&&e.mixins.forEach(x)}if(!o&&!g)return Ie(e)&&i.set(e,lr),lr;if(kt(o))for(let x=0;x<o.length;x++){const w=$n(o[x]);Th(w)&&(c[w]=Ae)}else if(o)for(const x in o){const w=$n(x);if(Th(w)){const A=o[x],_=c[w]=kt(A)||Ut(A)?{type:A}:mn({},A),I=_.type;let T=!1,v=!0;if(kt(I))for(let k=0;k<I.length;++k){const L=I[k],F=Ut(L)&&L.name;if(F==="Boolean"){T=!0;break}else F==="String"&&(v=!1)}else T=Ut(I)&&I.name==="Boolean";_[0]=T,_[1]=v,(T||he(_,"default"))&&h.push(w)}}const p=[c,h];return Ie(e)&&i.set(e,p),p}function Th(e){return e[0]!=="$"&&!to(e)}const u0=e=>e[0]==="_"||e==="$stable",Cu=e=>kt(e)?e.map(yi):[yi(e)],Ax=(e,t,n)=>{if(t._n)return t;const i=Ls((...r)=>Cu(t(...r)),n);return i._c=!1,i},h0=(e,t,n)=>{const i=e._ctx;for(const r in e){if(u0(r))continue;const o=e[r];if(Ut(o))t[r]=Ax(r,o,i);else if(o!=null){const c=Cu(o);t[r]=()=>c}}},f0=(e,t)=>{const n=Cu(t);e.slots.default=()=>n},d0=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},Cx=(e,t,n)=>{const i=e.slots=o0();if(e.vnode.shapeFlag&32){const r=t._;r?(d0(i,t,n),n&&b1(i,"_",r,!0)):h0(t,i)}else t&&f0(e,t)},_x=(e,t,n)=>{const{vnode:i,slots:r}=e;let o=!0,c=Ae;if(i.shapeFlag&32){const h=t._;h?n&&h===1?o=!1:d0(r,t,n):(o=!t.$stable,h0(t,r)),c=t}else t&&(f0(e,t),c={default:1});if(o)for(const h in r)!u0(h)&&c[h]==null&&delete r[h]},Nn=Bx;function Ex(e){return Sx(e)}function Sx(e,t){const n=sl();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:c,createText:h,createComment:g,setText:p,setElementText:x,parentNode:w,nextSibling:A,setScopeId:_=Ai,insertStaticContent:I}=e,T=(P,N,z,tt=null,st=null,J=null,ot=void 0,it=null,dt=!!N.dynamicChildren)=>{if(P===N)return;P&&!Fr(P,N)&&(tt=nt(P),qt(P,st,J,!0),P=null),N.patchFlag===-2&&(dt=!1,N.dynamicChildren=null);const{type:X,ref:Rt,shapeFlag:bt}=N;switch(X){case ul:v(P,N,z,tt);break;case Fs:k(P,N,z,tt);break;case wa:P==null&&L(N,z,tt,ot);break;case Pe:ht(P,N,z,tt,st,J,ot,it,dt);break;default:bt&1?W(P,N,z,tt,st,J,ot,it,dt):bt&6?Ot(P,N,z,tt,st,J,ot,it,dt):(bt&64||bt&128)&&X.process(P,N,z,tt,st,J,ot,it,dt,Ct)}Rt!=null&&st&&Fa(Rt,P&&P.ref,J,N||P,!N)},v=(P,N,z,tt)=>{if(P==null)i(N.el=h(N.children),z,tt);else{const st=N.el=P.el;N.children!==P.children&&p(st,N.children)}},k=(P,N,z,tt)=>{P==null?i(N.el=g(N.children||""),z,tt):N.el=P.el},L=(P,N,z,tt)=>{[P.el,P.anchor]=I(P.children,N,z,tt,P.el,P.anchor)},F=({el:P,anchor:N},z,tt)=>{let st;for(;P&&P!==N;)st=A(P),i(P,z,tt),P=st;i(N,z,tt)},V=({el:P,anchor:N})=>{let z;for(;P&&P!==N;)z=A(P),r(P),P=z;r(N)},W=(P,N,z,tt,st,J,ot,it,dt)=>{N.type==="svg"?ot="svg":N.type==="math"&&(ot="mathml"),P==null?Q(N,z,tt,st,J,ot,it,dt):K(P,N,st,J,ot,it,dt)},Q=(P,N,z,tt,st,J,ot,it)=>{let dt,X;const{props:Rt,shapeFlag:bt,transition:Et,dirs:Pt}=P;if(dt=P.el=c(P.type,J,Rt&&Rt.is,Rt),bt&8?x(dt,P.children):bt&16&&et(P.children,dt,null,tt,st,ql(P,J),ot,it),Pt&&ys(P,null,tt,"created"),H(dt,P,P.scopeId,ot,tt),Rt){for(const de in Rt)de!=="value"&&!to(de)&&o(dt,de,null,Rt[de],J,tt);"value"in Rt&&o(dt,"value",null,Rt.value,J),(X=Rt.onVnodeBeforeMount)&&gi(X,tt,P)}Pt&&ys(P,null,tt,"beforeMount");const Ft=Ix(st,Et);Ft&&Et.beforeEnter(dt),i(dt,N,z),((X=Rt&&Rt.onVnodeMounted)||Ft||Pt)&&Nn(()=>{X&&gi(X,tt,P),Ft&&Et.enter(dt),Pt&&ys(P,null,tt,"mounted")},st)},H=(P,N,z,tt,st)=>{if(z&&_(P,z),tt)for(let J=0;J<tt.length;J++)_(P,tt[J]);if(st){let J=st.subTree;if(N===J||w0(J.type)&&(J.ssContent===N||J.ssFallback===N)){const ot=st.vnode;H(P,ot,ot.scopeId,ot.slotScopeIds,st.parent)}}},et=(P,N,z,tt,st,J,ot,it,dt=0)=>{for(let X=dt;X<P.length;X++){const Rt=P[X]=it?$i(P[X]):yi(P[X]);T(null,Rt,N,z,tt,st,J,ot,it)}},K=(P,N,z,tt,st,J,ot)=>{const it=N.el=P.el;let{patchFlag:dt,dynamicChildren:X,dirs:Rt}=N;dt|=P.patchFlag&16;const bt=P.props||Ae,Et=N.props||Ae;let Pt;if(z&&As(z,!1),(Pt=Et.onVnodeBeforeUpdate)&&gi(Pt,z,N,P),Rt&&ys(N,P,z,"beforeUpdate"),z&&As(z,!0),(bt.innerHTML&&Et.innerHTML==null||bt.textContent&&Et.textContent==null)&&x(it,""),X?Mt(P.dynamicChildren,X,it,z,tt,ql(N,st),J):ot||Bt(P,N,it,null,z,tt,ql(N,st),J,!1),dt>0){if(dt&16)At(it,bt,Et,z,st);else if(dt&2&&bt.class!==Et.class&&o(it,"class",null,Et.class,st),dt&4&&o(it,"style",bt.style,Et.style,st),dt&8){const Ft=N.dynamicProps;for(let de=0;de<Ft.length;de++){const Kt=Ft[de],ge=bt[Kt],en=Et[Kt];(en!==ge||Kt==="value")&&o(it,Kt,ge,en,st,z)}}dt&1&&P.children!==N.children&&x(it,N.children)}else!ot&&X==null&&At(it,bt,Et,z,st);((Pt=Et.onVnodeUpdated)||Rt)&&Nn(()=>{Pt&&gi(Pt,z,N,P),Rt&&ys(N,P,z,"updated")},tt)},Mt=(P,N,z,tt,st,J,ot)=>{for(let it=0;it<N.length;it++){const dt=P[it],X=N[it],Rt=dt.el&&(dt.type===Pe||!Fr(dt,X)||dt.shapeFlag&70)?w(dt.el):z;T(dt,X,Rt,null,tt,st,J,ot,!0)}},At=(P,N,z,tt,st)=>{if(N!==z){if(N!==Ae)for(const J in N)!to(J)&&!(J in z)&&o(P,J,N[J],null,st,tt);for(const J in z){if(to(J))continue;const ot=z[J],it=N[J];ot!==it&&J!=="value"&&o(P,J,it,ot,st,tt)}"value"in z&&o(P,"value",N.value,z.value,st)}},ht=(P,N,z,tt,st,J,ot,it,dt)=>{const X=N.el=P?P.el:h(""),Rt=N.anchor=P?P.anchor:h("");let{patchFlag:bt,dynamicChildren:Et,slotScopeIds:Pt}=N;Pt&&(it=it?it.concat(Pt):Pt),P==null?(i(X,z,tt),i(Rt,z,tt),et(N.children||[],z,Rt,st,J,ot,it,dt)):bt>0&&bt&64&&Et&&P.dynamicChildren?(Mt(P.dynamicChildren,Et,z,st,J,ot,it),(N.key!=null||st&&N===st.subTree)&&g0(P,N,!0)):Bt(P,N,z,Rt,st,J,ot,it,dt)},Ot=(P,N,z,tt,st,J,ot,it,dt)=>{N.slotScopeIds=it,P==null?N.shapeFlag&512?st.ctx.activate(N,z,tt,ot,dt):Xt(N,z,tt,st,J,ot,dt):G(P,N,dt)},Xt=(P,N,z,tt,st,J,ot)=>{const it=P.component=Wx(P,tt,st);if(Z1(P)&&(it.ctx.renderer=Ct),Gx(it,!1,ot),it.asyncDep){if(st&&st.registerDep(it,_t,ot),!P.el){const dt=it.subTree=$t(Fs);k(null,dt,N,z)}}else _t(it,P,N,z,st,J,ot)},G=(P,N,z)=>{const tt=N.component=P.component;if(Px(P,N,z))if(tt.asyncDep&&!tt.asyncResolved){ct(tt,N,z);return}else tt.next=N,tt.update();else N.el=P.el,tt.vnode=N},_t=(P,N,z,tt,st,J,ot)=>{const it=()=>{if(P.isMounted){let{next:bt,bu:Et,u:Pt,parent:Ft,vnode:de}=P;{const jn=p0(P);if(jn){bt&&(bt.el=de.el,ct(P,bt,ot)),jn.asyncDep.then(()=>{P.isUnmounted||it()});return}}let Kt=bt,ge;As(P,!1),bt?(bt.el=de.el,ct(P,bt,ot)):bt=de,Et&&xa(Et),(ge=bt.props&&bt.props.onVnodeBeforeUpdate)&&gi(ge,Ft,bt,de),As(P,!0);const en=Oh(P),bn=P.subTree;P.subTree=en,T(bn,en,w(bn.el),nt(bn),P,st,J),bt.el=en.el,Kt===null&&Lx(P,en.el),Pt&&Nn(Pt,st),(ge=bt.props&&bt.props.onVnodeUpdated)&&Nn(()=>gi(ge,Ft,bt,de),st)}else{let bt;const{el:Et,props:Pt}=N,{bm:Ft,m:de,parent:Kt,root:ge,type:en}=P,bn=io(N);As(P,!1),Ft&&xa(Ft),!bn&&(bt=Pt&&Pt.onVnodeBeforeMount)&&gi(bt,Kt,N),As(P,!0);{ge.ce&&ge.ce._injectChildStyle(en);const jn=P.subTree=Oh(P);T(null,jn,z,tt,P,st,J),N.el=jn.el}if(de&&Nn(de,st),!bn&&(bt=Pt&&Pt.onVnodeMounted)){const jn=N;Nn(()=>gi(bt,Kt,jn),st)}(N.shapeFlag&256||Kt&&io(Kt.vnode)&&Kt.vnode.shapeFlag&256)&&P.a&&Nn(P.a,st),P.isMounted=!0,N=z=tt=null}};P.scope.on();const dt=P.effect=new _1(it);P.scope.off();const X=P.update=dt.run.bind(dt),Rt=P.job=dt.runIfDirty.bind(dt);Rt.i=P,Rt.id=P.uid,dt.scheduler=()=>yu(Rt),As(P,!0),X()},ct=(P,N,z)=>{N.component=P;const tt=P.vnode.props;P.vnode=N,P.next=null,wx(P,N.props,tt,z),_x(P,N.children,z),hs(),Ah(P),fs()},Bt=(P,N,z,tt,st,J,ot,it,dt=!1)=>{const X=P&&P.children,Rt=P?P.shapeFlag:0,bt=N.children,{patchFlag:Et,shapeFlag:Pt}=N;if(Et>0){if(Et&128){Ne(X,bt,z,tt,st,J,ot,it,dt);return}else if(Et&256){te(X,bt,z,tt,st,J,ot,it,dt);return}}Pt&8?(Rt&16&&xt(X,st,J),bt!==X&&x(z,bt)):Rt&16?Pt&16?Ne(X,bt,z,tt,st,J,ot,it,dt):xt(X,st,J,!0):(Rt&8&&x(z,""),Pt&16&&et(bt,z,tt,st,J,ot,it,dt))},te=(P,N,z,tt,st,J,ot,it,dt)=>{P=P||lr,N=N||lr;const X=P.length,Rt=N.length,bt=Math.min(X,Rt);let Et;for(Et=0;Et<bt;Et++){const Pt=N[Et]=dt?$i(N[Et]):yi(N[Et]);T(P[Et],Pt,z,null,st,J,ot,it,dt)}X>Rt?xt(P,st,J,!0,!1,bt):et(N,z,tt,st,J,ot,it,dt,bt)},Ne=(P,N,z,tt,st,J,ot,it,dt)=>{let X=0;const Rt=N.length;let bt=P.length-1,Et=Rt-1;for(;X<=bt&&X<=Et;){const Pt=P[X],Ft=N[X]=dt?$i(N[X]):yi(N[X]);if(Fr(Pt,Ft))T(Pt,Ft,z,null,st,J,ot,it,dt);else break;X++}for(;X<=bt&&X<=Et;){const Pt=P[bt],Ft=N[Et]=dt?$i(N[Et]):yi(N[Et]);if(Fr(Pt,Ft))T(Pt,Ft,z,null,st,J,ot,it,dt);else break;bt--,Et--}if(X>bt){if(X<=Et){const Pt=Et+1,Ft=Pt<Rt?N[Pt].el:tt;for(;X<=Et;)T(null,N[X]=dt?$i(N[X]):yi(N[X]),z,Ft,st,J,ot,it,dt),X++}}else if(X>Et)for(;X<=bt;)qt(P[X],st,J,!0),X++;else{const Pt=X,Ft=X,de=new Map;for(X=Ft;X<=Et;X++){const ne=N[X]=dt?$i(N[X]):yi(N[X]);ne.key!=null&&de.set(ne.key,X)}let Kt,ge=0;const en=Et-Ft+1;let bn=!1,jn=0;const Ce=new Array(en);for(X=0;X<en;X++)Ce[X]=0;for(X=Pt;X<=bt;X++){const ne=P[X];if(ge>=en){qt(ne,st,J,!0);continue}let Zt;if(ne.key!=null)Zt=de.get(ne.key);else for(Kt=Ft;Kt<=Et;Kt++)if(Ce[Kt-Ft]===0&&Fr(ne,N[Kt])){Zt=Kt;break}Zt===void 0?qt(ne,st,J,!0):(Ce[Zt-Ft]=X+1,Zt>=jn?jn=Zt:bn=!0,T(ne,N[Zt],z,null,st,J,ot,it,dt),ge++)}const gt=bn?Tx(Ce):lr;for(Kt=gt.length-1,X=en-1;X>=0;X--){const ne=Ft+X,Zt=N[ne],Te=ne+1<Rt?N[ne+1].el:tt;Ce[X]===0?T(null,Zt,z,Te,st,J,ot,it,dt):bn&&(Kt<0||X!==gt[Kt]?Qe(Zt,z,Te,2):Kt--)}}},Qe=(P,N,z,tt,st=null)=>{const{el:J,type:ot,transition:it,children:dt,shapeFlag:X}=P;if(X&6){Qe(P.component.subTree,N,z,tt);return}if(X&128){P.suspense.move(N,z,tt);return}if(X&64){ot.move(P,N,z,Ct);return}if(ot===Pe){i(J,N,z);for(let bt=0;bt<dt.length;bt++)Qe(dt[bt],N,z,tt);i(P.anchor,N,z);return}if(ot===wa){F(P,N,z);return}if(tt!==2&&X&1&&it)if(tt===0)it.beforeEnter(J),i(J,N,z),Nn(()=>it.enter(J),st);else{const{leave:bt,delayLeave:Et,afterLeave:Pt}=it,Ft=()=>i(J,N,z),de=()=>{bt(J,()=>{Ft(),Pt&&Pt()})};Et?Et(J,Ft,de):de()}else i(J,N,z)},qt=(P,N,z,tt=!1,st=!1)=>{const{type:J,props:ot,ref:it,children:dt,dynamicChildren:X,shapeFlag:Rt,patchFlag:bt,dirs:Et,cacheIndex:Pt}=P;if(bt===-2&&(st=!1),it!=null&&Fa(it,null,z,P,!0),Pt!=null&&(N.renderCache[Pt]=void 0),Rt&256){N.ctx.deactivate(P);return}const Ft=Rt&1&&Et,de=!io(P);let Kt;if(de&&(Kt=ot&&ot.onVnodeBeforeUnmount)&&gi(Kt,N,P),Rt&6)Cn(P.component,z,tt);else{if(Rt&128){P.suspense.unmount(z,tt);return}Ft&&ys(P,null,N,"beforeUnmount"),Rt&64?P.type.remove(P,N,z,Ct,tt):X&&!X.hasOnce&&(J!==Pe||bt>0&&bt&64)?xt(X,N,z,!1,!0):(J===Pe&&bt&384||!st&&Rt&16)&&xt(dt,N,z),tt&&Ye(P)}(de&&(Kt=ot&&ot.onVnodeUnmounted)||Ft)&&Nn(()=>{Kt&&gi(Kt,N,P),Ft&&ys(P,null,N,"unmounted")},z)},Ye=P=>{const{type:N,el:z,anchor:tt,transition:st}=P;if(N===Pe){ae(z,tt);return}if(N===wa){V(P);return}const J=()=>{r(z),st&&!st.persisted&&st.afterLeave&&st.afterLeave()};if(P.shapeFlag&1&&st&&!st.persisted){const{leave:ot,delayLeave:it}=st,dt=()=>ot(z,J);it?it(P.el,J,dt):dt()}else J()},ae=(P,N)=>{let z;for(;P!==N;)z=A(P),r(P),P=z;r(N)},Cn=(P,N,z)=>{const{bum:tt,scope:st,job:J,subTree:ot,um:it,m:dt,a:X}=P;Mh(dt),Mh(X),tt&&xa(tt),st.stop(),J&&(J.flags|=8,qt(ot,P,N,z)),it&&Nn(it,N),Nn(()=>{P.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},xt=(P,N,z,tt=!1,st=!1,J=0)=>{for(let ot=J;ot<P.length;ot++)qt(P[ot],N,z,tt,st)},nt=P=>{if(P.shapeFlag&6)return nt(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const N=A(P.anchor||P.el),z=N&&N[qm];return z?A(z):N};let ft=!1;const mt=(P,N,z)=>{P==null?N._vnode&&qt(N._vnode,null,null,!0):T(N._vnode||null,P,N,null,null,null,z),N._vnode=P,ft||(ft=!0,Ah(),W1(),ft=!1)},Ct={p:T,um:qt,m:Qe,r:Ye,mt:Xt,mc:et,pc:Bt,pbc:Mt,n:nt,o:e};return{render:mt,hydrate:void 0,createApp:xx(mt)}}function ql({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function As({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ix(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function g0(e,t,n=!1){const i=e.children,r=t.children;if(kt(i)&&kt(r))for(let o=0;o<i.length;o++){const c=i[o];let h=r[o];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=r[o]=$i(r[o]),h.el=c.el),!n&&h.patchFlag!==-2&&g0(c,h)),h.type===ul&&(h.el=c.el)}}function Tx(e){const t=e.slice(),n=[0];let i,r,o,c,h;const g=e.length;for(i=0;i<g;i++){const p=e[i];if(p!==0){if(r=n[n.length-1],e[r]<p){t[i]=r,n.push(i);continue}for(o=0,c=n.length-1;o<c;)h=o+c>>1,e[n[h]]<p?o=h+1:c=h;p<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,c=n[o-1];o-- >0;)n[o]=c,c=t[c];return n}function p0(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:p0(t)}function Mh(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Mx=Symbol.for("v-scx"),Ox=()=>Ui(Mx);function gr(e,t,n){return m0(e,t,n)}function m0(e,t,n=Ae){const{immediate:i,deep:r,flush:o,once:c}=n,h=mn({},n),g=t&&i||!t&&o!=="post";let p;if(wo){if(o==="sync"){const _=Ox();p=_.__watcherHandles||(_.__watcherHandles=[])}else if(!g){const _=()=>{};return _.stop=Ai,_.resume=Ai,_.pause=Ai,_}}const x=fn;h.call=(_,I,T)=>Ei(_,x,I,T);let w=!1;o==="post"?h.scheduler=_=>{Nn(_,x&&x.suspense)}:o!=="sync"&&(w=!0,h.scheduler=(_,I)=>{I?_():yu(_)}),h.augmentJob=_=>{t&&(_.flags|=4),w&&(_.flags|=2,x&&(_.id=x.uid,_.i=x))};const A=Ym(e,t,h);return wo&&(p?p.push(A):g&&A()),A}function vx(e,t,n){const i=this.proxy,r=Ge(e)?e.includes(".")?x0(i,e):()=>i[e]:e.bind(i,i);let o;Ut(t)?o=t:(o=t.handler,n=t);const c=Lo(this),h=m0(r,o.bind(i),n);return c(),h}function x0(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const Rx=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${$n(t)}Modifiers`]||e[`${zs(t)}Modifiers`];function Dx(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ae;let r=n;const o=t.startsWith("update:"),c=o&&Rx(i,t.slice(7));c&&(c.trim&&(r=n.map(x=>Ge(x)?x.trim():x)),c.number&&(r=n.map(ka)));let h,g=i[h=Wl(t)]||i[h=Wl($n(t))];!g&&o&&(g=i[h=Wl(zs(t))]),g&&Ei(g,e,6,r);const p=i[h+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Ei(p,e,6,r)}}function b0(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const o=e.emits;let c={},h=!1;if(!Ut(e)){const g=p=>{const x=b0(p,t,!0);x&&(h=!0,mn(c,x))};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!o&&!h?(Ie(e)&&i.set(e,null),null):(kt(o)?o.forEach(g=>c[g]=null):mn(c,o),Ie(e)&&i.set(e,c),c)}function cl(e,t){return!e||!el(t)?!1:(t=t.slice(2).replace(/Once$/,""),he(e,t[0].toLowerCase()+t.slice(1))||he(e,zs(t))||he(e,t))}function Oh(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[o],slots:c,attrs:h,emit:g,render:p,renderCache:x,props:w,data:A,setupState:_,ctx:I,inheritAttrs:T}=e,v=Ba(e);let k,L;try{if(n.shapeFlag&4){const V=r||i,W=V;k=yi(p.call(W,V,x,w,_,A,I)),L=h}else{const V=t;k=yi(V.length>1?V(w,{attrs:h,slots:c,emit:g}):V(w,null)),L=t.props?h:Nx(h)}}catch(V){ro.length=0,al(V,e,1),k=$t(Fs)}let F=k;if(L&&T!==!1){const V=Object.keys(L),{shapeFlag:W}=F;V.length&&W&7&&(o&&V.some(lu)&&(L=kx(L,o)),F=mr(F,L,!1,!0))}return n.dirs&&(F=mr(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&Au(F,n.transition),k=F,Ba(v),k}const Nx=e=>{let t;for(const n in e)(n==="class"||n==="style"||el(n))&&((t||(t={}))[n]=e[n]);return t},kx=(e,t)=>{const n={};for(const i in e)(!lu(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Px(e,t,n){const{props:i,children:r,component:o}=e,{props:c,children:h,patchFlag:g}=t,p=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return i?vh(i,c,p):!!c;if(g&8){const x=t.dynamicProps;for(let w=0;w<x.length;w++){const A=x[w];if(c[A]!==i[A]&&!cl(p,A))return!0}}}else return(r||h)&&(!h||!h.$stable)?!0:i===c?!1:i?c?vh(i,c,p):!0:!!c;return!1}function vh(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!cl(n,o))return!0}return!1}function Lx({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const w0=e=>e.__isSuspense;function Bx(e,t){t&&t.pendingBranch?kt(e)?t.effects.push(...e):t.effects.push(e):Zm(e)}const Pe=Symbol.for("v-fgt"),ul=Symbol.for("v-txt"),Fs=Symbol.for("v-cmt"),wa=Symbol.for("v-stc"),ro=[];let Hn=null;function St(e=!1){ro.push(Hn=e?null:[])}function Fx(){ro.pop(),Hn=ro[ro.length-1]||null}let xo=1;function Rh(e,t=!1){xo+=e,e<0&&Hn&&t&&(Hn.hasOnce=!0)}function y0(e){return e.dynamicChildren=xo>0?Hn||lr:null,Fx(),xo>0&&Hn&&Hn.push(e),e}function Tt(e,t,n,i,r,o){return y0(O(e,t,n,i,r,o,!0))}function A0(e,t,n,i,r){return y0($t(e,t,n,i,r,!0))}function Va(e){return e?e.__v_isVNode===!0:!1}function Fr(e,t){return e.type===t.type&&e.key===t.key}const C0=({key:e})=>e??null,ya=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ge(e)||pn(e)||Ut(e)?{i:Vn,r:e,k:t,f:!!n}:e:null);function O(e,t=null,n=null,i=0,r=null,o=e===Pe?0:1,c=!1,h=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&C0(t),ref:t&&ya(t),scopeId:Y1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Vn};return h?(_u(g,n),o&128&&e.normalize(g)):n&&(g.shapeFlag|=Ge(n)?8:16),xo>0&&!c&&Hn&&(g.patchFlag>0||o&6)&&g.patchFlag!==32&&Hn.push(g),g}const $t=Ux;function Ux(e,t=null,n=null,i=0,r=null,o=!1){if((!e||e===t0)&&(e=Fs),Va(e)){const h=mr(e,t,!0);return n&&_u(h,n),xo>0&&!o&&Hn&&(h.shapeFlag&6?Hn[Hn.indexOf(e)]=h:Hn.push(h)),h.patchFlag=-2,h}if(qx(e)&&(e=e.__vccOpts),t){t=Vx(t);let{class:h,style:g}=t;h&&!Ge(h)&&(t.class=es(h)),Ie(g)&&(bu(g)&&!kt(g)&&(g=mn({},g)),t.style=rl(g))}const c=Ge(e)?1:w0(e)?128:Qm(e)?64:Ie(e)?4:Ut(e)?2:0;return O(e,t,n,i,r,c,o,!0)}function Vx(e){return e?bu(e)||a0(e)?mn({},e):e:null}function mr(e,t,n=!1,i=!1){const{props:r,ref:o,patchFlag:c,children:h,transition:g}=e,p=t?Hx(r||{},t):r,x={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&C0(p),ref:t&&t.ref?n&&o?kt(o)?o.concat(ya(t)):[o,ya(t)]:ya(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pe?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&mr(e.ssContent),ssFallback:e.ssFallback&&mr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&i&&Au(x,g.clone(x)),x}function Zn(e=" ",t=0){return $t(ul,null,e,t)}function bo(e,t){const n=$t(wa,null,e);return n.staticCount=t,n}function on(e="",t=!1){return t?(St(),A0(Fs,null,e)):$t(Fs,null,e)}function yi(e){return e==null||typeof e=="boolean"?$t(Fs):kt(e)?$t(Pe,null,e.slice()):Va(e)?$i(e):$t(ul,null,String(e))}function $i(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:mr(e)}function _u(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(kt(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),_u(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!a0(t)?t._ctx=Vn:r===3&&Vn&&(Vn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ut(t)?(t={default:t,_ctx:Vn},n=32):(t=String(t),i&64?(n=16,t=[Zn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Hx(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=es([t.class,i.class]));else if(r==="style")t.style=rl([t.style,i.style]);else if(el(r)){const o=t[r],c=i[r];c&&o!==c&&!(kt(o)&&o.includes(c))&&(t[r]=o?[].concat(o,c):c)}else r!==""&&(t[r]=i[r])}return t}function gi(e,t,n,i=null){Ei(e,t,7,[n,i])}const zx=s0();let jx=0;function Wx(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||zx,o={uid:jx++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new C1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:c0(i,r),emitsOptions:b0(i,r),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:i.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Dx.bind(null,o),e.ce&&e.ce(o),o}let fn=null,Ha,Rc;{const e=sl(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),o=>{r.length>1?r.forEach(c=>c(o)):r[0](o)}};Ha=t("__VUE_INSTANCE_SETTERS__",n=>fn=n),Rc=t("__VUE_SSR_SETTERS__",n=>wo=n)}const Lo=e=>{const t=fn;return Ha(e),e.scope.on(),()=>{e.scope.off(),Ha(t)}},Dh=()=>{fn&&fn.scope.off(),Ha(null)};function _0(e){return e.vnode.shapeFlag&4}let wo=!1;function Gx(e,t=!1,n=!1){t&&Rc(t);const{props:i,children:r}=e.vnode,o=_0(e);bx(e,i,o,t),Cx(e,r,n);const c=o?Yx(e,t):void 0;return t&&Rc(!1),c}function Yx(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ux);const{setup:i}=n;if(i){hs();const r=e.setupContext=i.length>1?Kx(e):null,o=Lo(e),c=Po(i,e,0,[e.props,r]),h=p1(c);if(fs(),o(),(h||e.sp)&&!io(e)&&K1(e),h){if(c.then(Dh,Dh),t)return c.then(g=>{Nh(e,g)}).catch(g=>{al(g,e,0)});e.asyncDep=c}else Nh(e,c)}else E0(e)}function Nh(e,t,n){Ut(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ie(t)&&(e.setupState=H1(t)),E0(e)}function E0(e,t,n){const i=e.type;e.render||(e.render=i.render||Ai);{const r=Lo(e);hs();try{hx(e)}finally{fs(),r()}}}const Xx={get(e,t){return un(e,"get",""),e[t]}};function Kx(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Xx),slots:e.slots,emit:e.emit,expose:t}}function hl(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(H1(Um(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in so)return so[n](e)},has(t,n){return n in t||n in so}})):e.proxy}function Zx(e,t=!0){return Ut(e)?e.displayName||e.name:e.name||t&&e.__name}function qx(e){return Ut(e)&&"__vccOpts"in e}const qn=(e,t)=>Wm(e,t,wo);function S0(e,t,n){const i=arguments.length;return i===2?Ie(t)&&!kt(t)?Va(t)?$t(e,null,[t]):$t(e,t):$t(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Va(n)&&(n=[n]),$t(e,t,n))}const Qx="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dc;const kh=typeof window<"u"&&window.trustedTypes;if(kh)try{Dc=kh.createPolicy("vue",{createHTML:e=>e})}catch{}const I0=Dc?e=>Dc.createHTML(e):e=>e,$x="http://www.w3.org/2000/svg",Jx="http://www.w3.org/1998/Math/MathML",vi=typeof document<"u"?document:null,Ph=vi&&vi.createElement("template"),t2={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?vi.createElementNS($x,e):t==="mathml"?vi.createElementNS(Jx,e):n?vi.createElement(e,{is:n}):vi.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>vi.createTextNode(e),createComment:e=>vi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,o){const c=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Ph.innerHTML=I0(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const h=Ph.content;if(i==="svg"||i==="mathml"){const g=h.firstChild;for(;g.firstChild;)h.appendChild(g.firstChild);h.removeChild(g)}t.insertBefore(h,n)}return[c?c.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},e2=Symbol("_vtc");function n2(e,t,n){const i=e[e2];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Lh=Symbol("_vod"),i2=Symbol("_vsh"),s2=Symbol(""),r2=/(^|;)\s*display\s*:/;function o2(e,t,n){const i=e.style,r=Ge(n);let o=!1;if(n&&!r){if(t)if(Ge(t))for(const c of t.split(";")){const h=c.slice(0,c.indexOf(":")).trim();n[h]==null&&Aa(i,h,"")}else for(const c in t)n[c]==null&&Aa(i,c,"");for(const c in n)c==="display"&&(o=!0),Aa(i,c,n[c])}else if(r){if(t!==n){const c=i[s2];c&&(n+=";"+c),i.cssText=n,o=r2.test(n)}}else t&&e.removeAttribute("style");Lh in e&&(e[Lh]=o?i.display:"",e[i2]&&(i.display="none"))}const Bh=/\s*!important$/;function Aa(e,t,n){if(kt(n))n.forEach(i=>Aa(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=a2(e,t);Bh.test(n)?e.setProperty(zs(i),n.replace(Bh,""),"important"):e[i]=n}}const Fh=["Webkit","Moz","ms"],Ql={};function a2(e,t){const n=Ql[t];if(n)return n;let i=$n(t);if(i!=="filter"&&i in e)return Ql[t]=i;i=il(i);for(let r=0;r<Fh.length;r++){const o=Fh[r]+i;if(o in e)return Ql[t]=o}return t}const Uh="http://www.w3.org/1999/xlink";function Vh(e,t,n,i,r,o=xm(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Uh,t.slice(6,t.length)):e.setAttributeNS(Uh,t,n):n==null||o&&!w1(n)?e.removeAttribute(t):e.setAttribute(t,o?"":_i(n)?String(n):n)}function Hh(e,t,n,i,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?I0(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const h=o==="OPTION"?e.getAttribute("value")||"":e.value,g=n==null?e.type==="checkbox"?"on":"":String(n);(h!==g||!("_value"in e))&&(e.value=g),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=w1(n):n==null&&h==="string"?(n="",c=!0):h==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(r||t)}function ts(e,t,n,i){e.addEventListener(t,n,i)}function l2(e,t,n,i){e.removeEventListener(t,n,i)}const zh=Symbol("_vei");function c2(e,t,n,i,r=null){const o=e[zh]||(e[zh]={}),c=o[t];if(i&&c)c.value=i;else{const[h,g]=u2(t);if(i){const p=o[t]=d2(i,r);ts(e,h,p,g)}else c&&(l2(e,h,c,g),o[t]=void 0)}}const jh=/(?:Once|Passive|Capture)$/;function u2(e){let t;if(jh.test(e)){t={};let i;for(;i=e.match(jh);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):zs(e.slice(2)),t]}let $l=0;const h2=Promise.resolve(),f2=()=>$l||(h2.then(()=>$l=0),$l=Date.now());function d2(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ei(g2(i,n.value),t,5,[i])};return n.value=e,n.attached=f2(),n}function g2(e,t){if(kt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const Wh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,p2=(e,t,n,i,r,o)=>{const c=r==="svg";t==="class"?n2(e,i,c):t==="style"?o2(e,n,i):el(t)?lu(t)||c2(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):m2(e,t,i,c))?(Hh(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Vh(e,t,i,c,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ge(i))?Hh(e,$n(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Vh(e,t,i,c))};function m2(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Wh(t)&&Ut(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Wh(t)&&Ge(n)?!1:t in e}const xr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return kt(t)?n=>xa(t,n):t};function x2(e){e.target.composing=!0}function Gh(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vi=Symbol("_assign"),be={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[Vi]=xr(r);const o=i||r.props&&r.props.type==="number";ts(e,t?"change":"input",c=>{if(c.target.composing)return;let h=e.value;n&&(h=h.trim()),o&&(h=ka(h)),e[Vi](h)}),n&&ts(e,"change",()=>{e.value=e.value.trim()}),t||(ts(e,"compositionstart",x2),ts(e,"compositionend",Gh),ts(e,"change",Gh))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:o}},c){if(e[Vi]=xr(c),e.composing)return;const h=(o||e.type==="number")&&!/^0\d/.test(e.value)?ka(e.value):e.value,g=t??"";h!==g&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===g)||(e.value=g))}},b2={deep:!0,created(e,t,n){e[Vi]=xr(n),ts(e,"change",()=>{const i=e._modelValue,r=yo(e),o=e.checked,c=e[Vi];if(kt(i)){const h=hu(i,r),g=h!==-1;if(o&&!g)c(i.concat(r));else if(!o&&g){const p=[...i];p.splice(h,1),c(p)}}else if(_r(i)){const h=new Set(i);o?h.add(r):h.delete(r),c(h)}else c(T0(e,o))})},mounted:Yh,beforeUpdate(e,t,n){e[Vi]=xr(n),Yh(e,t,n)}};function Yh(e,{value:t,oldValue:n},i){e._modelValue=t;let r;if(kt(t))r=hu(t,i.props.value)>-1;else if(_r(t))r=t.has(i.props.value);else{if(t===n)return;r=No(t,T0(e,!0))}e.checked!==r&&(e.checked=r)}const w2={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=_r(t);ts(e,"change",()=>{const o=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>n?ka(yo(c)):yo(c));e[Vi](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,wu(()=>{e._assigning=!1})}),e[Vi]=xr(i)},mounted(e,{value:t}){Xh(e,t)},beforeUpdate(e,t,n){e[Vi]=xr(n)},updated(e,{value:t}){e._assigning||Xh(e,t)}};function Xh(e,t){const n=e.multiple,i=kt(t);if(!(n&&!i&&!_r(t))){for(let r=0,o=e.options.length;r<o;r++){const c=e.options[r],h=yo(c);if(n)if(i){const g=typeof h;g==="string"||g==="number"?c.selected=t.some(p=>String(p)===String(h)):c.selected=hu(t,h)>-1}else c.selected=t.has(h);else if(No(yo(c),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function yo(e){return"_value"in e?e._value:e.value}function T0(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const y2=["ctrl","shift","alt","meta"],A2={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>y2.some(n=>e[`${n}Key`]&&!t.includes(n))},Er=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...o)=>{for(let c=0;c<t.length;c++){const h=A2[t[c]];if(h&&h(r,t))return}return e(r,...o)})},C2=mn({patchProp:p2},t2);let Kh;function _2(){return Kh||(Kh=Ex(C2))}const E2=(...e)=>{const t=_2().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=I2(i);if(!r)return;const o=t._component;!Ut(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const c=n(r,!1,S2(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),c},t};function S2(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function I2(e){return Ge(e)?document.querySelector(e):e}const De=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},T2={name:"App",computed:{isAdminPage(){return this.$route.path==="/admin-page"},adminPageStyle(){return this.isAdminPage?{width:"100% !important",margin:"0 !important",padding:"0 !important"}:{}}}};function M2(e,t,n,i,r,o){const c=Xe("router-view");return St(),Tt("div",{class:es([{"no-style":o.isAdminPage},"app"]),style:rl(o.adminPageStyle)},[O("main",null,[$t(c)])],6)}const O2=De(T2,[["render",M2],["__scopeId","data-v-822c8939"]]);function v2(){return M0().__VUE_DEVTOOLS_GLOBAL_HOOK__}function M0(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const R2=typeof Proxy=="function",D2="devtools-plugin:setup",N2="plugin:settings:set";let er,Nc;function k2(){var e;return er!==void 0||(typeof window<"u"&&window.performance?(er=!0,Nc=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(er=!0,Nc=globalThis.perf_hooks.performance):er=!1),er}function P2(){return k2()?Nc.now():Date.now()}class L2{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const i={};if(t.settings)for(const c in t.settings){const h=t.settings[c];i[c]=h.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},i);try{const c=localStorage.getItem(r),h=JSON.parse(c);Object.assign(o,h)}catch{}this.fallbacks={getSettings(){return o},setSettings(c){try{localStorage.setItem(r,JSON.stringify(c))}catch{}o=c},now(){return P2()}},n&&n.on(N2,(c,h)=>{c===this.plugin.id&&this.fallbacks.setSettings(h)}),this.proxiedOn=new Proxy({},{get:(c,h)=>this.target?this.target.on[h]:(...g)=>{this.onQueue.push({method:h,args:g})}}),this.proxiedTarget=new Proxy({},{get:(c,h)=>this.target?this.target[h]:h==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(h)?(...g)=>(this.targetQueue.push({method:h,args:g,resolve:()=>{}}),this.fallbacks[h](...g)):(...g)=>new Promise(p=>{this.targetQueue.push({method:h,args:g,resolve:p})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function B2(e,t){const n=e,i=M0(),r=v2(),o=R2&&n.enableEarlyProxy;if(r&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))r.emit(D2,e,t);else{const c=o?new L2(n,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:c}),c&&t(c.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var F2="store";function Sr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function U2(e){return e!==null&&typeof e=="object"}function V2(e){return e&&typeof e.then=="function"}function H2(e,t){return function(){return e(t)}}function O0(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function v0(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;fl(e,n,[],e._modules.root,!0),Eu(e,n,t)}function Eu(e,t,n){var i=e._state,r=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,c={},h={},g=wm(!0);g.run(function(){Sr(o,function(p,x){c[x]=H2(p,e),h[x]=qn(function(){return c[x]()}),Object.defineProperty(e.getters,x,{get:function(){return h[x].value},enumerable:!0})})}),e._state=ko({data:t}),e._scope=g,e.strict&&Y2(e),i&&n&&e._withCommit(function(){i.data=null}),r&&r.stop()}function fl(e,t,n,i,r){var o=!n.length,c=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[c],e._modulesNamespaceMap[c]=i),!o&&!r){var h=Su(t,n.slice(0,-1)),g=n[n.length-1];e._withCommit(function(){h[g]=i.state})}var p=i.context=z2(e,c,n);i.forEachMutation(function(x,w){var A=c+w;j2(e,A,x,p)}),i.forEachAction(function(x,w){var A=x.root?w:c+w,_=x.handler||x;W2(e,A,_,p)}),i.forEachGetter(function(x,w){var A=c+w;G2(e,A,x,p)}),i.forEachChild(function(x,w){fl(e,t,n.concat(w),x,r)})}function z2(e,t,n){var i=t==="",r={dispatch:i?e.dispatch:function(o,c,h){var g=za(o,c,h),p=g.payload,x=g.options,w=g.type;return(!x||!x.root)&&(w=t+w),e.dispatch(w,p)},commit:i?e.commit:function(o,c,h){var g=za(o,c,h),p=g.payload,x=g.options,w=g.type;(!x||!x.root)&&(w=t+w),e.commit(w,p,x)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return R0(e,t)}},state:{get:function(){return Su(e.state,n)}}}),r}function R0(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach(function(r){if(r.slice(0,i)===t){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return e.getters[r]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function j2(e,t,n,i){var r=e._mutations[t]||(e._mutations[t]=[]);r.push(function(c){n.call(e,i.state,c)})}function W2(e,t,n,i){var r=e._actions[t]||(e._actions[t]=[]);r.push(function(c){var h=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},c);return V2(h)||(h=Promise.resolve(h)),e._devtoolHook?h.catch(function(g){throw e._devtoolHook.emit("vuex:error",g),g}):h})}function G2(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(i.state,i.getters,o.state,o.getters)})}function Y2(e){gr(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Su(e,t){return t.reduce(function(n,i){return n[i]},e)}function za(e,t,n){return U2(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var X2="vuex bindings",Zh="vuex:mutations",Jl="vuex:actions",nr="vuex",K2=0;function Z2(e,t){B2({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[X2]},function(n){n.addTimelineLayer({id:Zh,label:"Vuex Mutations",color:qh}),n.addTimelineLayer({id:Jl,label:"Vuex Actions",color:qh}),n.addInspector({id:nr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(i){if(i.app===e&&i.inspectorId===nr)if(i.filter){var r=[];P0(r,t._modules.root,i.filter,""),i.rootNodes=r}else i.rootNodes=[k0(t._modules.root,"")]}),n.on.getInspectorState(function(i){if(i.app===e&&i.inspectorId===nr){var r=i.nodeId;R0(t,r),i.state=$2(tb(t._modules,r),r==="root"?t.getters:t._makeLocalGettersCache,r)}}),n.on.editInspectorState(function(i){if(i.app===e&&i.inspectorId===nr){var r=i.nodeId,o=i.path;r!=="root"&&(o=r.split("/").filter(Boolean).concat(o)),t._withCommit(function(){i.set(t._state.data,o,i.state.value)})}}),t.subscribe(function(i,r){var o={};i.payload&&(o.payload=i.payload),o.state=r,n.notifyComponentUpdate(),n.sendInspectorTree(nr),n.sendInspectorState(nr),n.addTimelineEvent({layerId:Zh,event:{time:Date.now(),title:i.type,data:o}})}),t.subscribeAction({before:function(i,r){var o={};i.payload&&(o.payload=i.payload),i._id=K2++,i._time=Date.now(),o.state=r,n.addTimelineEvent({layerId:Jl,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:o}})},after:function(i,r){var o={},c=Date.now()-i._time;o.duration={_custom:{type:"duration",display:c+"ms",tooltip:"Action duration",value:c}},i.payload&&(o.payload=i.payload),o.state=r,n.addTimelineEvent({layerId:Jl,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:o}})}})})}var qh=8702998,q2=6710886,Q2=16777215,D0={label:"namespaced",textColor:Q2,backgroundColor:q2};function N0(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function k0(e,t){return{id:t||"root",label:N0(t),tags:e.namespaced?[D0]:[],children:Object.keys(e._children).map(function(n){return k0(e._children[n],t+n+"/")})}}function P0(e,t,n,i){i.includes(n)&&e.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:t.namespaced?[D0]:[]}),Object.keys(t._children).forEach(function(r){P0(e,t._children[r],n,i+r+"/")})}function $2(e,t,n){t=n==="root"?t:t[n];var i=Object.keys(t),r={state:Object.keys(e.state).map(function(c){return{key:c,editable:!0,value:e.state[c]}})};if(i.length){var o=J2(t);r.getters=Object.keys(o).map(function(c){return{key:c.endsWith("/")?N0(c):c,editable:!1,value:kc(function(){return o[c]})}})}return r}function J2(e){var t={};return Object.keys(e).forEach(function(n){var i=n.split("/");if(i.length>1){var r=t,o=i.pop();i.forEach(function(c){r[c]||(r[c]={_custom:{value:{},display:c,tooltip:"Module",abstract:!0}}),r=r[c]._custom.value}),r[o]=kc(function(){return e[n]})}else t[n]=kc(function(){return e[n]})}),t}function tb(e,t){var n=t.split("/").filter(function(i){return i});return n.reduce(function(i,r,o){var c=i[r];if(!c)throw new Error('Missing module "'+r+'" for path "'+t+'".');return o===n.length-1?c:c._children},t==="root"?e:e.root._children)}function kc(e){try{return e()}catch(t){return t}}var oi=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=(typeof i=="function"?i():i)||{}},L0={namespaced:{configurable:!0}};L0.namespaced.get=function(){return!!this._rawModule.namespaced};oi.prototype.addChild=function(t,n){this._children[t]=n};oi.prototype.removeChild=function(t){delete this._children[t]};oi.prototype.getChild=function(t){return this._children[t]};oi.prototype.hasChild=function(t){return t in this._children};oi.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};oi.prototype.forEachChild=function(t){Sr(this._children,t)};oi.prototype.forEachGetter=function(t){this._rawModule.getters&&Sr(this._rawModule.getters,t)};oi.prototype.forEachAction=function(t){this._rawModule.actions&&Sr(this._rawModule.actions,t)};oi.prototype.forEachMutation=function(t){this._rawModule.mutations&&Sr(this._rawModule.mutations,t)};Object.defineProperties(oi.prototype,L0);var js=function(t){this.register([],t,!1)};js.prototype.get=function(t){return t.reduce(function(n,i){return n.getChild(i)},this.root)};js.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(i,r){return n=n.getChild(r),i+(n.namespaced?r+"/":"")},"")};js.prototype.update=function(t){B0([],this.root,t)};js.prototype.register=function(t,n,i){var r=this;i===void 0&&(i=!0);var o=new oi(n,i);if(t.length===0)this.root=o;else{var c=this.get(t.slice(0,-1));c.addChild(t[t.length-1],o)}n.modules&&Sr(n.modules,function(h,g){r.register(t.concat(g),h,i)})};js.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1],r=n.getChild(i);r&&r.runtime&&n.removeChild(i)};js.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1];return n?n.hasChild(i):!1};function B0(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;B0(e.concat(i),t.getChild(i),n.modules[i])}}function eb(e){return new Rn(e)}var Rn=function(t){var n=this;t===void 0&&(t={});var i=t.plugins;i===void 0&&(i=[]);var r=t.strict;r===void 0&&(r=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new js(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var c=this,h=this,g=h.dispatch,p=h.commit;this.dispatch=function(A,_){return g.call(c,A,_)},this.commit=function(A,_,I){return p.call(c,A,_,I)},this.strict=r;var x=this._modules.root.state;fl(this,x,[],this._modules.root),Eu(this,x),i.forEach(function(w){return w(n)})},Iu={state:{configurable:!0}};Rn.prototype.install=function(t,n){t.provide(n||F2,this),t.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&Z2(t,this)};Iu.state.get=function(){return this._state.data};Iu.state.set=function(e){};Rn.prototype.commit=function(t,n,i){var r=this,o=za(t,n,i),c=o.type,h=o.payload,g={type:c,payload:h},p=this._mutations[c];p&&(this._withCommit(function(){p.forEach(function(w){w(h)})}),this._subscribers.slice().forEach(function(x){return x(g,r.state)}))};Rn.prototype.dispatch=function(t,n){var i=this,r=za(t,n),o=r.type,c=r.payload,h={type:o,payload:c},g=this._actions[o];if(g){try{this._actionSubscribers.slice().filter(function(x){return x.before}).forEach(function(x){return x.before(h,i.state)})}catch{}var p=g.length>1?Promise.all(g.map(function(x){return x(c)})):g[0](c);return new Promise(function(x,w){p.then(function(A){try{i._actionSubscribers.filter(function(_){return _.after}).forEach(function(_){return _.after(h,i.state)})}catch{}x(A)},function(A){try{i._actionSubscribers.filter(function(_){return _.error}).forEach(function(_){return _.error(h,i.state,A)})}catch{}w(A)})})}};Rn.prototype.subscribe=function(t,n){return O0(t,this._subscribers,n)};Rn.prototype.subscribeAction=function(t,n){var i=typeof t=="function"?{before:t}:t;return O0(i,this._actionSubscribers,n)};Rn.prototype.watch=function(t,n,i){var r=this;return gr(function(){return t(r.state,r.getters)},n,Object.assign({},i))};Rn.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Rn.prototype.registerModule=function(t,n,i){i===void 0&&(i={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),fl(this,this.state,t,this._modules.get(t),i.preserveState),Eu(this,this.state)};Rn.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=Su(n.state,t.slice(0,-1));delete i[t[t.length-1]]}),v0(this)};Rn.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Rn.prototype.hotUpdate=function(t){this._modules.update(t),v0(this,!0)};Rn.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Rn.prototype,Iu);const nb=eb({state:{token:localStorage.getItem("jwtToken")||"",userRole:""},mutations:{setToken(e,t){e.token=t,localStorage.setItem("jwtToken",t)},setUserRole(e,t){e.userRole=t},logout(e){e.token="",e.userRole="",localStorage.removeItem("jwtToken")}},actions:{async login({commit:e},t){const i=(await axios.post("/api/login",t)).data.token;e("setToken",i);const r=jwtDecode(i);e("setUserRole",r.roles)},logout({commit:e}){e("logout")}},getters:{isAdmin:e=>e.userRole.includes("ROLE_ADMIN"),isAuthenticated:e=>!!e.token}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const or=typeof document<"u";function F0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ib(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&F0(e.default)}const ce=Object.assign;function tc(e,t){const n={};for(const i in t){const r=t[i];n[i]=ri(r)?r.map(e):e(r)}return n}const oo=()=>{},ri=Array.isArray,U0=/#/g,sb=/&/g,rb=/\//g,ob=/=/g,ab=/\?/g,V0=/\+/g,lb=/%5B/g,cb=/%5D/g,H0=/%5E/g,ub=/%60/g,z0=/%7B/g,hb=/%7C/g,j0=/%7D/g,fb=/%20/g;function Tu(e){return encodeURI(""+e).replace(hb,"|").replace(lb,"[").replace(cb,"]")}function db(e){return Tu(e).replace(z0,"{").replace(j0,"}").replace(H0,"^")}function Pc(e){return Tu(e).replace(V0,"%2B").replace(fb,"+").replace(U0,"%23").replace(sb,"%26").replace(ub,"`").replace(z0,"{").replace(j0,"}").replace(H0,"^")}function gb(e){return Pc(e).replace(ob,"%3D")}function pb(e){return Tu(e).replace(U0,"%23").replace(ab,"%3F")}function mb(e){return e==null?"":pb(e).replace(rb,"%2F")}function Ao(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const xb=/\/$/,bb=e=>e.replace(xb,"");function ec(e,t,n="/"){let i,r={},o="",c="";const h=t.indexOf("#");let g=t.indexOf("?");return h<g&&h>=0&&(g=-1),g>-1&&(i=t.slice(0,g),o=t.slice(g+1,h>-1?h:t.length),r=e(o)),h>-1&&(i=i||t.slice(0,h),c=t.slice(h,t.length)),i=Cb(i??t,n),{fullPath:i+(o&&"?")+o+c,path:i,query:r,hash:Ao(c)}}function wb(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Qh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function yb(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&br(t.matched[i],n.matched[r])&&W0(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function br(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function W0(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Ab(e[n],t[n]))return!1;return!0}function Ab(e,t){return ri(e)?$h(e,t):ri(t)?$h(t,e):e===t}function $h(e,t){return ri(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Cb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let o=n.length-1,c,h;for(c=0;c<i.length;c++)if(h=i[c],h!==".")if(h==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(c).join("/")}const Zi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Co;(function(e){e.pop="pop",e.push="push"})(Co||(Co={}));var ao;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ao||(ao={}));function _b(e){if(!e)if(or){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),bb(e)}const Eb=/^[^#]+#/;function Sb(e,t){return e.replace(Eb,"#")+t}function Ib(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const dl=()=>({left:window.scrollX,top:window.scrollY});function Tb(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Ib(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Jh(e,t){return(history.state?history.state.position-t:-1)+e}const Lc=new Map;function Mb(e,t){Lc.set(e,t)}function Ob(e){const t=Lc.get(e);return Lc.delete(e),t}let vb=()=>location.protocol+"//"+location.host;function G0(e,t){const{pathname:n,search:i,hash:r}=t,o=e.indexOf("#");if(o>-1){let h=r.includes(e.slice(o))?e.slice(o).length:1,g=r.slice(h);return g[0]!=="/"&&(g="/"+g),Qh(g,"")}return Qh(n,e)+i+r}function Rb(e,t,n,i){let r=[],o=[],c=null;const h=({state:A})=>{const _=G0(e,location),I=n.value,T=t.value;let v=0;if(A){if(n.value=_,t.value=A,c&&c===I){c=null;return}v=T?A.position-T.position:0}else i(_);r.forEach(k=>{k(n.value,I,{delta:v,type:Co.pop,direction:v?v>0?ao.forward:ao.back:ao.unknown})})};function g(){c=n.value}function p(A){r.push(A);const _=()=>{const I=r.indexOf(A);I>-1&&r.splice(I,1)};return o.push(_),_}function x(){const{history:A}=window;A.state&&A.replaceState(ce({},A.state,{scroll:dl()}),"")}function w(){for(const A of o)A();o=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",x)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",x,{passive:!0}),{pauseListeners:g,listen:p,destroy:w}}function tf(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?dl():null}}function Db(e){const{history:t,location:n}=window,i={value:G0(e,n)},r={value:t.state};r.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(g,p,x){const w=e.indexOf("#"),A=w>-1?(n.host&&document.querySelector("base")?e:e.slice(w))+g:vb()+e+g;try{t[x?"replaceState":"pushState"](p,"",A),r.value=p}catch(_){console.error(_),n[x?"replace":"assign"](A)}}function c(g,p){const x=ce({},t.state,tf(r.value.back,g,r.value.forward,!0),p,{position:r.value.position});o(g,x,!0),i.value=g}function h(g,p){const x=ce({},r.value,t.state,{forward:g,scroll:dl()});o(x.current,x,!0);const w=ce({},tf(i.value,g,null),{position:x.position+1},p);o(g,w,!1),i.value=g}return{location:i,state:r,push:h,replace:c}}function Nb(e){e=_b(e);const t=Db(e),n=Rb(e,t.state,t.location,t.replace);function i(o,c=!0){c||n.pauseListeners(),history.go(o)}const r=ce({location:"",base:e,go:i,createHref:Sb.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function kb(e){return typeof e=="string"||e&&typeof e=="object"}function Y0(e){return typeof e=="string"||typeof e=="symbol"}const X0=Symbol("");var ef;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ef||(ef={}));function wr(e,t){return ce(new Error,{type:e,[X0]:!0},t)}function Ii(e,t){return e instanceof Error&&X0 in e&&(t==null||!!(e.type&t))}const nf="[^/]+?",Pb={sensitive:!1,strict:!1,start:!0,end:!0},Lb=/[.+*?^${}()[\]/\\]/g;function Bb(e,t){const n=ce({},Pb,t),i=[];let r=n.start?"^":"";const o=[];for(const p of e){const x=p.length?[]:[90];n.strict&&!p.length&&(r+="/");for(let w=0;w<p.length;w++){const A=p[w];let _=40+(n.sensitive?.25:0);if(A.type===0)w||(r+="/"),r+=A.value.replace(Lb,"\\$&"),_+=40;else if(A.type===1){const{value:I,repeatable:T,optional:v,regexp:k}=A;o.push({name:I,repeatable:T,optional:v});const L=k||nf;if(L!==nf){_+=10;try{new RegExp(`(${L})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${I}" (${L}): `+V.message)}}let F=T?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;w||(F=v&&p.length<2?`(?:/${F})`:"/"+F),v&&(F+="?"),r+=F,_+=20,v&&(_+=-8),T&&(_+=-20),L===".*"&&(_+=-50)}x.push(_)}i.push(x)}if(n.strict&&n.end){const p=i.length-1;i[p][i[p].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const c=new RegExp(r,n.sensitive?"":"i");function h(p){const x=p.match(c),w={};if(!x)return null;for(let A=1;A<x.length;A++){const _=x[A]||"",I=o[A-1];w[I.name]=_&&I.repeatable?_.split("/"):_}return w}function g(p){let x="",w=!1;for(const A of e){(!w||!x.endsWith("/"))&&(x+="/"),w=!1;for(const _ of A)if(_.type===0)x+=_.value;else if(_.type===1){const{value:I,repeatable:T,optional:v}=_,k=I in p?p[I]:"";if(ri(k)&&!T)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const L=ri(k)?k.join("/"):k;if(!L)if(v)A.length<2&&(x.endsWith("/")?x=x.slice(0,-1):w=!0);else throw new Error(`Missing required param "${I}"`);x+=L}}return x||"/"}return{re:c,score:i,keys:o,parse:h,stringify:g}}function Fb(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function K0(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const o=Fb(i[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-i.length)===1){if(sf(i))return 1;if(sf(r))return-1}return r.length-i.length}function sf(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ub={type:0,value:""},Vb=/[a-zA-Z0-9_]/;function Hb(e){if(!e)return[[]];if(e==="/")return[[Ub]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${n})/"${p}": ${_}`)}let n=0,i=n;const r=[];let o;function c(){o&&r.push(o),o=[]}let h=0,g,p="",x="";function w(){p&&(n===0?o.push({type:0,value:p}):n===1||n===2||n===3?(o.length>1&&(g==="*"||g==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:p,regexp:x,repeatable:g==="*"||g==="+",optional:g==="*"||g==="?"})):t("Invalid state to consume buffer"),p="")}function A(){p+=g}for(;h<e.length;){if(g=e[h++],g==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:g==="/"?(p&&w(),c()):g===":"?(w(),n=1):A();break;case 4:A(),n=i;break;case 1:g==="("?n=2:Vb.test(g)?A():(w(),n=0,g!=="*"&&g!=="?"&&g!=="+"&&h--);break;case 2:g===")"?x[x.length-1]=="\\"?x=x.slice(0,-1)+g:n=3:x+=g;break;case 3:w(),n=0,g!=="*"&&g!=="?"&&g!=="+"&&h--,x="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),w(),c(),r}function zb(e,t,n){const i=Bb(Hb(e.path),n),r=ce(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function jb(e,t){const n=[],i=new Map;t=lf({strict:!1,end:!0,sensitive:!1},t);function r(w){return i.get(w)}function o(w,A,_){const I=!_,T=of(w);T.aliasOf=_&&_.record;const v=lf(t,w),k=[T];if("alias"in w){const V=typeof w.alias=="string"?[w.alias]:w.alias;for(const W of V)k.push(of(ce({},T,{components:_?_.record.components:T.components,path:W,aliasOf:_?_.record:T})))}let L,F;for(const V of k){const{path:W}=V;if(A&&W[0]!=="/"){const Q=A.record.path,H=Q[Q.length-1]==="/"?"":"/";V.path=A.record.path+(W&&H+W)}if(L=zb(V,A,v),_?_.alias.push(L):(F=F||L,F!==L&&F.alias.push(L),I&&w.name&&!af(L)&&c(w.name)),Z0(L)&&g(L),T.children){const Q=T.children;for(let H=0;H<Q.length;H++)o(Q[H],L,_&&_.children[H])}_=_||L}return F?()=>{c(F)}:oo}function c(w){if(Y0(w)){const A=i.get(w);A&&(i.delete(w),n.splice(n.indexOf(A),1),A.children.forEach(c),A.alias.forEach(c))}else{const A=n.indexOf(w);A>-1&&(n.splice(A,1),w.record.name&&i.delete(w.record.name),w.children.forEach(c),w.alias.forEach(c))}}function h(){return n}function g(w){const A=Yb(w,n);n.splice(A,0,w),w.record.name&&!af(w)&&i.set(w.record.name,w)}function p(w,A){let _,I={},T,v;if("name"in w&&w.name){if(_=i.get(w.name),!_)throw wr(1,{location:w});v=_.record.name,I=ce(rf(A.params,_.keys.filter(F=>!F.optional).concat(_.parent?_.parent.keys.filter(F=>F.optional):[]).map(F=>F.name)),w.params&&rf(w.params,_.keys.map(F=>F.name))),T=_.stringify(I)}else if(w.path!=null)T=w.path,_=n.find(F=>F.re.test(T)),_&&(I=_.parse(T),v=_.record.name);else{if(_=A.name?i.get(A.name):n.find(F=>F.re.test(A.path)),!_)throw wr(1,{location:w,currentLocation:A});v=_.record.name,I=ce({},A.params,w.params),T=_.stringify(I)}const k=[];let L=_;for(;L;)k.unshift(L.record),L=L.parent;return{name:v,path:T,params:I,matched:k,meta:Gb(k)}}e.forEach(w=>o(w));function x(){n.length=0,i.clear()}return{addRoute:o,resolve:p,removeRoute:c,clearRoutes:x,getRoutes:h,getRecordMatcher:r}}function rf(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function of(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Wb(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Wb(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function af(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Gb(e){return e.reduce((t,n)=>ce(t,n.meta),{})}function lf(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Yb(e,t){let n=0,i=t.length;for(;n!==i;){const o=n+i>>1;K0(e,t[o])<0?i=o:n=o+1}const r=Xb(e);return r&&(i=t.lastIndexOf(r,i-1)),i}function Xb(e){let t=e;for(;t=t.parent;)if(Z0(t)&&K0(e,t)===0)return t}function Z0({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Kb(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const o=i[r].replace(V0," "),c=o.indexOf("="),h=Ao(c<0?o:o.slice(0,c)),g=c<0?null:Ao(o.slice(c+1));if(h in t){let p=t[h];ri(p)||(p=t[h]=[p]),p.push(g)}else t[h]=g}return t}function cf(e){let t="";for(let n in e){const i=e[n];if(n=gb(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(ri(i)?i.map(o=>o&&Pc(o)):[i&&Pc(i)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Zb(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=ri(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const qb=Symbol(""),uf=Symbol(""),Mu=Symbol(""),q0=Symbol(""),Bc=Symbol("");function Ur(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ji(e,t,n,i,r,o=c=>c()){const c=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((h,g)=>{const p=A=>{A===!1?g(wr(4,{from:n,to:t})):A instanceof Error?g(A):kb(A)?g(wr(2,{from:t,to:A})):(c&&i.enterCallbacks[r]===c&&typeof A=="function"&&c.push(A),h())},x=o(()=>e.call(i&&i.instances[r],t,n,p));let w=Promise.resolve(x);e.length<3&&(w=w.then(p)),w.catch(A=>g(A))})}function nc(e,t,n,i,r=o=>o()){const o=[];for(const c of e)for(const h in c.components){let g=c.components[h];if(!(t!=="beforeRouteEnter"&&!c.instances[h]))if(F0(g)){const x=(g.__vccOpts||g)[t];x&&o.push(Ji(x,n,i,c,h,r))}else{let p=g();o.push(()=>p.then(x=>{if(!x)throw new Error(`Couldn't resolve component "${h}" at "${c.path}"`);const w=ib(x)?x.default:x;c.mods[h]=x,c.components[h]=w;const _=(w.__vccOpts||w)[t];return _&&Ji(_,n,i,c,h,r)()}))}}return o}function hf(e){const t=Ui(Mu),n=Ui(q0),i=qn(()=>{const g=hr(e.to);return t.resolve(g)}),r=qn(()=>{const{matched:g}=i.value,{length:p}=g,x=g[p-1],w=n.matched;if(!x||!w.length)return-1;const A=w.findIndex(br.bind(null,x));if(A>-1)return A;const _=ff(g[p-2]);return p>1&&ff(x)===_&&w[w.length-1].path!==_?w.findIndex(br.bind(null,g[p-2])):A}),o=qn(()=>r.value>-1&&ew(n.params,i.value.params)),c=qn(()=>r.value>-1&&r.value===n.matched.length-1&&W0(n.params,i.value.params));function h(g={}){if(tw(g)){const p=t[hr(e.replace)?"replace":"push"](hr(e.to)).catch(oo);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:i,href:qn(()=>i.value.href),isActive:o,isExactActive:c,navigate:h}}function Qb(e){return e.length===1?e[0]:e}const $b=X1({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:hf,setup(e,{slots:t}){const n=ko(hf(e)),{options:i}=Ui(Mu),r=qn(()=>({[df(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[df(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&Qb(t.default(n));return e.custom?o:S0("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Jb=$b;function tw(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ew(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!ri(r)||r.length!==i.length||i.some((o,c)=>o!==r[c]))return!1}return!0}function ff(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const df=(e,t,n)=>e??t??n,nw=X1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Ui(Bc),r=qn(()=>e.route||i.value),o=Ui(uf,0),c=qn(()=>{let p=hr(o);const{matched:x}=r.value;let w;for(;(w=x[p])&&!w.components;)p++;return p}),h=qn(()=>r.value.matched[c.value]);ba(uf,qn(()=>c.value+1)),ba(qb,h),ba(Bc,r);const g=U1();return gr(()=>[g.value,h.value,e.name],([p,x,w],[A,_,I])=>{x&&(x.instances[w]=p,_&&_!==x&&p&&p===A&&(x.leaveGuards.size||(x.leaveGuards=_.leaveGuards),x.updateGuards.size||(x.updateGuards=_.updateGuards))),p&&x&&(!_||!br(x,_)||!A)&&(x.enterCallbacks[w]||[]).forEach(T=>T(p))},{flush:"post"}),()=>{const p=r.value,x=e.name,w=h.value,A=w&&w.components[x];if(!A)return gf(n.default,{Component:A,route:p});const _=w.props[x],I=_?_===!0?p.params:typeof _=="function"?_(p):_:null,v=S0(A,ce({},I,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(w.instances[x]=null)},ref:g}));return gf(n.default,{Component:v,route:p})||v}}});function gf(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const iw=nw;function sw(e){const t=jb(e.routes,e),n=e.parseQuery||Kb,i=e.stringifyQuery||cf,r=e.history,o=Ur(),c=Ur(),h=Ur(),g=Vm(Zi);let p=Zi;or&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const x=tc.bind(null,nt=>""+nt),w=tc.bind(null,mb),A=tc.bind(null,Ao);function _(nt,ft){let mt,Ct;return Y0(nt)?(mt=t.getRecordMatcher(nt),Ct=ft):Ct=nt,t.addRoute(Ct,mt)}function I(nt){const ft=t.getRecordMatcher(nt);ft&&t.removeRoute(ft)}function T(){return t.getRoutes().map(nt=>nt.record)}function v(nt){return!!t.getRecordMatcher(nt)}function k(nt,ft){if(ft=ce({},ft||g.value),typeof nt=="string"){const z=ec(n,nt,ft.path),tt=t.resolve({path:z.path},ft),st=r.createHref(z.fullPath);return ce(z,tt,{params:A(tt.params),hash:Ao(z.hash),redirectedFrom:void 0,href:st})}let mt;if(nt.path!=null)mt=ce({},nt,{path:ec(n,nt.path,ft.path).path});else{const z=ce({},nt.params);for(const tt in z)z[tt]==null&&delete z[tt];mt=ce({},nt,{params:w(z)}),ft.params=w(ft.params)}const Ct=t.resolve(mt,ft),Vt=nt.hash||"";Ct.params=x(A(Ct.params));const P=wb(i,ce({},nt,{hash:db(Vt),path:Ct.path})),N=r.createHref(P);return ce({fullPath:P,hash:Vt,query:i===cf?Zb(nt.query):nt.query||{}},Ct,{redirectedFrom:void 0,href:N})}function L(nt){return typeof nt=="string"?ec(n,nt,g.value.path):ce({},nt)}function F(nt,ft){if(p!==nt)return wr(8,{from:ft,to:nt})}function V(nt){return H(nt)}function W(nt){return V(ce(L(nt),{replace:!0}))}function Q(nt){const ft=nt.matched[nt.matched.length-1];if(ft&&ft.redirect){const{redirect:mt}=ft;let Ct=typeof mt=="function"?mt(nt):mt;return typeof Ct=="string"&&(Ct=Ct.includes("?")||Ct.includes("#")?Ct=L(Ct):{path:Ct},Ct.params={}),ce({query:nt.query,hash:nt.hash,params:Ct.path!=null?{}:nt.params},Ct)}}function H(nt,ft){const mt=p=k(nt),Ct=g.value,Vt=nt.state,P=nt.force,N=nt.replace===!0,z=Q(mt);if(z)return H(ce(L(z),{state:typeof z=="object"?ce({},Vt,z.state):Vt,force:P,replace:N}),ft||mt);const tt=mt;tt.redirectedFrom=ft;let st;return!P&&yb(i,Ct,mt)&&(st=wr(16,{to:tt,from:Ct}),Qe(Ct,Ct,!0,!1)),(st?Promise.resolve(st):Mt(tt,Ct)).catch(J=>Ii(J)?Ii(J,2)?J:Ne(J):Bt(J,tt,Ct)).then(J=>{if(J){if(Ii(J,2))return H(ce({replace:N},L(J.to),{state:typeof J.to=="object"?ce({},Vt,J.to.state):Vt,force:P}),ft||tt)}else J=ht(tt,Ct,!0,N,Vt);return At(tt,Ct,J),J})}function et(nt,ft){const mt=F(nt,ft);return mt?Promise.reject(mt):Promise.resolve()}function K(nt){const ft=ae.values().next().value;return ft&&typeof ft.runWithContext=="function"?ft.runWithContext(nt):nt()}function Mt(nt,ft){let mt;const[Ct,Vt,P]=rw(nt,ft);mt=nc(Ct.reverse(),"beforeRouteLeave",nt,ft);for(const z of Ct)z.leaveGuards.forEach(tt=>{mt.push(Ji(tt,nt,ft))});const N=et.bind(null,nt,ft);return mt.push(N),xt(mt).then(()=>{mt=[];for(const z of o.list())mt.push(Ji(z,nt,ft));return mt.push(N),xt(mt)}).then(()=>{mt=nc(Vt,"beforeRouteUpdate",nt,ft);for(const z of Vt)z.updateGuards.forEach(tt=>{mt.push(Ji(tt,nt,ft))});return mt.push(N),xt(mt)}).then(()=>{mt=[];for(const z of P)if(z.beforeEnter)if(ri(z.beforeEnter))for(const tt of z.beforeEnter)mt.push(Ji(tt,nt,ft));else mt.push(Ji(z.beforeEnter,nt,ft));return mt.push(N),xt(mt)}).then(()=>(nt.matched.forEach(z=>z.enterCallbacks={}),mt=nc(P,"beforeRouteEnter",nt,ft,K),mt.push(N),xt(mt))).then(()=>{mt=[];for(const z of c.list())mt.push(Ji(z,nt,ft));return mt.push(N),xt(mt)}).catch(z=>Ii(z,8)?z:Promise.reject(z))}function At(nt,ft,mt){h.list().forEach(Ct=>K(()=>Ct(nt,ft,mt)))}function ht(nt,ft,mt,Ct,Vt){const P=F(nt,ft);if(P)return P;const N=ft===Zi,z=or?history.state:{};mt&&(Ct||N?r.replace(nt.fullPath,ce({scroll:N&&z&&z.scroll},Vt)):r.push(nt.fullPath,Vt)),g.value=nt,Qe(nt,ft,mt,N),Ne()}let Ot;function Xt(){Ot||(Ot=r.listen((nt,ft,mt)=>{if(!Cn.listening)return;const Ct=k(nt),Vt=Q(Ct);if(Vt){H(ce(Vt,{replace:!0,force:!0}),Ct).catch(oo);return}p=Ct;const P=g.value;or&&Mb(Jh(P.fullPath,mt.delta),dl()),Mt(Ct,P).catch(N=>Ii(N,12)?N:Ii(N,2)?(H(ce(L(N.to),{force:!0}),Ct).then(z=>{Ii(z,20)&&!mt.delta&&mt.type===Co.pop&&r.go(-1,!1)}).catch(oo),Promise.reject()):(mt.delta&&r.go(-mt.delta,!1),Bt(N,Ct,P))).then(N=>{N=N||ht(Ct,P,!1),N&&(mt.delta&&!Ii(N,8)?r.go(-mt.delta,!1):mt.type===Co.pop&&Ii(N,20)&&r.go(-1,!1)),At(Ct,P,N)}).catch(oo)}))}let G=Ur(),_t=Ur(),ct;function Bt(nt,ft,mt){Ne(nt);const Ct=_t.list();return Ct.length?Ct.forEach(Vt=>Vt(nt,ft,mt)):console.error(nt),Promise.reject(nt)}function te(){return ct&&g.value!==Zi?Promise.resolve():new Promise((nt,ft)=>{G.add([nt,ft])})}function Ne(nt){return ct||(ct=!nt,Xt(),G.list().forEach(([ft,mt])=>nt?mt(nt):ft()),G.reset()),nt}function Qe(nt,ft,mt,Ct){const{scrollBehavior:Vt}=e;if(!or||!Vt)return Promise.resolve();const P=!mt&&Ob(Jh(nt.fullPath,0))||(Ct||!mt)&&history.state&&history.state.scroll||null;return wu().then(()=>Vt(nt,ft,P)).then(N=>N&&Tb(N)).catch(N=>Bt(N,nt,ft))}const qt=nt=>r.go(nt);let Ye;const ae=new Set,Cn={currentRoute:g,listening:!0,addRoute:_,removeRoute:I,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:T,resolve:k,options:e,push:V,replace:W,go:qt,back:()=>qt(-1),forward:()=>qt(1),beforeEach:o.add,beforeResolve:c.add,afterEach:h.add,onError:_t.add,isReady:te,install(nt){const ft=this;nt.component("RouterLink",Jb),nt.component("RouterView",iw),nt.config.globalProperties.$router=ft,Object.defineProperty(nt.config.globalProperties,"$route",{enumerable:!0,get:()=>hr(g)}),or&&!Ye&&g.value===Zi&&(Ye=!0,V(r.location).catch(Vt=>{}));const mt={};for(const Vt in Zi)Object.defineProperty(mt,Vt,{get:()=>g.value[Vt],enumerable:!0});nt.provide(Mu,ft),nt.provide(q0,B1(mt)),nt.provide(Bc,g);const Ct=nt.unmount;ae.add(nt),nt.unmount=function(){ae.delete(nt),ae.size<1&&(p=Zi,Ot&&Ot(),Ot=null,g.value=Zi,Ye=!1,ct=!1),Ct()}}};function xt(nt){return nt.reduce((ft,mt)=>ft.then(()=>K(mt)),Promise.resolve())}return Cn}function rw(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let c=0;c<o;c++){const h=t.matched[c];h&&(e.matched.find(p=>br(p,h))?i.push(h):n.push(h));const g=e.matched[c];g&&(t.matched.find(p=>br(p,g))||r.push(g))}return[n,i,r]}const ow={props:{paginatedBooks:Array},methods:{getBookImageUrl(e){return`http://localhost:8080/api/uploads/book-image?bookid=${e}`}}},aw=["src","alt"];function lw(e,t,n,i,r,o){const c=Xe("router-link");return St(),Tt("table",null,[t[0]||(t[0]=O("thead",null,[O("tr",null,[O("th",null,"ID"),O("th",null,"Img"),O("th",null,"Title"),O("th",null,"Author"),O("th",null,"Publisher"),O("th",null,"Release Date"),O("th",null,"Category"),O("th",null,"Price"),O("th",null,"Stock")])],-1)),O("tbody",null,[(St(!0),Tt(Pe,null,Bs(n.paginatedBooks,h=>(St(),Tt("tr",{key:h.bookId},[O("td",null,It(h.bookId),1),O("td",null,[$t(c,{to:"/book/"+h.bookId},{default:Ls(()=>[O("img",{src:o.getBookImageUrl(h.bookId),alt:h.bookTitle,width:"100",height:"auto"},null,8,aw)]),_:2},1032,["to"])]),O("td",null,[$t(c,{to:"/book/"+h.bookId},{default:Ls(()=>[Zn(It(h.bookTitle),1)]),_:2},1032,["to"])]),O("td",null,It(h.bookAuthor),1),O("td",null,It(h.bookPublisher),1),O("td",null,It(h.bookReleaseDate),1),O("td",null,It(h.bookCategory),1),O("td",null,It(h.bookPrice),1),O("td",null,It(h.bookTotalStock),1)]))),128))])])}const cw=De(ow,[["render",lw]]),uw={props:["currentPage","totalPages"],methods:{goToPreviousPage(){this.$emit("update-current-page",this.currentPage-1)},goToNextPage(){this.$emit("update-current-page",this.currentPage+1)}}},hw={class:"pagination-controls"},fw=["disabled"],dw=["disabled"];function gw(e,t,n,i,r,o){return St(),Tt("div",hw,[O("button",{disabled:n.currentPage===1,onClick:t[0]||(t[0]=(...c)=>o.goToPreviousPage&&o.goToPreviousPage(...c))},"Previous",8,fw),O("span",null,"Page "+It(n.currentPage)+" of "+It(n.totalPages),1),O("button",{disabled:n.currentPage===n.totalPages,onClick:t[1]||(t[1]=(...c)=>o.goToNextPage&&o.goToNextPage(...c))},"Next",8,dw)])}const Q0=De(uw,[["render",gw]]);function $0(e,t){return function(){return e.apply(t,arguments)}}const{toString:pw}=Object.prototype,{getPrototypeOf:Ou}=Object,gl=(e=>t=>{const n=pw.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ai=e=>(e=e.toLowerCase(),t=>gl(t)===e),pl=e=>t=>typeof t===e,{isArray:Ir}=Array,_o=pl("undefined");function mw(e){return e!==null&&!_o(e)&&e.constructor!==null&&!_o(e.constructor)&&zn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const J0=ai("ArrayBuffer");function xw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&J0(e.buffer),t}const bw=pl("string"),zn=pl("function"),tg=pl("number"),ml=e=>e!==null&&typeof e=="object",ww=e=>e===!0||e===!1,Ca=e=>{if(gl(e)!=="object")return!1;const t=Ou(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yw=ai("Date"),Aw=ai("File"),Cw=ai("Blob"),_w=ai("FileList"),Ew=e=>ml(e)&&zn(e.pipe),Sw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||zn(e.append)&&((t=gl(e))==="formdata"||t==="object"&&zn(e.toString)&&e.toString()==="[object FormData]"))},Iw=ai("URLSearchParams"),[Tw,Mw,Ow,vw]=["ReadableStream","Request","Response","Headers"].map(ai),Rw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bo(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),Ir(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),c=o.length;let h;for(i=0;i<c;i++)h=o[i],t.call(null,e[h],h,e)}}function eg(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ng=e=>!_o(e)&&e!==Os;function Fc(){const{caseless:e}=ng(this)&&this||{},t={},n=(i,r)=>{const o=e&&eg(t,r)||r;Ca(t[o])&&Ca(i)?t[o]=Fc(t[o],i):Ca(i)?t[o]=Fc({},i):Ir(i)?t[o]=i.slice():t[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Bo(arguments[i],n);return t}const Dw=(e,t,n,{allOwnKeys:i}={})=>(Bo(t,(r,o)=>{n&&zn(r)?e[o]=$0(r,n):e[o]=r},{allOwnKeys:i}),e),Nw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kw=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Pw=(e,t,n,i)=>{let r,o,c;const h={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)c=r[o],(!i||i(c,e,t))&&!h[c]&&(t[c]=e[c],h[c]=!0);e=n!==!1&&Ou(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Lw=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},Bw=e=>{if(!e)return null;if(Ir(e))return e;let t=e.length;if(!tg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Fw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ou(Uint8Array)),Uw=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=i.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},Vw=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},Hw=ai("HTMLFormElement"),zw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),pf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),jw=ai("RegExp"),ig=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Bo(n,(r,o)=>{let c;(c=t(r,o,e))!==!1&&(i[o]=c||r)}),Object.defineProperties(e,i)},Ww=e=>{ig(e,(t,n)=>{if(zn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(zn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Gw=(e,t)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return Ir(e)?i(e):i(String(e).split(t)),n},Yw=()=>{},Xw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,ic="abcdefghijklmnopqrstuvwxyz",mf="0123456789",sg={DIGIT:mf,ALPHA:ic,ALPHA_DIGIT:ic+ic.toUpperCase()+mf},Kw=(e=16,t=sg.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function Zw(e){return!!(e&&zn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const qw=e=>{const t=new Array(10),n=(i,r)=>{if(ml(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const o=Ir(i)?[]:{};return Bo(i,(c,h)=>{const g=n(c,r+1);!_o(g)&&(o[h]=g)}),t[r]=void 0,o}}return i};return n(e,0)},Qw=ai("AsyncFunction"),$w=e=>e&&(ml(e)||zn(e))&&zn(e.then)&&zn(e.catch),rg=((e,t)=>e?setImmediate:t?((n,i)=>(Os.addEventListener("message",({source:r,data:o})=>{r===Os&&o===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Os.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",zn(Os.postMessage)),Jw=typeof queueMicrotask<"u"?queueMicrotask.bind(Os):typeof process<"u"&&process.nextTick||rg,$={isArray:Ir,isArrayBuffer:J0,isBuffer:mw,isFormData:Sw,isArrayBufferView:xw,isString:bw,isNumber:tg,isBoolean:ww,isObject:ml,isPlainObject:Ca,isReadableStream:Tw,isRequest:Mw,isResponse:Ow,isHeaders:vw,isUndefined:_o,isDate:yw,isFile:Aw,isBlob:Cw,isRegExp:jw,isFunction:zn,isStream:Ew,isURLSearchParams:Iw,isTypedArray:Fw,isFileList:_w,forEach:Bo,merge:Fc,extend:Dw,trim:Rw,stripBOM:Nw,inherits:kw,toFlatObject:Pw,kindOf:gl,kindOfTest:ai,endsWith:Lw,toArray:Bw,forEachEntry:Uw,matchAll:Vw,isHTMLForm:Hw,hasOwnProperty:pf,hasOwnProp:pf,reduceDescriptors:ig,freezeMethods:Ww,toObjectSet:Gw,toCamelCase:zw,noop:Yw,toFiniteNumber:Xw,findKey:eg,global:Os,isContextDefined:ng,ALPHABET:sg,generateString:Kw,isSpecCompliantForm:Zw,toJSONObject:qw,isAsyncFn:Qw,isThenable:$w,setImmediate:rg,asap:Jw};function zt(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}$.inherits(zt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const og=zt.prototype,ag={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ag[e]={value:e}});Object.defineProperties(zt,ag);Object.defineProperty(og,"isAxiosError",{value:!0});zt.from=(e,t,n,i,r,o)=>{const c=Object.create(og);return $.toFlatObject(e,c,function(g){return g!==Error.prototype},h=>h!=="isAxiosError"),zt.call(c,e.message,t,n,i,r),c.cause=e,c.name=e.name,o&&Object.assign(c,o),c};const ty=null;function Uc(e){return $.isPlainObject(e)||$.isArray(e)}function lg(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function xf(e,t,n){return e?e.concat(t).map(function(r,o){return r=lg(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function ey(e){return $.isArray(e)&&!e.some(Uc)}const ny=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function xl(e,t,n){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,v){return!$.isUndefined(v[T])});const i=n.metaTokens,r=n.visitor||x,o=n.dots,c=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(r))throw new TypeError("visitor must be a function");function p(I){if(I===null)return"";if($.isDate(I))return I.toISOString();if(!g&&$.isBlob(I))throw new zt("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(I)||$.isTypedArray(I)?g&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function x(I,T,v){let k=I;if(I&&!v&&typeof I=="object"){if($.endsWith(T,"{}"))T=i?T:T.slice(0,-2),I=JSON.stringify(I);else if($.isArray(I)&&ey(I)||($.isFileList(I)||$.endsWith(T,"[]"))&&(k=$.toArray(I)))return T=lg(T),k.forEach(function(F,V){!($.isUndefined(F)||F===null)&&t.append(c===!0?xf([T],V,o):c===null?T:T+"[]",p(F))}),!1}return Uc(I)?!0:(t.append(xf(v,T,o),p(I)),!1)}const w=[],A=Object.assign(ny,{defaultVisitor:x,convertValue:p,isVisitable:Uc});function _(I,T){if(!$.isUndefined(I)){if(w.indexOf(I)!==-1)throw Error("Circular reference detected in "+T.join("."));w.push(I),$.forEach(I,function(k,L){(!($.isUndefined(k)||k===null)&&r.call(t,k,$.isString(L)?L.trim():L,T,A))===!0&&_(k,T?T.concat(L):[L])}),w.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return _(e),t}function bf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function vu(e,t){this._pairs=[],e&&xl(e,this,t)}const cg=vu.prototype;cg.append=function(t,n){this._pairs.push([t,n])};cg.toString=function(t){const n=t?function(i){return t.call(this,i,bf)}:bf;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function iy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ug(e,t,n){if(!t)return e;const i=n&&n.encode||iy;$.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(t,n):o=$.isURLSearchParams(t)?t.toString():new vu(t,n).toString(i),o){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class wf{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(i){i!==null&&t(i)})}}const hg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sy=typeof URLSearchParams<"u"?URLSearchParams:vu,ry=typeof FormData<"u"?FormData:null,oy=typeof Blob<"u"?Blob:null,ay={isBrowser:!0,classes:{URLSearchParams:sy,FormData:ry,Blob:oy},protocols:["http","https","file","blob","url","data"]},Ru=typeof window<"u"&&typeof document<"u",Vc=typeof navigator=="object"&&navigator||void 0,ly=Ru&&(!Vc||["ReactNative","NativeScript","NS"].indexOf(Vc.product)<0),cy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uy=Ru&&window.location.href||"http://localhost",hy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ru,hasStandardBrowserEnv:ly,hasStandardBrowserWebWorkerEnv:cy,navigator:Vc,origin:uy},Symbol.toStringTag,{value:"Module"})),dn={...hy,...ay};function fy(e,t){return xl(e,new dn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return dn.isNode&&$.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function dy(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function gy(e){const t={},n=Object.keys(e);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],t[o]=e[o];return t}function fg(e){function t(n,i,r,o){let c=n[o++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),g=o>=n.length;return c=!c&&$.isArray(r)?r.length:c,g?($.hasOwnProp(r,c)?r[c]=[r[c],i]:r[c]=i,!h):((!r[c]||!$.isObject(r[c]))&&(r[c]=[]),t(n,i,r[c],o)&&$.isArray(r[c])&&(r[c]=gy(r[c])),!h)}if($.isFormData(e)&&$.isFunction(e.entries)){const n={};return $.forEachEntry(e,(i,r)=>{t(dy(i),r,n,0)}),n}return null}function py(e,t,n){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(e)}const Fo={transitional:hg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=$.isObject(t);if(o&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return r?JSON.stringify(fg(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return fy(t,this.formSerializer).toString();if((h=$.isFileList(t))||i.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return xl(h?{"files[]":t}:t,g&&new g,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),py(t)):t}],transformResponse:[function(t){const n=this.transitional||Fo.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(i&&!this.responseType||r)){const c=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(h){if(c)throw h.name==="SyntaxError"?zt.from(h,zt.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dn.classes.FormData,Blob:dn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{Fo.headers[e]={}});const my=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xy=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(c){r=c.indexOf(":"),n=c.substring(0,r).trim().toLowerCase(),i=c.substring(r+1).trim(),!(!n||t[n]&&my[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},yf=Symbol("internals");function Vr(e){return e&&String(e).trim().toLowerCase()}function _a(e){return e===!1||e==null?e:$.isArray(e)?e.map(_a):String(e)}function by(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const wy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sc(e,t,n,i,r){if($.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!$.isString(t)){if($.isString(i))return t.indexOf(i)!==-1;if($.isRegExp(i))return i.test(t)}}function yy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function Ay(e,t){const n=$.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,o,c){return this[i].call(this,t,r,o,c)},configurable:!0})})}class vn{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function o(h,g,p){const x=Vr(g);if(!x)throw new Error("header name must be a non-empty string");const w=$.findKey(r,x);(!w||r[w]===void 0||p===!0||p===void 0&&r[w]!==!1)&&(r[w||g]=_a(h))}const c=(h,g)=>$.forEach(h,(p,x)=>o(p,x,g));if($.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if($.isString(t)&&(t=t.trim())&&!wy(t))c(xy(t),n);else if($.isHeaders(t))for(const[h,g]of t.entries())o(g,h,i);else t!=null&&o(n,t,i);return this}get(t,n){if(t=Vr(t),t){const i=$.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return by(r);if($.isFunction(n))return n.call(this,r,i);if($.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Vr(t),t){const i=$.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||sc(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function o(c){if(c=Vr(c),c){const h=$.findKey(i,c);h&&(!n||sc(i,i[h],h,n))&&(delete i[h],r=!0)}}return $.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!t||sc(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,i={};return $.forEach(this,(r,o)=>{const c=$.findKey(i,o);if(c){n[c]=_a(r),delete n[o];return}const h=t?yy(o):String(o).trim();h!==o&&delete n[o],n[h]=_a(r),i[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return $.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&$.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[yf]=this[yf]={accessors:{}}).accessors,r=this.prototype;function o(c){const h=Vr(c);i[h]||(Ay(r,c),i[h]=!0)}return $.isArray(t)?t.forEach(o):o(t),this}}vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(vn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});$.freezeMethods(vn);function rc(e,t){const n=this||Fo,i=t||n,r=vn.from(i.headers);let o=i.data;return $.forEach(e,function(h){o=h.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function dg(e){return!!(e&&e.__CANCEL__)}function Tr(e,t,n){zt.call(this,e??"canceled",zt.ERR_CANCELED,t,n),this.name="CanceledError"}$.inherits(Tr,zt,{__CANCEL__:!0});function gg(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new zt("Request failed with status code "+n.status,[zt.ERR_BAD_REQUEST,zt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Cy(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function _y(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,o=0,c;return t=t!==void 0?t:1e3,function(g){const p=Date.now(),x=i[o];c||(c=p),n[r]=g,i[r]=p;let w=o,A=0;for(;w!==r;)A+=n[w++],w=w%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),p-c<t)return;const _=x&&p-x;return _?Math.round(A*1e3/_):void 0}}function Ey(e,t){let n=0,i=1e3/t,r,o;const c=(p,x=Date.now())=>{n=x,r=null,o&&(clearTimeout(o),o=null),e.apply(null,p)};return[(...p)=>{const x=Date.now(),w=x-n;w>=i?c(p,x):(r=p,o||(o=setTimeout(()=>{o=null,c(r)},i-w)))},()=>r&&c(r)]}const ja=(e,t,n=3)=>{let i=0;const r=_y(50,250);return Ey(o=>{const c=o.loaded,h=o.lengthComputable?o.total:void 0,g=c-i,p=r(g),x=c<=h;i=c;const w={loaded:c,total:h,progress:h?c/h:void 0,bytes:g,rate:p||void 0,estimated:p&&h&&x?(h-c)/p:void 0,event:o,lengthComputable:h!=null,[t?"download":"upload"]:!0};e(w)},n)},Af=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Cf=e=>(...t)=>$.asap(()=>e(...t)),Sy=dn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,dn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(dn.origin),dn.navigator&&/(msie|trident)/i.test(dn.navigator.userAgent)):()=>!0,Iy=dn.hasStandardBrowserEnv?{write(e,t,n,i,r,o){const c=[e+"="+encodeURIComponent(t)];$.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),$.isString(i)&&c.push("path="+i),$.isString(r)&&c.push("domain="+r),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ty(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function My(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pg(e,t){return e&&!Ty(t)?My(e,t):t}const _f=e=>e instanceof vn?{...e}:e;function Us(e,t){t=t||{};const n={};function i(p,x,w,A){return $.isPlainObject(p)&&$.isPlainObject(x)?$.merge.call({caseless:A},p,x):$.isPlainObject(x)?$.merge({},x):$.isArray(x)?x.slice():x}function r(p,x,w,A){if($.isUndefined(x)){if(!$.isUndefined(p))return i(void 0,p,w,A)}else return i(p,x,w,A)}function o(p,x){if(!$.isUndefined(x))return i(void 0,x)}function c(p,x){if($.isUndefined(x)){if(!$.isUndefined(p))return i(void 0,p)}else return i(void 0,x)}function h(p,x,w){if(w in t)return i(p,x);if(w in e)return i(void 0,p)}const g={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(p,x,w)=>r(_f(p),_f(x),w,!0)};return $.forEach(Object.keys(Object.assign({},e,t)),function(x){const w=g[x]||r,A=w(e[x],t[x],x);$.isUndefined(A)&&w!==h||(n[x]=A)}),n}const mg=e=>{const t=Us({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:c,auth:h}=t;t.headers=c=vn.from(c),t.url=ug(pg(t.baseURL,t.url),e.params,e.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let g;if($.isFormData(n)){if(dn.hasStandardBrowserEnv||dn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((g=c.getContentType())!==!1){const[p,...x]=g?g.split(";").map(w=>w.trim()).filter(Boolean):[];c.setContentType([p||"multipart/form-data",...x].join("; "))}}if(dn.hasStandardBrowserEnv&&(i&&$.isFunction(i)&&(i=i(t)),i||i!==!1&&Sy(t.url))){const p=r&&o&&Iy.read(o);p&&c.set(r,p)}return t},Oy=typeof XMLHttpRequest<"u",vy=Oy&&function(e){return new Promise(function(n,i){const r=mg(e);let o=r.data;const c=vn.from(r.headers).normalize();let{responseType:h,onUploadProgress:g,onDownloadProgress:p}=r,x,w,A,_,I;function T(){_&&_(),I&&I(),r.cancelToken&&r.cancelToken.unsubscribe(x),r.signal&&r.signal.removeEventListener("abort",x)}let v=new XMLHttpRequest;v.open(r.method.toUpperCase(),r.url,!0),v.timeout=r.timeout;function k(){if(!v)return;const F=vn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),W={data:!h||h==="text"||h==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:F,config:e,request:v};gg(function(H){n(H),T()},function(H){i(H),T()},W),v=null}"onloadend"in v?v.onloadend=k:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(k)},v.onabort=function(){v&&(i(new zt("Request aborted",zt.ECONNABORTED,e,v)),v=null)},v.onerror=function(){i(new zt("Network Error",zt.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let V=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const W=r.transitional||hg;r.timeoutErrorMessage&&(V=r.timeoutErrorMessage),i(new zt(V,W.clarifyTimeoutError?zt.ETIMEDOUT:zt.ECONNABORTED,e,v)),v=null},o===void 0&&c.setContentType(null),"setRequestHeader"in v&&$.forEach(c.toJSON(),function(V,W){v.setRequestHeader(W,V)}),$.isUndefined(r.withCredentials)||(v.withCredentials=!!r.withCredentials),h&&h!=="json"&&(v.responseType=r.responseType),p&&([A,I]=ja(p,!0),v.addEventListener("progress",A)),g&&v.upload&&([w,_]=ja(g),v.upload.addEventListener("progress",w),v.upload.addEventListener("loadend",_)),(r.cancelToken||r.signal)&&(x=F=>{v&&(i(!F||F.type?new Tr(null,e,v):F),v.abort(),v=null)},r.cancelToken&&r.cancelToken.subscribe(x),r.signal&&(r.signal.aborted?x():r.signal.addEventListener("abort",x)));const L=Cy(r.url);if(L&&dn.protocols.indexOf(L)===-1){i(new zt("Unsupported protocol "+L+":",zt.ERR_BAD_REQUEST,e));return}v.send(o||null)})},Ry=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,r;const o=function(p){if(!r){r=!0,h();const x=p instanceof Error?p:this.reason;i.abort(x instanceof zt?x:new Tr(x instanceof Error?x.message:x))}};let c=t&&setTimeout(()=>{c=null,o(new zt(`timeout ${t} of ms exceeded`,zt.ETIMEDOUT))},t);const h=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),e=null)};e.forEach(p=>p.addEventListener("abort",o));const{signal:g}=i;return g.unsubscribe=()=>$.asap(h),g}},Dy=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,r;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Ny=async function*(e,t){for await(const n of ky(e))yield*Dy(n,t)},ky=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Ef=(e,t,n,i)=>{const r=Ny(e,t);let o=0,c,h=g=>{c||(c=!0,i&&i(g))};return new ReadableStream({async pull(g){try{const{done:p,value:x}=await r.next();if(p){h(),g.close();return}let w=x.byteLength;if(n){let A=o+=w;n(A)}g.enqueue(new Uint8Array(x))}catch(p){throw h(p),p}},cancel(g){return h(g),r.return()}},{highWaterMark:2})},bl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xg=bl&&typeof ReadableStream=="function",Py=bl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),bg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ly=xg&&bg(()=>{let e=!1;const t=new Request(dn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Sf=64*1024,Hc=xg&&bg(()=>$.isReadableStream(new Response("").body)),Wa={stream:Hc&&(e=>e.body)};bl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Wa[t]&&(Wa[t]=$.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new zt(`Response type '${t}' is not supported`,zt.ERR_NOT_SUPPORT,i)})})})(new Response);const By=async e=>{if(e==null)return 0;if($.isBlob(e))return e.size;if($.isSpecCompliantForm(e))return(await new Request(dn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if($.isArrayBufferView(e)||$.isArrayBuffer(e))return e.byteLength;if($.isURLSearchParams(e)&&(e=e+""),$.isString(e))return(await Py(e)).byteLength},Fy=async(e,t)=>{const n=$.toFiniteNumber(e.getContentLength());return n??By(t)},Uy=bl&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:o,timeout:c,onDownloadProgress:h,onUploadProgress:g,responseType:p,headers:x,withCredentials:w="same-origin",fetchOptions:A}=mg(e);p=p?(p+"").toLowerCase():"text";let _=Ry([r,o&&o.toAbortSignal()],c),I;const T=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let v;try{if(g&&Ly&&n!=="get"&&n!=="head"&&(v=await Fy(x,i))!==0){let W=new Request(t,{method:"POST",body:i,duplex:"half"}),Q;if($.isFormData(i)&&(Q=W.headers.get("content-type"))&&x.setContentType(Q),W.body){const[H,et]=Af(v,ja(Cf(g)));i=Ef(W.body,Sf,H,et)}}$.isString(w)||(w=w?"include":"omit");const k="credentials"in Request.prototype;I=new Request(t,{...A,signal:_,method:n.toUpperCase(),headers:x.normalize().toJSON(),body:i,duplex:"half",credentials:k?w:void 0});let L=await fetch(I);const F=Hc&&(p==="stream"||p==="response");if(Hc&&(h||F&&T)){const W={};["status","statusText","headers"].forEach(K=>{W[K]=L[K]});const Q=$.toFiniteNumber(L.headers.get("content-length")),[H,et]=h&&Af(Q,ja(Cf(h),!0))||[];L=new Response(Ef(L.body,Sf,H,()=>{et&&et(),T&&T()}),W)}p=p||"text";let V=await Wa[$.findKey(Wa,p)||"text"](L,e);return!F&&T&&T(),await new Promise((W,Q)=>{gg(W,Q,{data:V,headers:vn.from(L.headers),status:L.status,statusText:L.statusText,config:e,request:I})})}catch(k){throw T&&T(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new zt("Network Error",zt.ERR_NETWORK,e,I),{cause:k.cause||k}):zt.from(k,k&&k.code,e,I)}}),zc={http:ty,xhr:vy,fetch:Uy};$.forEach(zc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const If=e=>`- ${e}`,Vy=e=>$.isFunction(e)||e===null||e===!1,wg={getAdapter:e=>{e=$.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let o=0;o<t;o++){n=e[o];let c;if(i=n,!Vy(n)&&(i=zc[(c=String(n)).toLowerCase()],i===void 0))throw new zt(`Unknown adapter '${c}'`);if(i)break;r[c||"#"+o]=i}if(!i){const o=Object.entries(r).map(([h,g])=>`adapter ${h} `+(g===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(If).join(`
`):" "+If(o[0]):"as no adapter specified";throw new zt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:zc};function oc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Tr(null,e)}function Tf(e){return oc(e),e.headers=vn.from(e.headers),e.data=rc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wg.getAdapter(e.adapter||Fo.adapter)(e).then(function(i){return oc(e),i.data=rc.call(e,e.transformResponse,i),i.headers=vn.from(i.headers),i},function(i){return dg(i)||(oc(e),i&&i.response&&(i.response.data=rc.call(e,e.transformResponse,i.response),i.response.headers=vn.from(i.response.headers))),Promise.reject(i)})}const yg="1.7.9",wl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wl[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Mf={};wl.transitional=function(t,n,i){function r(o,c){return"[Axios v"+yg+"] Transitional option '"+o+"'"+c+(i?". "+i:"")}return(o,c,h)=>{if(t===!1)throw new zt(r(c," has been removed"+(n?" in "+n:"")),zt.ERR_DEPRECATED);return n&&!Mf[c]&&(Mf[c]=!0,console.warn(r(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,c,h):!0}};wl.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function Hy(e,t,n){if(typeof e!="object")throw new zt("options must be an object",zt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const o=i[r],c=t[o];if(c){const h=e[o],g=h===void 0||c(h,o,e);if(g!==!0)throw new zt("option "+o+" must be "+g,zt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new zt("Unknown option "+o,zt.ERR_BAD_OPTION)}}const Ea={assertOptions:Hy,validators:wl},pi=Ea.validators;class Ds{constructor(t){this.defaults=t,this.interceptors={request:new wf,response:new wf}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Us(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&Ea.assertOptions(i,{silentJSONParsing:pi.transitional(pi.boolean),forcedJSONParsing:pi.transitional(pi.boolean),clarifyTimeoutError:pi.transitional(pi.boolean)},!1),r!=null&&($.isFunction(r)?n.paramsSerializer={serialize:r}:Ea.assertOptions(r,{encode:pi.function,serialize:pi.function},!0)),Ea.assertOptions(n,{baseUrl:pi.spelling("baseURL"),withXsrfToken:pi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=o&&$.merge(o.common,o[n.method]);o&&$.forEach(["delete","get","head","post","put","patch","common"],I=>{delete o[I]}),n.headers=vn.concat(c,o);const h=[];let g=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(g=g&&T.synchronous,h.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let x,w=0,A;if(!g){const I=[Tf.bind(this),void 0];for(I.unshift.apply(I,h),I.push.apply(I,p),A=I.length,x=Promise.resolve(n);w<A;)x=x.then(I[w++],I[w++]);return x}A=h.length;let _=n;for(w=0;w<A;){const I=h[w++],T=h[w++];try{_=I(_)}catch(v){T.call(this,v);break}}try{x=Tf.call(this,_)}catch(I){return Promise.reject(I)}for(w=0,A=p.length;w<A;)x=x.then(p[w++],p[w++]);return x}getUri(t){t=Us(this.defaults,t);const n=pg(t.baseURL,t.url);return ug(n,t.params,t.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(t){Ds.prototype[t]=function(n,i){return this.request(Us(i||{},{method:t,url:n,data:(i||{}).data}))}});$.forEach(["post","put","patch"],function(t){function n(i){return function(o,c,h){return this.request(Us(h||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Ds.prototype[t]=n(),Ds.prototype[t+"Form"]=n(!0)});class Du{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const c=new Promise(h=>{i.subscribe(h),o=h}).then(r);return c.cancel=function(){i.unsubscribe(o)},c},t(function(o,c,h){i.reason||(i.reason=new Tr(o,c,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Du(function(r){t=r}),cancel:t}}}function zy(e){return function(n){return e.apply(null,n)}}function jy(e){return $.isObject(e)&&e.isAxiosError===!0}const jc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jc).forEach(([e,t])=>{jc[t]=e});function Ag(e){const t=new Ds(e),n=$0(Ds.prototype.request,t);return $.extend(n,Ds.prototype,t,{allOwnKeys:!0}),$.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Ag(Us(e,r))},n}const Wt=Ag(Fo);Wt.Axios=Ds;Wt.CanceledError=Tr;Wt.CancelToken=Du;Wt.isCancel=dg;Wt.VERSION=yg;Wt.toFormData=xl;Wt.AxiosError=zt;Wt.Cancel=Wt.CanceledError;Wt.all=function(t){return Promise.all(t)};Wt.spread=zy;Wt.isAxiosError=jy;Wt.mergeConfig=Us;Wt.AxiosHeaders=vn;Wt.formToJSON=e=>fg($.isHTMLForm(e)?new FormData(e):e);Wt.getAdapter=wg.getAdapter;Wt.HttpStatusCode=jc;Wt.default=Wt;const Wy={name:"BookSearch",data(){return{categories:[],selectedCategory:"All",searchKeyword:""}},methods:{async fetchCategories(){try{const e=await Wt.get("http://localhost:8080/api/books/categories");this.categories=e.data.map(t=>t.bookCategory)}catch(e){console.error("Error fetching categories:",e)}},async fetchBooksByCategory(){try{if(this.selectedCategory==="All"){const e=await Wt.get("http://localhost:8080/api/books");this.$emit("update-books-list",e.data)}else{const e=await Wt.get(`http://localhost:8080/api/books/categories/${encodeURIComponent(this.selectedCategory)}`);this.$emit("update-books-list",e.data)}}catch(e){console.error("Error fetching books by category:",e)}},async fetchSearchResults(){try{if(!this.searchKeyword){const t=await Wt.get("http://localhost:8080/api/books");this.$emit("update-books-list",t.data)}const e=await Wt.get("http://localhost:8080/api/books/search",{params:{keyword:this.searchKeyword}});this.$emit("update-books-list",e.data)}catch(e){console.error("Error fetching search results:",e)}}},mounted(){this.fetchCategories()}},Gy={class:"book-search"},Yy=["value"];function Xy(e,t,n,i,r,o){return St(),Tt("div",Gy,[t[6]||(t[6]=O("label",{for:"category"},"Select Category:",-1)),fe(O("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=c=>r.selectedCategory=c),onChange:t[1]||(t[1]=(...c)=>o.fetchBooksByCategory&&o.fetchBooksByCategory(...c))},[t[4]||(t[4]=O("option",{value:"",disabled:""},"Select a category",-1)),t[5]||(t[5]=O("option",{value:"All"},"All",-1)),(St(!0),Tt(Pe,null,Bs(r.categories,c=>(St(),Tt("option",{key:c,value:c},It(c),9,Yy))),128))],544),[[w2,r.selectedCategory]]),t[7]||(t[7]=O("label",{for:"search"},"Search:",-1)),fe(O("input",{id:"search",type:"text","onUpdate:modelValue":t[2]||(t[2]=c=>r.searchKeyword=c),placeholder:"Search by title, author, or publisher"},null,512),[[be,r.searchKeyword]]),O("button",{onClick:t[3]||(t[3]=(...c)=>o.fetchSearchResults&&o.fetchSearchResults(...c))},"Search")])}const Cg=De(Wy,[["render",Xy]]),_g={data(){return{books:[],currentBook:{},userRole:"admin",isEditing:!1,isModalVisible:!1,currentPage:1,itemsPerPage:10,selectedFile:null}},computed:{totalPages(){return Math.ceil(this.books.length/this.itemsPerPage)},paginatedBooks(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.books.slice(e,t)}},methods:{openModal(e=!1,t=null){this.isEditing=e,this.currentBook=e?{...t}:this.getDefaultBook(),this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.currentBook={}},getDefaultBook(){return{bookId:"",bookTitle:"",bookAuthor:"",bookPublisher:"",bookReleaseDate:"",bookCategory:"",bookPrice:0,bookImg:"",bookDetail:"",bookTotalStock:0,bookLocation:""}},handleImageSelected(e){this.selectedFile=e},async handleSubmit(){this.isEditing?await this.updateBook():await this.addBook()},async addBook(){try{const e=new FormData;e.append("book",new Blob([JSON.stringify(this.currentBook)],{type:"application/json"})),this.selectedFile&&e.append("file",this.selectedFile);const t=await Wt.post("http://localhost:8080/api/books",e,{headers:{"Content-Type":"multipart/form-data"}});this.books.push(t.data),this.selectedFile=null,this.closeModal()}catch(e){console.error("Error adding book:",e)}},async updateBook(){try{const e=new FormData;e.append("book",new Blob([JSON.stringify(this.currentBook)],{type:"application/json"})),this.selectedFile&&e.append("file",this.selectedFile);const t=await Wt.put("http://localhost:8080/api/books",e,{headers:{"Content-Type":"multipart/form-data"}});if(t.data){const n=t.data,i=this.books.findIndex(r=>r.bookId===this.currentBook.bookId);i!==-1&&this.books.splice(i,1,n),this.books=this.books.map(r=>r.bookId===n.bookId?n:r)}this.selectedFile=null,this.closeModal()}catch(e){console.error("Error updating book:",e)}},async fetchData(){try{const e=await Wt.get("http://localhost:8080/api/books");this.books=e.data}catch(e){console.error("Error fetching books:",e)}},updateCurrentPage(e){this.currentPage=e},updateBookList(e){this.books=e,this.currentPage=1},async promptDelete(e,t){const n=prompt("   ");if(n&&n===t)try{await Wt.delete(`http://localhost:8080/api/books?bookid=${e}`),this.books=this.books.filter(i=>i.bookId!==e),alert("Book successfully deleted.")}catch(i){console.error("Error deleting book or image:",i),alert("Failed to delete book or its image.")}else alert("Author does not match. Deletion canceled.")}},mounted(){this.fetchData()}},Ky={components:{BookList:cw,Pagination:Q0,BookSearch:Cg},mixins:[_g]},Zy={class:"container",id:"app"};function qy(e,t,n,i,r,o){const c=Xe("BookSearch"),h=Xe("BookList"),g=Xe("Pagination");return St(),Tt("div",Zy,[t[0]||(t[0]=O("h2",null,"Book List",-1)),$t(c,{onUpdateBooksList:e.updateBookList},null,8,["onUpdateBooksList"]),$t(h,{paginatedBooks:e.paginatedBooks},null,8,["paginatedBooks"]),$t(g,{currentPage:e.currentPage,totalPages:e.totalPages,onUpdateCurrentPage:e.updateCurrentPage},null,8,["currentPage","totalPages","onUpdateCurrentPage"])])}const Qy=De(Ky,[["render",qy]]),$y={props:{bookId:0},data(){return{book:null,nowBookCount:1}},async created(){const e=this.$route.params.bookId||this.bookId;try{const t=await Wt.get(`http://localhost:8080/api/books/${e}`);this.book=t.data}catch(t){console.error("Error fetching book details:",t)}},methods:{getBookImageUrl(e){return`http://localhost:8080/api/uploads/book-image?bookid=${e}`},addCart(e){Wt.post("http://localhost:8080/api/carts/add",{bookId:e,bookCount:this.nowBookCount},{withCredentials:!0}).then(t=>{alert(t.data)}).catch(t=>{console.error("Error - add cart:",t),alert("  ")})}}},Jy={key:0,class:"bookDetails"},tA=["src","alt"];function eA(e,t,n,i,r,o){return St(),Tt(Pe,null,[r.book?(St(),Tt("div",Jy,[O("h2",null,It(r.book.bookTitle),1),O("img",{src:o.getBookImageUrl(r.book.bookId),alt:r.book.bookTitle,width:"100",height:"auto"},null,8,tA),O("p",null,[t[2]||(t[2]=O("strong",null,"Author:",-1)),Zn(" "+It(r.book.bookAuthor),1)]),O("p",null,[t[3]||(t[3]=O("strong",null,"Publisher:",-1)),Zn(" "+It(r.book.bookPublisher),1)]),O("p",null,[t[4]||(t[4]=O("strong",null,"Release Date:",-1)),Zn(" "+It(r.book.bookReleaseDate),1)]),O("p",null,[t[5]||(t[5]=O("strong",null,"Category:",-1)),Zn(" "+It(r.book.bookCategory),1)]),O("p",null,[t[6]||(t[6]=O("strong",null,"Price:",-1)),Zn(" "+It(r.book.bookPrice),1)]),O("p",null,[t[7]||(t[7]=O("strong",null,"Stock:",-1)),Zn(" "+It(r.book.bookTotalStock),1)]),O("p",null,[t[8]||(t[8]=O("strong",null,"Details:",-1)),Zn(" "+It(r.book.bookDetail),1)])])):on("",!0),O("div",null,[fe(O("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=c=>r.nowBookCount=c),class:"nowCartBookCount",min:"1"},null,512),[[be,r.nowBookCount]])]),O("div",null,[O("button",{class:"addCartBtn",onClick:t[1]||(t[1]=c=>o.addCart(r.book.bookId))}," cart ")])],64)}const nA=De($y,[["render",eA]]),iA={name:"Header",data(){return{isLoggedIn:!1}},mounted(){this.isLoggedIn=localStorage.getItem("isLoggedIn")==="true"},methods:{logout(){localStorage.removeItem("isLoggedIn"),this.isLoggedIn=!1,alert(" .")}}},sA={class:"header"},rA={class:"auth-buttons"};function oA(e,t,n,i,r,o){return St(),Tt("div",null,[O("header",sA,[t[4]||(t[4]=bo('<div class="logo" data-v-db9f8cfa><a href="/" data-v-db9f8cfa>Name</a></div><div class="search-container" data-v-db9f8cfa><input type="text" placeholder="Search..." class="search-input" data-v-db9f8cfa><button class="search-button" data-v-db9f8cfa></button></div>',2)),O("div",rA,[r.isLoggedIn?(St(),Tt(Pe,{key:1},[t[3]||(t[3]=O("button",{class:"auth-button"},[O("a",{href:"/mypage"},"Mypage")],-1)),O("button",{class:"auth-button",onClick:t[0]||(t[0]=(...c)=>o.logout&&o.logout(...c))},"Logout")],64)):(St(),Tt(Pe,{key:0},[t[1]||(t[1]=O("button",{class:"auth-button"},[O("a",{href:"/login"},"Login")],-1)),t[2]||(t[2]=O("button",{class:"auth-button"},[O("a",{href:"/signUp"},"")],-1))],64))])]),t[5]||(t[5]=bo('<nav class="nav" data-v-db9f8cfa><ul class="nav-links" data-v-db9f8cfa><li data-v-db9f8cfa><a href="#" data-v-db9f8cfa></a></li><li data-v-db9f8cfa><a href="/book" data-v-db9f8cfa></a></li><li data-v-db9f8cfa><a href="#" data-v-db9f8cfa></a></li><li data-v-db9f8cfa><a href="#" data-v-db9f8cfa> </a></li><li data-v-db9f8cfa><a href="#" data-v-db9f8cfa> </a></li></ul></nav>',1))])}const Nu=De(iA,[["render",oA],["__scopeId","data-v-db9f8cfa"]]),aA={name:"Footer"},lA={class:"footer"};function cA(e,t,n,i,r,o){return St(),Tt("footer",lA,t[0]||(t[0]=[bo('<div class="footer-content" data-v-8c9d23e7><p data-v-8c9d23e7> 2025 Your Website. All rights reserved.</p><div class="footer-links" data-v-8c9d23e7><a href="#" data-v-8c9d23e7>Privacy Policy</a><a href="#" data-v-8c9d23e7>Terms of Service</a><a href="#" data-v-8c9d23e7>Contact Us</a></div></div>',1)]))}const ku=De(aA,[["render",cA],["__scopeId","data-v-8c9d23e7"]]),uA={name:"Main",components:{Header:Nu,Footer:ku}},hA={id:"app"};function fA(e,t,n,i,r,o){const c=Xe("Header"),h=Xe("Footer");return St(),Tt(Pe,null,[O("div",hA,[$t(c),t[0]||(t[0]=bo('<main class="main"><div class="main-image"></div><div class="pagination"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span></div></main>',1))]),$t(h)],64)}const dA=De(uA,[["render",fA]]),gA={name:"SignUp",data(){return{member:{memEmail:"",memPassword:"",memName:""}}},components:{Header:Nu,Footer:ku},methods:{async submitForm(){var e;try{const t=await Wt.post("http://localhost:8080/api/members/user",{memEmail:this.member.memEmail,memPassword:this.member.memPassword,memName:this.member.memName});console.log("  :",t.data),alert("  !"),this.$router.push("/")}catch(t){console.error("  :",((e=t.response)==null?void 0:e.data)||t.message),alert("  !")}}}},pA={class:"login-container"};function mA(e,t,n,i,r,o){const c=Xe("Header"),h=Xe("Footer");return St(),Tt(Pe,null,[$t(c),O("div",pA,[t[8]||(t[8]=O("h1",null," ",-1)),O("form",{onSubmit:t[3]||(t[3]=Er((...g)=>o.submitForm&&o.submitForm(...g),["prevent"]))},[O("div",null,[t[4]||(t[4]=O("label",{for:"email"},":",-1)),fe(O("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=g=>r.member.memEmail=g),required:"",placeholder:" "},null,512),[[be,r.member.memEmail]])]),O("div",null,[t[5]||(t[5]=O("label",{for:"password"},":",-1)),fe(O("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=g=>r.member.memPassword=g),required:"",placeholder:" "},null,512),[[be,r.member.memPassword]])]),O("div",null,[t[6]||(t[6]=O("label",{for:"name"},":",-1)),fe(O("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=g=>r.member.memName=g),required:"",placeholder:" "},null,512),[[be,r.member.memName]])]),t[7]||(t[7]=O("button",{type:"submit"},"",-1))],32)]),$t(h)],64)}const xA=De(gA,[["render",mA]]),bA={name:"Login",components:{Header:Nu,Footer:ku},data(){return{login:{email:"",password:""}}},methods:{async submitForm(){var e;try{const t=await Wt.post("http://localhost:8080/login",{email:this.login.email,password:this.login.password},{withCredentials:!0});console.log(" :",t.data),alert(" !!!"),localStorage.setItem("isLoggedIn","true"),this.$router.push("/")}catch(t){console.error(" :",((e=t.response)==null?void 0:e.data)||t.message),alert(" !!!")}}}},wA={class:"login-container"};function yA(e,t,n,i,r,o){const c=Xe("Header"),h=Xe("Footer");return St(),Tt(Pe,null,[$t(c),O("div",wA,[t[6]||(t[6]=O("h1",null,"",-1)),O("form",{onSubmit:t[2]||(t[2]=Er((...g)=>o.submitForm&&o.submitForm(...g),["prevent"]))},[O("div",null,[t[3]||(t[3]=O("label",{for:"email"},":",-1)),fe(O("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=g=>r.login.email=g),required:"",placeholder:" "},null,512),[[be,r.login.email]])]),O("div",null,[t[4]||(t[4]=O("label",{for:"password"},":",-1)),fe(O("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=g=>r.login.password=g),required:"",placeholder:" "},null,512),[[be,r.login.password]])]),t[5]||(t[5]=O("button",{type:"submit"},"",-1))],32)]),$t(h)],64)}const AA=De(bA,[["render",yA]]),CA={data(){return{memberData:null,error:null,loading:!1,redirectMessage:""}},methods:{async getMemberData(){this.loading=!0;try{const e=localStorage.getItem("accessToken"),t=await fetch("http://localhost:8080/api/members/admin-page",{method:"GET",credentials:"include"});t.ok?(this.memberData=await t.json(),this.redirectMessage="  .",setTimeout(()=>{this.$router.replace("/admin-page")},3e3)):(this.error=`Error: ${t.status}`,this.redirectMessage=" . 5   .",setTimeout(()=>{this.$router.replace("/")},5e3))}catch(e){this.error=`Network Error: ${e.message}`}finally{this.loading=!1}}},mounted(){this.getMemberData()}},_A={key:0},EA={key:1,class:"error"},SA={key:2},IA={key:3};function TA(e,t,n,i,r,o){return St(),Tt("div",null,[t[0]||(t[0]=O("h1",null,"Admin ",-1)),r.loading?(St(),Tt("div",_A,"  ...")):on("",!0),r.error?(St(),Tt("div",EA," : "+It(r.error),1)):on("",!0),r.redirectMessage?(St(),Tt("div",SA,It(r.redirectMessage),1)):on("",!0),r.memberData?(St(),Tt("div",IA,[O("p",null,It(r.memberData.message),1)])):on("",!0)])}const MA=De(CA,[["render",TA],["__scopeId","data-v-3866ca73"]]),ac="http://localhost:8080/api/members",OA={name:"Mypage",data(){return{members:[],currentMember:{},isModalVisible:!1,isEditing:!1,isAdmin:!1}},methods:{getDefaultMember(){return{memName:"",memId:"",memPassword:"",memEmail:""}},handleSubmit(){this.updateMember()},async updateMember(){try{await Wt.put(ac+`/${this.currentMember.memId}`,this.currentMember),this.closeModal(),this.fetchMembers()}catch(e){console.error("Error updating member: ",e)}},openModal(e=!1,t=null){this.isEditing=e,this.currentMember=e?{...t}:this.getDefaultMember(),this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.currentMember={}},async promptDelete(e,t){if(window.confirm(`${t}  ?`))try{await Wt.delete(ac+`/${e}`,{withCredentials:!0}),setTimeout(()=>{this.$router.push("/")},500)}catch(i){console.error("Error deleting member:",i)}else alert(" .")},async fetchMembers(){try{const e=await Wt.get(ac,{withCredentials:!0});this.members=e.data}catch(e){console.log(" : ",e)}}},async mounted(){this.fetchMembers()}},vA={class:"mypage"},RA={class:"member-card"},DA={class:"member-details"},NA={class:"info-row"},kA={class:"info-row"},PA={class:"info-row"},LA={class:"member-actions"},BA=["onClick"],FA=["onClick"],UA={key:0,class:"custom-modal"},VA={class:"modal-content"},HA={class:"form-group"},zA={class:"form-group"},jA={class:"form-group"},WA={class:"modal-actions"};function GA(e,t,n,i,r,o){return St(),Tt("div",vA,[t[13]||(t[13]=O("h1",null,"",-1)),t[14]||(t[14]=O("h3",null," ",-1)),(St(!0),Tt(Pe,null,Bs(r.members,c=>(St(),Tt("div",{class:"memberInfo",key:c.memId},[O("div",RA,[O("div",DA,[O("div",NA,[t[5]||(t[5]=O("label",{class:"info"},": ",-1)),O("span",null,It(c.memName),1)]),O("div",kA,[t[6]||(t[6]=O("label",{class:"info"},": ",-1)),O("span",null,It(c.memId),1)]),O("div",PA,[t[7]||(t[7]=O("label",{class:"info"},": ",-1)),O("span",null,It(c.memEmail),1)])]),O("div",LA,[r.isAdmin?on("",!0):(St(),Tt("button",{key:0,onClick:h=>o.openModal(!0,c),type:"button",class:"btn btn-edit"}," ",8,BA)),O("button",{onClick:h=>o.promptDelete(c.memId,c.memEmail),type:"button",class:"btn btn-delete"}," ",8,FA)])])]))),128)),r.isModalVisible?(St(),Tt("div",UA,[O("div",VA,[t[12]||(t[12]=O("h2",null,"  ",-1)),O("form",{onSubmit:t[4]||(t[4]=Er((...c)=>o.handleSubmit&&o.handleSubmit(...c),["prevent"]))},[O("div",HA,[t[8]||(t[8]=O("label",{for:"memName"},": ",-1)),fe(O("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>r.currentMember.memName=c),type:"text",id:"memName",required:""},null,512),[[be,r.currentMember.memName]])]),O("div",zA,[t[9]||(t[9]=O("label",{for:"memId"},": ",-1)),fe(O("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>r.currentMember.memId=c),type:"text",id:"memId",required:""},null,512),[[be,r.currentMember.memId]])]),O("div",jA,[t[10]||(t[10]=O("label",{for:"memEmail"},": ",-1)),fe(O("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>r.currentMember.memEmail=c),type:"text",id:"memEmail",required:""},null,512),[[be,r.currentMember.memEmail]])]),O("div",WA,[t[11]||(t[11]=O("button",{type:"submit",class:"btn-primary"},"",-1)),O("button",{type:"button",onClick:t[3]||(t[3]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"btn-secondary"},"")])],32)])])):on("",!0)])}const YA=De(OA,[["render",GA],["__scopeId","data-v-250a9dac"]]),XA={props:{paginatedBooks:Array,openModal:Function,promptDelete:Function,userRole:String},methods:{getBookImageUrl(e){return`http://localhost:8080/api/uploads/book-image?bookid=${e}`}}},KA={key:0},ZA=["src","alt"],qA={key:0},QA=["onClick"],$A=["onClick"];function JA(e,t,n,i,r,o){const c=Xe("router-link");return St(),Tt("table",null,[O("thead",null,[O("tr",null,[t[0]||(t[0]=O("th",null,"ID",-1)),t[1]||(t[1]=O("th",null,"Img",-1)),t[2]||(t[2]=O("th",null,"Title",-1)),t[3]||(t[3]=O("th",null,"Author",-1)),t[4]||(t[4]=O("th",null,"Publisher",-1)),t[5]||(t[5]=O("th",null,"Release Date",-1)),t[6]||(t[6]=O("th",null,"Category",-1)),t[7]||(t[7]=O("th",null,"Price",-1)),t[8]||(t[8]=O("th",null,"Stock",-1)),n.userRole==="admin"?(St(),Tt("th",KA,"Edit")):on("",!0)])]),O("tbody",null,[(St(!0),Tt(Pe,null,Bs(n.paginatedBooks,h=>(St(),Tt("tr",{key:h.bookId},[O("td",null,It(h.bookId),1),O("td",null,[$t(c,{to:"/book/"+h.bookId},{default:Ls(()=>[O("img",{src:o.getBookImageUrl(h.bookId),alt:h.bookTitle,width:"100",height:"auto"},null,8,ZA)]),_:2},1032,["to"])]),O("td",null,[$t(c,{to:"/book/"+h.bookId},{default:Ls(()=>[Zn(It(h.bookTitle),1)]),_:2},1032,["to"])]),O("td",null,It(h.bookAuthor),1),O("td",null,It(h.bookPublisher),1),O("td",null,It(h.bookReleaseDate),1),O("td",null,It(h.bookCategory),1),O("td",null,It(h.bookPrice),1),O("td",null,It(h.bookRentStock),1),n.userRole==="admin"?(St(),Tt("td",qA,[O("button",{onClick:g=>n.openModal(!0,h)},"Edit",8,QA),O("button",{onClick:g=>n.promptDelete(h.bookId,h.bookAuthor)},"Delete",8,$A)])):on("",!0)]))),128))])])}const tC=De(XA,[["render",JA]]),eC={props:["isModalVisible","isEditing","currentBook"],data(){return{previewImage:null,selectedFile:null}},watch:{currentBook:{immediate:!0,handler(e){this.isEditing&&e.bookId?this.previewImage=this.getBookImageUrl(e.bookId):this.previewImage=null}},isEditing:{immediate:!0,handler(e){e?this.previewImage=this.getBookImageUrl(this.currentBook.bookId):this.previewImage=null}}},methods:{getBookImageUrl(e){return`http://localhost:8080/api/uploads/book-image?bookid=${e}`},onImageSelected(e){this.selectedFile=e.target.files[0];const t=new FileReader;t.onload=n=>{this.previewImage=n.target.result},t.readAsDataURL(this.selectedFile),this.$emit("image-selected",this.selectedFile)},async handleSubmit(){this.$emit("handle-submit")},closeModal(){this.$emit("close-modal")}}},nC={key:0,class:"modal"},iC={class:"modal-content"},sC={class:"form-group"},rC={class:"form-group"},oC={class:"form-group"},aC={class:"form-group"},lC={class:"form-group"},cC={class:"form-group"},uC={class:"form-group"},hC=["src"],fC={class:"form-group"},dC={class:"form-group"},gC={class:"form-group"},pC={class:"modal-actions"},mC={type:"submit",class:"btn-primary"};function xC(e,t,n,i,r,o){return n.isModalVisible?(St(),Tt("div",nC,[O("div",iC,[O("h2",null,It(n.isEditing?"Edit Book":"Add New Book"),1),O("form",{onSubmit:t[11]||(t[11]=Er((...c)=>o.handleSubmit&&o.handleSubmit(...c),["prevent"]))},[O("div",sC,[t[12]||(t[12]=O("label",{for:"bookTitle"},"Title:",-1)),fe(O("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>n.currentBook.bookTitle=c),type:"text",id:"bookTitle",required:""},null,512),[[be,n.currentBook.bookTitle]])]),O("div",rC,[t[13]||(t[13]=O("label",{for:"bookAuthor"},"Author:",-1)),fe(O("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>n.currentBook.bookAuthor=c),type:"text",id:"bookAuthor",required:""},null,512),[[be,n.currentBook.bookAuthor]])]),O("div",oC,[t[14]||(t[14]=O("label",{for:"bookPublisher"},"Publisher:",-1)),fe(O("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>n.currentBook.bookPublisher=c),type:"text",id:"bookPublisher"},null,512),[[be,n.currentBook.bookPublisher]])]),O("div",aC,[t[15]||(t[15]=O("label",{for:"bookReleaseDate"},"Release Date:",-1)),fe(O("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>n.currentBook.bookReleaseDate=c),type:"date",id:"bookReleaseDate"},null,512),[[be,n.currentBook.bookReleaseDate]])]),O("div",lC,[t[16]||(t[16]=O("label",{for:"bookCategory"},"Category:",-1)),fe(O("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>n.currentBook.bookCategory=c),type:"text",id:"bookCategory"},null,512),[[be,n.currentBook.bookCategory]])]),O("div",cC,[t[17]||(t[17]=O("label",{for:"bookPrice"},"Price:",-1)),fe(O("input",{"onUpdate:modelValue":t[5]||(t[5]=c=>n.currentBook.bookPrice=c),type:"number",id:"bookPrice",required:""},null,512),[[be,n.currentBook.bookPrice]])]),O("div",uC,[t[18]||(t[18]=O("label",{for:"bookImg"},"Img:",-1)),O("input",{type:"file",id:"bookImg",onChange:t[6]||(t[6]=(...c)=>o.onImageSelected&&o.onImageSelected(...c))},null,32),r.previewImage?(St(),Tt("img",{key:0,src:r.previewImage,alt:"Book Preview",style:{width:"100px",height:"auto","margin-top":"10px"}},null,8,hC)):on("",!0)]),O("div",fC,[t[19]||(t[19]=O("label",{for:"bookDetail"},"Detail:",-1)),fe(O("input",{"onUpdate:modelValue":t[7]||(t[7]=c=>n.currentBook.bookDetail=c),type:"text",id:"bookDetail"},null,512),[[be,n.currentBook.bookDetail]])]),O("div",dC,[t[20]||(t[20]=O("label",{for:"bookTotalStock"},"bookTotalStock:",-1)),fe(O("input",{"onUpdate:modelValue":t[8]||(t[8]=c=>n.currentBook.bookTotalStock=c),type:"number",id:"bookTotalStock"},null,512),[[be,n.currentBook.bookTotalStock]])]),O("div",gC,[t[21]||(t[21]=O("label",{for:"bookLocation"},"bookLocation:",-1)),fe(O("input",{"onUpdate:modelValue":t[9]||(t[9]=c=>n.currentBook.bookLocation=c),type:"text",id:"bookLocation"},null,512),[[be,n.currentBook.bookLocation]])]),O("div",pC,[O("button",mC,It(n.isEditing?"Save Changes":"Add Book"),1),O("button",{type:"button",onClick:t[10]||(t[10]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"btn-secondary"},"Cancel")])],32)])])):on("",!0)}const bC=De(eC,[["render",xC]]),wC={components:{AdminBookList:tC,BookModal:bC,Pagination:Q0,BookSearch:Cg},mixins:[_g]},yC={class:"container",id:"app"},AC={key:0};function CC(e,t,n,i,r,o){const c=Xe("router-link"),h=Xe("BookSearch"),g=Xe("AdminBookList"),p=Xe("BookModal"),x=Xe("Pagination");return St(),Tt("div",yC,[t[2]||(t[2]=O("h2",null,"Book List",-1)),O("p",null,[$t(c,{to:"/book/excel"},{default:Ls(()=>t[1]||(t[1]=[Zn(" Upload/Download Book List with Excel File ")])),_:1})]),e.userRole==="admin"?(St(),Tt("p",AC,[O("button",{onClick:t[0]||(t[0]=w=>e.openModal(!1)),class:"add-book-button"},"Add Book")])):on("",!0),$t(h,{onUpdateBooksList:e.updateBookList},null,8,["onUpdateBooksList"]),$t(g,{paginatedBooks:e.paginatedBooks,openModal:e.openModal,promptDelete:e.promptDelete,userRole:e.userRole},null,8,["paginatedBooks","openModal","promptDelete","userRole"]),$t(p,{isModalVisible:e.isModalVisible,isEditing:e.isEditing,currentBook:e.currentBook,onHandleSubmit:e.handleSubmit,onCloseModal:e.closeModal,onImageSelected:e.handleImageSelected},null,8,["isModalVisible","isEditing","currentBook","onHandleSubmit","onCloseModal","onImageSelected"]),$t(x,{currentPage:e.currentPage,totalPages:e.totalPages,onUpdateCurrentPage:e.updateCurrentPage},null,8,["currentPage","totalPages","onUpdateCurrentPage"])])}const _C=De(wC,[["render",CC]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Uo(e){return e+.5|0}const ns=(e,t,n)=>Math.max(Math.min(e,n),t);function Xr(e){return ns(Uo(e*2.55),0,255)}function as(e){return ns(Uo(e*255),0,255)}function Ri(e){return ns(Uo(e/2.55)/100,0,1)}function Of(e){return ns(Uo(e*100),0,100)}const Kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Wc=[..."0123456789ABCDEF"],EC=e=>Wc[e&15],SC=e=>Wc[(e&240)>>4]+Wc[e&15],ea=e=>(e&240)>>4===(e&15),IC=e=>ea(e.r)&&ea(e.g)&&ea(e.b)&&ea(e.a);function TC(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Kn[e[1]]*17,g:255&Kn[e[2]]*17,b:255&Kn[e[3]]*17,a:t===5?Kn[e[4]]*17:255}:(t===7||t===9)&&(n={r:Kn[e[1]]<<4|Kn[e[2]],g:Kn[e[3]]<<4|Kn[e[4]],b:Kn[e[5]]<<4|Kn[e[6]],a:t===9?Kn[e[7]]<<4|Kn[e[8]]:255})),n}const MC=(e,t)=>e<255?t(e):"";function OC(e){var t=IC(e)?EC:SC;return e?"#"+t(e.r)+t(e.g)+t(e.b)+MC(e.a,t):void 0}const vC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Eg(e,t,n){const i=t*Math.min(n,1-n),r=(o,c=(o+e/30)%12)=>n-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function RC(e,t,n){const i=(r,o=(r+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function DC(e,t,n){const i=Eg(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function NC(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function Pu(e){const n=e.r/255,i=e.g/255,r=e.b/255,o=Math.max(n,i,r),c=Math.min(n,i,r),h=(o+c)/2;let g,p,x;return o!==c&&(x=o-c,p=h>.5?x/(2-o-c):x/(o+c),g=NC(n,i,r,x,o),g=g*60+.5),[g|0,p||0,h]}function Lu(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(as)}function Bu(e,t,n){return Lu(Eg,e,t,n)}function kC(e,t,n){return Lu(DC,e,t,n)}function PC(e,t,n){return Lu(RC,e,t,n)}function Sg(e){return(e%360+360)%360}function LC(e){const t=vC.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Xr(+t[5]):as(+t[5]));const r=Sg(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=kC(r,o,c):t[1]==="hsv"?i=PC(r,o,c):i=Bu(r,o,c),{r:i[0],g:i[1],b:i[2],a:n}}function BC(e,t){var n=Pu(e);n[0]=Sg(n[0]+t),n=Bu(n),e.r=n[0],e.g=n[1],e.b=n[2]}function FC(e){if(!e)return;const t=Pu(e),n=t[0],i=Of(t[1]),r=Of(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${Ri(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const vf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Rf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UC(){const e={},t=Object.keys(Rf),n=Object.keys(vf);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<n.length;r++)o=n[r],h=h.replace(o,vf[o]);o=parseInt(Rf[c],16),e[h]=[o>>16&255,o>>8&255,o&255]}return e}let na;function VC(e){na||(na=UC(),na.transparent=[0,0,0,0]);const t=na[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const HC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zC(e){const t=HC.exec(e);let n=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];n=t[8]?Xr(c):ns(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Xr(i):ns(i,0,255)),r=255&(t[4]?Xr(r):ns(r,0,255)),o=255&(t[6]?Xr(o):ns(o,0,255)),{r:i,g:r,b:o,a:n}}}function jC(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ri(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const lc=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ir=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function WC(e,t,n){const i=ir(Ri(e.r)),r=ir(Ri(e.g)),o=ir(Ri(e.b));return{r:as(lc(i+n*(ir(Ri(t.r))-i))),g:as(lc(r+n*(ir(Ri(t.g))-r))),b:as(lc(o+n*(ir(Ri(t.b))-o))),a:e.a+n*(t.a-e.a)}}function ia(e,t,n){if(e){let i=Pu(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Bu(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Ig(e,t){return e&&Object.assign(t||{},e)}function Df(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=as(e[3]))):(t=Ig(e,{r:0,g:0,b:0,a:1}),t.a=as(t.a)),t}function GC(e){return e.charAt(0)==="r"?zC(e):LC(e)}class Eo{constructor(t){if(t instanceof Eo)return t;const n=typeof t;let i;n==="object"?i=Df(t):n==="string"&&(i=TC(t)||VC(t)||GC(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Ig(this._rgb);return t&&(t.a=Ri(t.a)),t}set rgb(t){this._rgb=Df(t)}rgbString(){return this._valid?jC(this._rgb):void 0}hexString(){return this._valid?OC(this._rgb):void 0}hslString(){return this._valid?FC(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let o;const c=n===o?.5:n,h=2*c-1,g=i.a-r.a,p=((h*g===-1?h:(h+g)/(1+h*g))+1)/2;o=1-p,i.r=255&p*i.r+o*r.r+.5,i.g=255&p*i.g+o*r.g+.5,i.b=255&p*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=WC(this._rgb,t._rgb,n)),this}clone(){return new Eo(this.rgb)}alpha(t){return this._rgb.a=as(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Uo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ia(this._rgb,2,t),this}darken(t){return ia(this._rgb,2,-t),this}saturate(t){return ia(this._rgb,1,t),this}desaturate(t){return ia(this._rgb,1,-t),this}rotate(t){return BC(this._rgb,t),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ti(){}const YC=(()=>{let e=0;return()=>e++})();function se(e){return e==null}function Le(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Jt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ze(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ln(e,t){return ze(e)?e:t}function jt(e,t){return typeof e>"u"?t:e}const XC=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Tg=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Se(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function me(e,t,n,i){let r,o,c;if(Le(e))for(o=e.length,r=0;r<o;r++)t.call(n,e[r],r);else if(Jt(e))for(c=Object.keys(e),o=c.length,r=0;r<o;r++)t.call(n,e[c[r]],c[r])}function Ga(e,t){let n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Ya(e){if(Le(e))return e.map(Ya);if(Jt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=Ya(e[n[r]]);return t}return e}function Mg(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function KC(e,t,n,i){if(!Mg(e))return;const r=t[e],o=n[e];Jt(r)&&Jt(o)?So(r,o,i):t[e]=Ya(o)}function So(e,t,n){const i=Le(t)?t:[t],r=i.length;if(!Jt(e))return e;n=n||{};const o=n.merger||KC;let c;for(let h=0;h<r;++h){if(c=i[h],!Jt(c))continue;const g=Object.keys(c);for(let p=0,x=g.length;p<x;++p)o(g[p],e,c,n)}return e}function lo(e,t){return So(e,t,{merger:ZC})}function ZC(e,t,n){if(!Mg(e))return;const i=t[e],r=n[e];Jt(i)&&Jt(r)?lo(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ya(r))}const Nf={"":e=>e,x:e=>e.x,y:e=>e.y};function qC(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function QC(e){const t=qC(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function ls(e,t){return(Nf[t]||(Nf[t]=QC(t)))(e)}function Fu(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Io=e=>typeof e<"u",cs=e=>typeof e=="function",kf=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function $C(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Re=Math.PI,ve=2*Re,JC=ve+Re,Xa=Number.POSITIVE_INFINITY,t_=Re/180,We=Re/2,Cs=Re/4,Pf=Re*2/3,is=Math.log10,Ci=Math.sign;function co(e,t,n){return Math.abs(e-t)<n}function Lf(e){const t=Math.round(e);e=co(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(is(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function e_(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,o)=>r-o).pop(),t}function yr(e){return!isNaN(parseFloat(e))&&isFinite(e)}function n_(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Og(e,t,n){let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ni(e){return e*(Re/180)}function Uu(e){return e*(180/Re)}function Bf(e){if(!ze(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function vg(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Re&&(o+=ve),{angle:o,distance:r}}function Gc(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function i_(e,t){return(e-t+JC)%ve-Re}function Fn(e){return(e%ve+ve)%ve}function To(e,t,n,i){const r=Fn(e),o=Fn(t),c=Fn(n),h=Fn(o-r),g=Fn(c-r),p=Fn(r-o),x=Fn(r-c);return r===o||r===c||i&&o===c||h>g&&p<x}function tn(e,t,n){return Math.max(t,Math.min(n,e))}function s_(e){return tn(e,-32768,32767)}function Pi(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Vu(e,t,n){n=n||(c=>e[c]<t);let i=e.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,n(o)?r=o:i=o;return{lo:r,hi:i}}const Li=(e,t,n,i)=>Vu(e,n,i?r=>{const o=e[r][t];return o<n||o===n&&e[r+1][t]===n}:r=>e[r][t]<n),r_=(e,t,n)=>Vu(e,n,i=>e[i][t]>=n);function o_(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const Rg=["push","pop","shift","splice","unshift"];function a_(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Rg.forEach(n=>{const i="_onData"+Fu(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return e._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function Ff(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(Rg.forEach(o=>{delete e[o]}),delete e._chartjs)}function Dg(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ng=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function kg(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,Ng.call(window,()=>{i=!1,e.apply(t,n)}))}}function l_(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Hu=e=>e==="start"?"left":e==="end"?"right":"center",cn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,c_=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function Pg(e,t,n){const i=t.length;let r=0,o=i;if(e._sorted){const{iScale:c,_parsed:h}=e,g=c.axis,{min:p,max:x,minDefined:w,maxDefined:A}=c.getUserBounds();w&&(r=tn(Math.min(Li(h,g,p).lo,n?i:Li(t,g,c.getPixelForValue(p)).lo),0,i-1)),A?o=tn(Math.max(Li(h,c.axis,x,!0).hi+1,n?0:Li(t,g,c.getPixelForValue(x),!0).hi+1),r,i)-r:o=i-r}return{start:r,count:o}}function Lg(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}const sa=e=>e===0||e===1,Uf=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ve/n)),Vf=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ve/n)+1,uo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*We)+1,easeOutSine:e=>Math.sin(e*We),easeInOutSine:e=>-.5*(Math.cos(Re*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>sa(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>sa(e)?e:Uf(e,.075,.3),easeOutElastic:e=>sa(e)?e:Vf(e,.075,.3),easeInOutElastic(e){return sa(e)?e:e<.5?.5*Uf(e*2,.1125,.45):.5+.5*Vf(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-uo.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?uo.easeInBounce(e*2)*.5:uo.easeOutBounce(e*2-1)*.5+.5};function zu(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Hf(e){return zu(e)?e:new Eo(e)}function cc(e){return zu(e)?e:new Eo(e).saturate(.5).darken(.1).hexString()}const u_=["x","y","borderWidth","radius","tension"],h_=["color","borderColor","backgroundColor"];function f_(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:h_},numbers:{type:"number",properties:u_}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function d_(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zf=new Map;function g_(e,t){t=t||{};const n=e+JSON.stringify(t);let i=zf.get(n);return i||(i=new Intl.NumberFormat(e,t),zf.set(n,i)),i}function Vo(e,t,n){return g_(t,n).format(e)}const Bg={values(e){return Le(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,o=e;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),o=p_(e,n)}const c=is(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),g={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(g,this.options.ticks.format),Vo(e,i,g)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(is(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?Bg.numeric.call(this,e,t,n):""}};function p_(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var yl={formatters:Bg};function m_(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Vs=Object.create(null),Yc=Object.create(null);function ho(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const o=n[i];e=e[o]||(e[o]=Object.create(null))}return e}function uc(e,t,n){return typeof t=="string"?So(ho(e,t),n):So(ho(e,""),t)}class x_{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>cc(r.backgroundColor),this.hoverBorderColor=(i,r)=>cc(r.borderColor),this.hoverColor=(i,r)=>cc(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return uc(this,t,n)}get(t){return ho(this,t)}describe(t,n){return uc(Yc,t,n)}override(t,n){return uc(Vs,t,n)}route(t,n,i,r){const o=ho(this,t),c=ho(this,i),h="_"+n;Object.defineProperties(o,{[h]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const g=this[h],p=c[r];return Jt(g)?Object.assign({},p,g):jt(g,p)},set(g){this[h]=g}}})}apply(t){t.forEach(n=>n(this))}}var Be=new x_({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[f_,d_,m_]);function b_(e){return!e||se(e.size)||se(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ka(e,t,n,i,r){let o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i}function w_(e,t,n,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let c=0;const h=n.length;let g,p,x,w,A;for(g=0;g<h;g++)if(w=n[g],w!=null&&!Le(w))c=Ka(e,r,o,c,w);else if(Le(w))for(p=0,x=w.length;p<x;p++)A=w[p],A!=null&&!Le(A)&&(c=Ka(e,r,o,c,A));e.restore();const _=o.length/2;if(_>n.length){for(g=0;g<_;g++)delete r[o[g]];o.splice(0,_)}return c}function _s(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function jf(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Xc(e,t,n,i){Fg(e,t,n,i,null)}function Fg(e,t,n,i,r){let o,c,h,g,p,x,w,A;const _=t.pointStyle,I=t.rotation,T=t.radius;let v=(I||0)*t_;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(v),e.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),e.restore();return}if(!(isNaN(T)||T<=0)){switch(e.beginPath(),_){default:r?e.ellipse(n,i,r/2,T,0,0,ve):e.arc(n,i,T,0,ve),e.closePath();break;case"triangle":x=r?r/2:T,e.moveTo(n+Math.sin(v)*x,i-Math.cos(v)*T),v+=Pf,e.lineTo(n+Math.sin(v)*x,i-Math.cos(v)*T),v+=Pf,e.lineTo(n+Math.sin(v)*x,i-Math.cos(v)*T),e.closePath();break;case"rectRounded":p=T*.516,g=T-p,c=Math.cos(v+Cs)*g,w=Math.cos(v+Cs)*(r?r/2-p:g),h=Math.sin(v+Cs)*g,A=Math.sin(v+Cs)*(r?r/2-p:g),e.arc(n-w,i-h,p,v-Re,v-We),e.arc(n+A,i-c,p,v-We,v),e.arc(n+w,i+h,p,v,v+We),e.arc(n-A,i+c,p,v+We,v+Re),e.closePath();break;case"rect":if(!I){g=Math.SQRT1_2*T,x=r?r/2:g,e.rect(n-x,i-g,2*x,2*g);break}v+=Cs;case"rectRot":w=Math.cos(v)*(r?r/2:T),c=Math.cos(v)*T,h=Math.sin(v)*T,A=Math.sin(v)*(r?r/2:T),e.moveTo(n-w,i-h),e.lineTo(n+A,i-c),e.lineTo(n+w,i+h),e.lineTo(n-A,i+c),e.closePath();break;case"crossRot":v+=Cs;case"cross":w=Math.cos(v)*(r?r/2:T),c=Math.cos(v)*T,h=Math.sin(v)*T,A=Math.sin(v)*(r?r/2:T),e.moveTo(n-w,i-h),e.lineTo(n+w,i+h),e.moveTo(n+A,i-c),e.lineTo(n-A,i+c);break;case"star":w=Math.cos(v)*(r?r/2:T),c=Math.cos(v)*T,h=Math.sin(v)*T,A=Math.sin(v)*(r?r/2:T),e.moveTo(n-w,i-h),e.lineTo(n+w,i+h),e.moveTo(n+A,i-c),e.lineTo(n-A,i+c),v+=Cs,w=Math.cos(v)*(r?r/2:T),c=Math.cos(v)*T,h=Math.sin(v)*T,A=Math.sin(v)*(r?r/2:T),e.moveTo(n-w,i-h),e.lineTo(n+w,i+h),e.moveTo(n+A,i-c),e.lineTo(n-A,i+c);break;case"line":c=r?r/2:Math.cos(v)*T,h=Math.sin(v)*T,e.moveTo(n-c,i-h),e.lineTo(n+c,i+h);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(v)*(r?r/2:T),i+Math.sin(v)*T);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Bi(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Al(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Cl(e){e.restore()}function y_(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function A_(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function C_(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),se(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function __(e,t,n,i,r){if(r.strikethrough||r.underline){const o=e.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,g=n-o.actualBoundingBoxAscent,p=n+o.actualBoundingBoxDescent,x=r.strikethrough?(g+p)/2:p;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(c,x),e.lineTo(h,x),e.stroke()}}function E_(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Hs(e,t,n,i,r,o={}){const c=Le(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let g,p;for(e.save(),e.font=r.string,C_(e,o),g=0;g<c.length;++g)p=c[g],o.backdrop&&E_(e,o.backdrop),h&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),se(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(p,n,i,o.maxWidth)),e.fillText(p,n,i,o.maxWidth),__(e,n,i,p,o),i+=Number(r.lineHeight);e.restore()}function Mo(e,t){const{x:n,y:i,w:r,h:o,radius:c}=t;e.arc(n+c.topLeft,i+c.topLeft,c.topLeft,1.5*Re,Re,!0),e.lineTo(n,i+o-c.bottomLeft),e.arc(n+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Re,We,!0),e.lineTo(n+r-c.bottomRight,i+o),e.arc(n+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,We,0,!0),e.lineTo(n+r,i+c.topRight),e.arc(n+r-c.topRight,i+c.topRight,c.topRight,0,-We,!0),e.lineTo(n+c.topLeft,i)}const S_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,I_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function T_(e,t){const n=(""+e).match(S_);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const M_=e=>+e||0;function ju(e,t){const n={},i=Jt(t),r=i?Object.keys(t):t,o=Jt(e)?i?c=>jt(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of r)n[c]=M_(o(c));return n}function Ug(e){return ju(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ns(e){return ju(e,["topLeft","topRight","bottomLeft","bottomRight"])}function xn(e){const t=Ug(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qe(e,t){e=e||{},t=t||Be.font;let n=jt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=jt(e.style,t.style);i&&!(""+i).match(I_)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:jt(e.family,t.family),lineHeight:T_(jt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:jt(e.weight,t.weight),string:""};return r.string=b_(r),r}function Kr(e,t,n,i){let r,o,c;for(r=0,o=e.length;r<o;++r)if(c=e[r],c!==void 0&&c!==void 0)return c}function O_(e,t,n){const{min:i,max:r}=e,o=Tg(t,(r-i)/2),c=(h,g)=>n&&h===0?0:h+g;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function ds(e,t){return Object.assign(Object.create(e),t)}function Wu(e,t=[""],n,i,r=()=>e[0]){const o=n||e;typeof i>"u"&&(i=jg("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>Wu([h,...e],t,o,i)};return new Proxy(c,{deleteProperty(h,g){return delete h[g],delete h._keys,delete e[0][g],!0},get(h,g){return Hg(h,g,()=>B_(g,t,e,h))},getOwnPropertyDescriptor(h,g){return Reflect.getOwnPropertyDescriptor(h._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(h,g){return Gf(h).includes(g)},ownKeys(h){return Gf(h)},set(h,g,p){const x=h._storage||(h._storage=r());return h[g]=x[g]=p,delete h._keys,!0}})}function Ar(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Vg(e,i),setContext:o=>Ar(e,o,n,i),override:o=>Ar(e.override(o),t,n,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete e[c],!0},get(o,c,h){return Hg(o,c,()=>R_(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(o,c,h){return e[c]=h,delete o[c],!0}})}function Vg(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:cs(n)?n:()=>n,isIndexable:cs(i)?i:()=>i}}const v_=(e,t)=>e?e+Fu(t):t,Gu=(e,t)=>Jt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Hg(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function R_(e,t,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=e;let h=i[t];return cs(h)&&c.isScriptable(t)&&(h=D_(t,h,e,n)),Le(h)&&h.length&&(h=N_(t,h,e,c.isIndexable)),Gu(t,h)&&(h=Ar(h,r,o&&o[t],c)),h}function D_(e,t,n,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=n;if(h.has(e))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+e);h.add(e);let g=t(o,c||i);return h.delete(e),Gu(e,g)&&(g=Yu(r._scopes,r,e,g)),g}function N_(e,t,n,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=n;if(typeof o.index<"u"&&i(e))return t[o.index%t.length];if(Jt(t[0])){const g=t,p=r._scopes.filter(x=>x!==g);t=[];for(const x of g){const w=Yu(p,r,e,x);t.push(Ar(w,o,c&&c[e],h))}}return t}function zg(e,t,n){return cs(e)?e(t,n):e}const k_=(e,t)=>e===!0?t:typeof e=="string"?ls(t,e):void 0;function P_(e,t,n,i,r){for(const o of t){const c=k_(n,o);if(c){e.add(c);const h=zg(c._fallback,n,r);if(typeof h<"u"&&h!==n&&h!==i)return h}else if(c===!1&&typeof i<"u"&&n!==i)return null}return!1}function Yu(e,t,n,i){const r=t._rootScopes,o=zg(t._fallback,n,i),c=[...e,...r],h=new Set;h.add(i);let g=Wf(h,c,n,o||n,i);return g===null||typeof o<"u"&&o!==n&&(g=Wf(h,c,o,g,i),g===null)?!1:Wu(Array.from(h),[""],r,o,()=>L_(t,n,i))}function Wf(e,t,n,i,r){for(;n;)n=P_(e,t,n,i,r);return n}function L_(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return Le(r)&&Jt(n)?n:r||{}}function B_(e,t,n,i){let r;for(const o of t)if(r=jg(v_(o,e),n),typeof r<"u")return Gu(e,r)?Yu(n,i,e,r):r}function jg(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function Gf(e){let t=e._keys;return t||(t=e._keys=F_(e._scopes)),t}function F_(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function Wg(e,t,n,i){const{iScale:r}=e,{key:o="r"}=this._parsing,c=new Array(i);let h,g,p,x;for(h=0,g=i;h<g;++h)p=h+n,x=t[p],c[h]={r:r.parse(ls(x,o),p)};return c}const U_=Number.EPSILON||1e-14,Cr=(e,t)=>t<e.length&&!e[t].skip&&e[t],Gg=e=>e==="x"?"y":"x";function V_(e,t,n,i){const r=e.skip?t:e,o=t,c=n.skip?t:n,h=Gc(o,r),g=Gc(c,o);let p=h/(h+g),x=g/(h+g);p=isNaN(p)?0:p,x=isNaN(x)?0:x;const w=i*p,A=i*x;return{previous:{x:o.x-w*(c.x-r.x),y:o.y-w*(c.y-r.y)},next:{x:o.x+A*(c.x-r.x),y:o.y+A*(c.y-r.y)}}}function H_(e,t,n){const i=e.length;let r,o,c,h,g,p=Cr(e,0);for(let x=0;x<i-1;++x)if(g=p,p=Cr(e,x+1),!(!g||!p)){if(co(t[x],0,U_)){n[x]=n[x+1]=0;continue}r=n[x]/t[x],o=n[x+1]/t[x],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),n[x]=r*c*t[x],n[x+1]=o*c*t[x])}}function z_(e,t,n="x"){const i=Gg(n),r=e.length;let o,c,h,g=Cr(e,0);for(let p=0;p<r;++p){if(c=h,h=g,g=Cr(e,p+1),!h)continue;const x=h[n],w=h[i];c&&(o=(x-c[n])/3,h[`cp1${n}`]=x-o,h[`cp1${i}`]=w-o*t[p]),g&&(o=(g[n]-x)/3,h[`cp2${n}`]=x+o,h[`cp2${i}`]=w+o*t[p])}}function j_(e,t="x"){const n=Gg(t),i=e.length,r=Array(i).fill(0),o=Array(i);let c,h,g,p=Cr(e,0);for(c=0;c<i;++c)if(h=g,g=p,p=Cr(e,c+1),!!g){if(p){const x=p[t]-g[t];r[c]=x!==0?(p[n]-g[n])/x:0}o[c]=h?p?Ci(r[c-1])!==Ci(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}H_(e,r,o),z_(e,o,t)}function ra(e,t,n){return Math.max(Math.min(e,n),t)}function W_(e,t){let n,i,r,o,c,h=Bi(e[0],t);for(n=0,i=e.length;n<i;++n)c=o,o=h,h=n<i-1&&Bi(e[n+1],t),o&&(r=e[n],c&&(r.cp1x=ra(r.cp1x,t.left,t.right),r.cp1y=ra(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=ra(r.cp2x,t.left,t.right),r.cp2y=ra(r.cp2y,t.top,t.bottom)))}function G_(e,t,n,i,r){let o,c,h,g;if(t.spanGaps&&(e=e.filter(p=>!p.skip)),t.cubicInterpolationMode==="monotone")j_(e,r);else{let p=i?e[e.length-1]:e[0];for(o=0,c=e.length;o<c;++o)h=e[o],g=V_(p,h,e[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=g.previous.x,h.cp1y=g.previous.y,h.cp2x=g.next.x,h.cp2y=g.next.y,p=h}t.capBezierPoints&&W_(e,n)}function Xu(){return typeof window<"u"&&typeof document<"u"}function Ku(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Za(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const _l=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Y_(e,t){return _l(e).getPropertyValue(t)}const X_=["top","right","bottom","left"];function ks(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=X_[r];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const K_=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function Z_(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:o}=i;let c=!1,h,g;if(K_(r,o,e.target))h=r,g=o;else{const p=t.getBoundingClientRect();h=i.clientX-p.left,g=i.clientY-p.top,c=!0}return{x:h,y:g,box:c}}function Ts(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=_l(n),o=r.boxSizing==="border-box",c=ks(r,"padding"),h=ks(r,"border","width"),{x:g,y:p,box:x}=Z_(e,n),w=c.left+(x&&h.left),A=c.top+(x&&h.top);let{width:_,height:I}=t;return o&&(_-=c.width+h.width,I-=c.height+h.height),{x:Math.round((g-w)/_*n.width/i),y:Math.round((p-A)/I*n.height/i)}}function q_(e,t,n){let i,r;if(t===void 0||n===void 0){const o=e&&Ku(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const c=o.getBoundingClientRect(),h=_l(o),g=ks(h,"border","width"),p=ks(h,"padding");t=c.width-p.width-g.width,n=c.height-p.height-g.height,i=Za(h.maxWidth,o,"clientWidth"),r=Za(h.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:i||Xa,maxHeight:r||Xa}}const oa=e=>Math.round(e*10)/10;function Q_(e,t,n,i){const r=_l(e),o=ks(r,"margin"),c=Za(r.maxWidth,e,"clientWidth")||Xa,h=Za(r.maxHeight,e,"clientHeight")||Xa,g=q_(e,t,n);let{width:p,height:x}=g;if(r.boxSizing==="content-box"){const A=ks(r,"border","width"),_=ks(r,"padding");p-=_.width+A.width,x-=_.height+A.height}return p=Math.max(0,p-o.width),x=Math.max(0,i?p/i:x-o.height),p=oa(Math.min(p,c,g.maxWidth)),x=oa(Math.min(x,h,g.maxHeight)),p&&!x&&(x=oa(p/2)),(t!==void 0||n!==void 0)&&i&&g.height&&x>g.height&&(x=g.height,p=oa(Math.floor(x*i))),{width:p,height:x}}function Yf(e,t,n){const i=t||1,r=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(e.currentDevicePixelRatio=i,c.height=r,c.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const $_=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Xu()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Xf(e,t){const n=Y_(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ms(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function J_(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function tE(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},c=Ms(e,r,n),h=Ms(r,o,n),g=Ms(o,t,n),p=Ms(c,h,n),x=Ms(h,g,n);return Ms(p,x,n)}const eE=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},nE=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function pr(e,t,n){return e?eE(t,n):nE()}function Yg(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Xg(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Kg(e){return e==="angle"?{between:To,compare:i_,normalize:Fn}:{between:Pi,compare:(t,n)=>t-n,normalize:t=>t}}function Kf({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function iE(e,t,n){const{property:i,start:r,end:o}=n,{between:c,normalize:h}=Kg(i),g=t.length;let{start:p,end:x,loop:w}=e,A,_;if(w){for(p+=g,x+=g,A=0,_=g;A<_&&c(h(t[p%g][i]),r,o);++A)p--,x--;p%=g,x%=g}return x<p&&(x+=g),{start:p,end:x,loop:w,style:e.style}}function Zg(e,t,n){if(!n)return[e];const{property:i,start:r,end:o}=n,c=t.length,{compare:h,between:g,normalize:p}=Kg(i),{start:x,end:w,loop:A,style:_}=iE(e,t,n),I=[];let T=!1,v=null,k,L,F;const V=()=>g(r,F,k)&&h(r,F)!==0,W=()=>h(o,k)===0||g(o,F,k),Q=()=>T||V(),H=()=>!T||W();for(let et=x,K=x;et<=w;++et)L=t[et%c],!L.skip&&(k=p(L[i]),k!==F&&(T=g(k,r,o),v===null&&Q()&&(v=h(k,r)===0?et:K),v!==null&&H()&&(I.push(Kf({start:v,end:et,loop:A,count:c,style:_})),v=null),K=et,F=k));return v!==null&&I.push(Kf({start:v,end:w,loop:A,count:c,style:_})),I}function qg(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const o=Zg(i[r],e.points,t);o.length&&n.push(...o)}return n}function sE(e,t,n,i){let r=0,o=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(o+=r);o>r&&e[o%t].skip;)o--;return o%=t,{start:r,end:o}}function rE(e,t,n,i){const r=e.length,o=[];let c=t,h=e[t],g;for(g=t+1;g<=n;++g){const p=e[g%r];p.skip||p.stop?h.skip||(i=!1,o.push({start:t%r,end:(g-1)%r,loop:i}),t=c=p.stop?g:null):(c=g,h.skip&&(t=g)),h=p}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function oE(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const o=!!e._loop,{start:c,end:h}=sE(n,r,o,i);if(i===!0)return Zf(e,[{start:c,end:h,loop:o}],n,t);const g=h<c?h+r:h,p=!!e._fullLoop&&c===0&&h===r-1;return Zf(e,rE(n,c,g,p),n,t)}function Zf(e,t,n,i){return!i||!i.setContext||!n?t:aE(e,t,n,i)}function aE(e,t,n,i){const r=e._chart.getContext(),o=qf(e.options),{_datasetIndex:c,options:{spanGaps:h}}=e,g=n.length,p=[];let x=o,w=t[0].start,A=w;function _(I,T,v,k){const L=h?-1:1;if(I!==T){for(I+=g;n[I%g].skip;)I-=L;for(;n[T%g].skip;)T+=L;I%g!==T%g&&(p.push({start:I%g,end:T%g,loop:v,style:k}),x=k,w=T%g)}}for(const I of t){w=h?w:I.start;let T=n[w%g],v;for(A=w+1;A<=I.end;A++){const k=n[A%g];v=qf(i.setContext(ds(r,{type:"segment",p0:T,p1:k,p0DataIndex:(A-1)%g,p1DataIndex:A%g,datasetIndex:c}))),lE(v,x)&&_(w,A-1,I.loop,x),T=k,x=v}w<A-1&&_(w,A-1,I.loop,x)}return p}function qf(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function lE(e,t){if(!t)return!1;const n=[],i=function(r,o){return zu(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class cE{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const o=n.listeners[r],c=n.duration;o.forEach(h=>h({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(i-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Ng.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,g;for(;c>=0;--c)g=o[c],g._active?(g._total>i.duration&&(i.duration=g._total),g.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Mi=new cE;const Qf="transparent",uE={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=Hf(e||Qf),r=i.valid&&Hf(t||Qf);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class hE{constructor(t,n,i,r){const o=n[i];r=Kr([t.to,r,o,t.from]);const c=Kr([t.from,o,r]);this._active=!0,this._fn=t.fn||uE[t.type||typeof c],this._easing=uo[t.easing]||uo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Kr([t.to,n,r,t.from]),this._from=Kr([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let g;if(this._active=o!==h&&(c||n<i),!this._active){this._target[r]=h,this._notify(!0);return}if(n<0){this._target[r]=o;return}g=n/i%2,g=c&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[r]=this._fn(o,h,g)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class Qg{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Jt(t))return;const n=Object.keys(Be.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Jt(o))return;const c={};for(const h of n)c[h]=o[h];(Le(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,n){const i=n.options,r=dE(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&fE(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,n){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(n),h=Date.now();let g;for(g=c.length-1;g>=0;--g){const p=c[g];if(p.charAt(0)==="$")continue;if(p==="options"){r.push(...this._animateOptions(t,n));continue}const x=n[p];let w=o[p];const A=i.get(p);if(w)if(A&&w.active()){w.update(A,x,h);continue}else w.cancel();if(!A||!A.duration){t[p]=x;continue}o[p]=w=new hE(A,t,p,x),r.push(w)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Mi.add(this._chart,i),!0}}function fE(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=e[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function dE(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function $f(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function gE(e,t,n){if(n===!1)return!1;const i=$f(e,n),r=$f(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function pE(e){let t,n,i,r;return Jt(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function $g(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function Jf(e,t,n,i={}){const r=e.keys,o=i.mode==="single";let c,h,g,p;if(t===null)return;let x=!1;for(c=0,h=r.length;c<h;++c){if(g=+r[c],g===n){if(x=!0,i.all)continue;break}p=e.values[g],ze(p)&&(o||t===0||Ci(t)===Ci(p))&&(t+=p)}return!x&&!i.all?0:t}function mE(e,t){const{iScale:n,vScale:i}=t,r=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(e),h=new Array(c.length);let g,p,x;for(g=0,p=c.length;g<p;++g)x=c[g],h[g]={[r]:x,[o]:e[x]};return h}function hc(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function xE(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function bE(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function wE(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function td(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=e[r.index];if(n&&o>0||!n&&o<0)return r.index}return null}function ed(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:h}=i,g=o.axis,p=c.axis,x=xE(o,c,i),w=t.length;let A;for(let _=0;_<w;++_){const I=t[_],{[g]:T,[p]:v}=I,k=I._stacks||(I._stacks={});A=k[p]=wE(r,x,T),A[h]=v,A._top=td(A,c,!0,i.type),A._bottom=td(A,c,!1,i.type);const L=A._visualValues||(A._visualValues={});L[h]=v}}function fc(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function yE(e,t){return ds(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function AE(e,t,n){return ds(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Hr(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const dc=e=>e==="reset"||e==="none",nd=(e,t)=>t?e:Object.assign({},e),CE=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:$g(n,!0),values:null};class si{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=hc(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Hr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(w,A,_,I)=>w==="x"?A:w==="r"?I:_,o=n.xAxisID=jt(i.xAxisID,fc(t,"x")),c=n.yAxisID=jt(i.yAxisID,fc(t,"y")),h=n.rAxisID=jt(i.rAxisID,fc(t,"r")),g=n.indexAxis,p=n.iAxisID=r(g,o,c,h),x=n.vAxisID=r(g,c,o,h);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(x)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ff(this._data,this),t._stacked&&Hr(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(Jt(n)){const r=this._cachedMeta;this._data=mE(n,r)}else if(i!==n){if(i){Ff(i,this);const r=this._cachedMeta;Hr(r),r._parsed=[]}n&&Object.isExtensible(n)&&a_(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=n._stacked;n._stacked=hc(n.vScale,n),n.stack!==i.stack&&(r=!0,Hr(n),n.stack=i.stack),this._resyncElements(t),(r||o!==n._stacked)&&(ed(this,n._parsed),n._stacked=hc(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let g=t===0&&n===r.length?!0:i._sorted,p=t>0&&i._parsed[t-1],x,w,A;if(this._parsing===!1)i._parsed=r,i._sorted=!0,A=r;else{Le(r[t])?A=this.parseArrayData(i,r,t,n):Jt(r[t])?A=this.parseObjectData(i,r,t,n):A=this.parsePrimitiveData(i,r,t,n);const _=()=>w[h]===null||p&&w[h]<p[h];for(x=0;x<n;++x)i._parsed[x+t]=w=A[x],g&&(_()&&(g=!1),p=w);i._sorted=g}c&&ed(this,A)}parsePrimitiveData(t,n,i,r){const{iScale:o,vScale:c}=t,h=o.axis,g=c.axis,p=o.getLabels(),x=o===c,w=new Array(r);let A,_,I;for(A=0,_=r;A<_;++A)I=A+i,w[A]={[h]:x||o.parse(p[I],I),[g]:c.parse(n[I],I)};return w}parseArrayData(t,n,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let g,p,x,w;for(g=0,p=r;g<p;++g)x=g+i,w=n[x],h[g]={x:o.parse(w[0],x),y:c.parse(w[1],x)};return h}parseObjectData(t,n,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:g="y"}=this._parsing,p=new Array(r);let x,w,A,_;for(x=0,w=r;x<w;++x)A=x+i,_=n[A],p[x]={x:o.parse(ls(_,h),A),y:c.parse(ls(_,g),A)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,o=this._cachedMeta,c=n[t.axis],h={keys:$g(r,!0),values:n._stacks[t.axis]._visualValues};return Jf(h,c,o.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const o=i[n.axis];let c=o===null?NaN:o;const h=r&&i._stacks[n.axis];r&&h&&(r.values=h,c=Jf(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),g=CE(n,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:x,max:w}=bE(h);let A,_;function I(){_=r[A];const T=_[h.axis];return!ze(_[t.axis])||x>T||w<T}for(A=0;A<c&&!(!I()&&(this.updateRangeFromParsed(p,t,_,g),o));++A);if(o){for(A=c-1;A>=0;--A)if(!I()){this.updateRangeFromParsed(p,t,_,g);break}}return p}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=n.length;r<o;++r)c=n[r][t.axis],ze(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=pE(jt(this.options.clip,gE(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],o=n.chartArea,c=[],h=this._drawStart||0,g=this._drawCount||r.length-h,p=this.options.drawActiveElementsOnTop;let x;for(i.dataset&&i.dataset.draw(t,o,h,g),x=h;x<h+g;++x){const w=r[x];w.hidden||(w.active&&p?c.push(w):w.draw(t,o))}for(x=0;x<c.length;++x)c[x].draw(t,o)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=AE(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=yE(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",o=this._cachedDataOpts,c=t+"-"+n,h=o[c],g=this.enableOptionSharing&&Io(i);if(h)return nd(h,g);const p=this.chart.config,x=p.datasetElementScopeKeys(this._type,t),w=r?[`${t}Hover`,"hover",t,""]:[t,""],A=p.getOptionScopes(this.getDataset(),x),_=Object.keys(Be.elements[t]),I=()=>this.getContext(i,r,n),T=p.resolveNamedOptions(A,_,I,w);return T.$shared&&(T.$shared=g,o[c]=Object.freeze(nd(T,g))),T}_resolveAnimations(t,n,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,h=o[c];if(h)return h;let g;if(r.options.animation!==!1){const x=this.chart.config,w=x.datasetAnimationScopeKeys(this._type,n),A=x.getOptionScopes(this.getDataset(),w);g=x.createResolver(A,this.getContext(t,i,n))}const p=new Qg(r,g&&g.animations);return g&&g._cacheable&&(o[c]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||dc(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(n,o)||o!==r;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:c}}updateElement(t,n,i,r){dc(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!dc(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const o=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[h,g,p]of this._syncList)this[h](g,p);this._syncList=[];const r=i.length,o=n.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,n,i=!0){const r=this._cachedMeta,o=r.data,c=t+n;let h;const g=p=>{for(p.length+=n,h=p.length-1;h>=c;h--)p[h]=p[h-n]};for(g(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&g(r._parsed),this.parse(t,n),i&&this.updateElements(o,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&Hr(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}pt(si,"defaults",{}),pt(si,"datasetElementType",null),pt(si,"dataElementType",null);function _E(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=n.length;r<o;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=Dg(i.sort((r,o)=>r-o))}return e._cache.$bar}function EE(e){const t=e.iScale,n=_E(t,e.type);let i=t._length,r,o,c,h;const g=()=>{c===32767||c===-32768||(Io(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=n.length;r<o;++r)c=t.getPixelForValue(n[r]),g();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),g();return i}function SE(e,t,n,i){const r=n.barThickness;let o,c;return se(r)?(o=t.min*n.categoryPercentage,c=n.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[e]-o/2}}function IE(e,t,n,i){const r=t.pixels,o=r[e];let c=e>0?r[e-1]:null,h=e<r.length-1?r[e+1]:null;const g=n.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const p=o-(o-Math.min(c,h))/2*g;return{chunk:Math.abs(h-c)/2*g/i,ratio:n.barPercentage,start:p}}function TE(e,t,n,i){const r=n.parse(e[0],i),o=n.parse(e[1],i),c=Math.min(r,o),h=Math.max(r,o);let g=c,p=h;Math.abs(c)>Math.abs(h)&&(g=h,p=c),t[n.axis]=p,t._custom={barStart:g,barEnd:p,start:r,end:o,min:c,max:h}}function Jg(e,t,n,i){return Le(e)?TE(e,t,n,i):t[n.axis]=n.parse(e,i),t}function id(e,t,n,i){const r=e.iScale,o=e.vScale,c=r.getLabels(),h=r===o,g=[];let p,x,w,A;for(p=n,x=n+i;p<x;++p)A=t[p],w={},w[r.axis]=h||r.parse(c[p],p),g.push(Jg(A,w,o,p));return g}function gc(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function ME(e,t,n){return e!==0?Ci(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function OE(e){let t,n,i,r,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:t,top:r,bottom:o}}function vE(e,t,n,i){let r=t.borderSkipped;const o={};if(!r){e.borderSkipped=o;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:g,top:p,bottom:x}=OE(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=p:(n._bottom||0)===i?r=x:(o[sd(x,c,h,g)]=!0,r=p)),o[sd(r,c,h,g)]=!0,e.borderSkipped=o}function sd(e,t,n,i){return i?(e=RE(e,t,n),e=rd(e,n,t)):e=rd(e,t,n),e}function RE(e,t,n){return e===t?n:e===n?t:e}function rd(e,t,n){return e==="start"?t:e==="end"?n:e}function DE(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Sa extends si{parsePrimitiveData(t,n,i,r){return id(t,n,i,r)}parseArrayData(t,n,i,r){return id(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:g="y"}=this._parsing,p=o.axis==="x"?h:g,x=c.axis==="x"?h:g,w=[];let A,_,I,T;for(A=i,_=i+r;A<_;++A)T=n[A],I={},I[o.axis]=o.parse(ls(T,p),A),w.push(Jg(ls(T,x),I,c,A));return w}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const o=i._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,o=this.getParsed(t),c=o._custom,h=gc(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,g=h.getBasePixel(),p=h.isHorizontal(),x=this._getRuler(),{sharedOptions:w,includeOptions:A}=this._getSharedOptions(n,r);for(let _=n;_<n+i;_++){const I=this.getParsed(_),T=o||se(I[h.axis])?{base:g,head:g}:this._calculateBarValuePixels(_),v=this._calculateBarIndexPixels(_,x),k=(I._stacks||{})[h.axis],L={horizontal:p,base:T.base,enableBorderRadius:!k||gc(I._custom)||c===k._top||c===k._bottom,x:p?T.head:v.center,y:p?v.center:T.head,height:p?v.size:Math.abs(T.size),width:p?Math.abs(T.size):v.size};A&&(L.options=w||this.resolveDataElementOptions(_,t[_].active?"active":r));const F=L.options||t[_].options;vE(L,F,k,c),DE(L,F,x.ratio),this.updateElement(t[_],_,L,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(x=>x.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(n),g=h&&h[i.axis],p=x=>{const w=x._parsed.find(_=>_[i.axis]===g),A=w&&w[x.vScale.axis];if(se(A)||isNaN(A))return!0};for(const x of r)if(!(n!==void 0&&p(x))&&((o===!1||c.indexOf(x.stack)===-1||o===void 0&&x.stack===void 0)&&c.push(x.stack),x.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const r=this._getStacks(t,i),o=n!==void 0?r.indexOf(n):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let o,c;for(o=0,c=n.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||EE(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,g=this.getParsed(t),p=g._custom,x=gc(p);let w=g[n.axis],A=0,_=i?this.applyStack(n,g,i):w,I,T;_!==w&&(A=_-w,_=w),x&&(w=p.barStart,_=p.barEnd-p.barStart,w!==0&&Ci(w)!==Ci(p.barEnd)&&(A=0),A+=w);const v=!se(o)&&!x?o:A;let k=n.getPixelForValue(v);if(this.chart.getDataVisibility(t)?I=n.getPixelForValue(A+_):I=k,T=I-k,Math.abs(T)<c){T=ME(T,n,h)*c,w===h&&(k-=T/2);const L=n.getPixelForDecimal(0),F=n.getPixelForDecimal(1),V=Math.min(L,F),W=Math.max(L,F);k=Math.max(Math.min(k,W),V),I=k+T,i&&!x&&(g._stacks[n.axis]._visualValues[r]=n.getValueForPixel(I)-n.getValueForPixel(k))}if(k===n.getPixelForValue(h)){const L=Ci(T)*n.getLineWidthForValue(h)/2;k+=L,T-=L}return{size:T,base:k,head:I,center:I+T/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,o=r.skipNull,c=jt(r.maxBarThickness,1/0);let h,g;if(n.grouped){const p=o?this._getStackCount(t):n.stackCount,x=r.barThickness==="flex"?IE(t,n,r,p):SE(t,n,r,p),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);h=x.start+x.chunk*w+x.chunk/2,g=Math.min(c,x.chunk*x.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),g=Math.min(c,n.min*n.ratio);return{base:h-g/2,head:h+g/2,center:h,size:g}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}pt(Sa,"id","bar"),pt(Sa,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),pt(Sa,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ia extends si{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,r){const o=super.parsePrimitiveData(t,n,i,r);for(let c=0;c<o.length;c++)o[c]._custom=this.resolveDataElementOptions(c+i).radius;return o}parseArrayData(t,n,i,r){const o=super.parseArrayData(t,n,i,r);for(let c=0;c<o.length;c++){const h=n[i+c];o[c]._custom=jt(h[2],this.resolveDataElementOptions(c+i).radius)}return o}parseObjectData(t,n,i,r){const o=super.parseObjectData(t,n,i,r);for(let c=0;c<o.length;c++){const h=n[i+c];o[c]._custom=jt(h&&h.r&&+h.r,this.resolveDataElementOptions(c+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=n,c=this.getParsed(t),h=r.getLabelForValue(c.x),g=o.getLabelForValue(c.y),p=c._custom;return{label:i[t]||"",value:"("+h+", "+g+(p?", "+p:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,r){const o=r==="reset",{iScale:c,vScale:h}=this._cachedMeta,{sharedOptions:g,includeOptions:p}=this._getSharedOptions(n,r),x=c.axis,w=h.axis;for(let A=n;A<n+i;A++){const _=t[A],I=!o&&this.getParsed(A),T={},v=T[x]=o?c.getPixelForDecimal(.5):c.getPixelForValue(I[x]),k=T[w]=o?h.getBasePixel():h.getPixelForValue(I[w]);T.skip=isNaN(v)||isNaN(k),p&&(T.options=g||this.resolveDataElementOptions(A,_.active?"active":r),o&&(T.options.radius=0)),this.updateElement(_,A,T,r)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return n!=="active"&&(r.radius=0),r.radius+=jt(i&&i._custom,o),r}}pt(Ia,"id","bubble"),pt(Ia,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),pt(Ia,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function NE(e,t,n){let i=1,r=1,o=0,c=0;if(t<ve){const h=e,g=h+t,p=Math.cos(h),x=Math.sin(h),w=Math.cos(g),A=Math.sin(g),_=(F,V,W)=>To(F,h,g,!0)?1:Math.max(V,V*n,W,W*n),I=(F,V,W)=>To(F,h,g,!0)?-1:Math.min(V,V*n,W,W*n),T=_(0,p,w),v=_(We,x,A),k=I(Re,p,w),L=I(Re+We,x,A);i=(T-k)/2,r=(v-L)/2,o=-(T+k)/2,c=-(v+L)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class vs extends si{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=g=>+i[g];if(Jt(i[t])){const{key:g="value"}=this._parsing;o=p=>+ls(i[p],g)}let c,h;for(c=t,h=t+n;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return ni(this.options.rotation-90)}_getCircumference(){return ni(this.options.circumference)}_getRotationExtents(){let t=ve,n=-ve;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),n=Math.max(n,o+c)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),g=Math.min(XC(this.options.cutout,h),1),p=this._getRingWeight(this.index),{circumference:x,rotation:w}=this._getRotationExtents(),{ratioX:A,ratioY:_,offsetX:I,offsetY:T}=NE(w,x,g),v=(i.width-c)/A,k=(i.height-c)/_,L=Math.max(Math.min(v,k)/2,0),F=Tg(this.options.radius,L),V=Math.max(F*g,0),W=(F-V)/this._getVisibleDatasetWeightTotal();this.offsetX=I*F,this.offsetY=T*F,r.total=this.calculateTotal(),this.outerRadius=F-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*p,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ve)}updateElements(t,n,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,p=c.options.animation,x=(h.left+h.right)/2,w=(h.top+h.bottom)/2,A=o&&p.animateScale,_=A?0:this.innerRadius,I=A?0:this.outerRadius,{sharedOptions:T,includeOptions:v}=this._getSharedOptions(n,r);let k=this._getRotation(),L;for(L=0;L<n;++L)k+=this._circumference(L,o);for(L=n;L<n+i;++L){const F=this._circumference(L,o),V=t[L],W={x:x+this.offsetX,y:w+this.offsetY,startAngle:k,endAngle:k+F,circumference:F,outerRadius:I,innerRadius:_};v&&(W.options=T||this.resolveDataElementOptions(L,V.active?"active":r)),k+=F,this.updateElement(V,L,W,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,r;for(r=0;r<n.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ve*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=Vo(n._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const i=this.chart;let r,o,c,h,g;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)g=h.resolveDataElementOptions(r),g.borderAlign!=="inner"&&(n=Math.max(n,g.borderWidth||0,g.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(jt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}pt(vs,"id","doughnut"),pt(vs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),pt(vs,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),pt(vs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((o,c)=>{const g=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:r,lineWidth:g.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Ta extends si{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=n,c=this.chart._animationsDisabled;let{start:h,count:g}=Pg(n,r,c);this._drawStart=h,this._drawCount=g,Lg(n)&&(h=0,g=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:p},t),this.updateElements(r,h,g,t)}updateElements(t,n,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:g,_dataset:p}=this._cachedMeta,{sharedOptions:x,includeOptions:w}=this._getSharedOptions(n,r),A=c.axis,_=h.axis,{spanGaps:I,segment:T}=this.options,v=yr(I)?I:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||r==="none",L=n+i,F=t.length;let V=n>0&&this.getParsed(n-1);for(let W=0;W<F;++W){const Q=t[W],H=k?Q:{};if(W<n||W>=L){H.skip=!0;continue}const et=this.getParsed(W),K=se(et[_]),Mt=H[A]=c.getPixelForValue(et[A],W),At=H[_]=o||K?h.getBasePixel():h.getPixelForValue(g?this.applyStack(h,et,g):et[_],W);H.skip=isNaN(Mt)||isNaN(At)||K,H.stop=W>0&&Math.abs(et[A]-V[A])>v,T&&(H.parsed=et,H.raw=p.data[W]),w&&(H.options=x||this.resolveDataElementOptions(W,Q.active?"active":r)),k||this.updateElement(Q,W,H,r),V=et}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}pt(Ta,"id","line"),pt(Ta,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),pt(Ta,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class fo extends si{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=Vo(n._parsed[t].r,i.options.locale);return{label:r[t]||"",value:o}}parseObjectData(t,n,i,r){return Wg.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(r/2,0),c=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),h=(o-c)/t.getVisibleDatasetCount();this.outerRadius=o-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,n,i,r){const o=r==="reset",c=this.chart,g=c.options.animation,p=this._cachedMeta.rScale,x=p.xCenter,w=p.yCenter,A=p.getIndexAngle(0)-.5*Re;let _=A,I;const T=360/this.countVisibleElements();for(I=0;I<n;++I)_+=this._computeAngle(I,r,T);for(I=n;I<n+i;I++){const v=t[I];let k=_,L=_+this._computeAngle(I,r,T),F=c.getDataVisibility(I)?p.getDistanceFromCenterForValue(this.getParsed(I).r):0;_=L,o&&(g.animateScale&&(F=0),g.animateRotate&&(k=L=A));const V={x,y:w,innerRadius:0,outerRadius:F,startAngle:k,endAngle:L,options:this.resolveDataElementOptions(I,v.active?"active":r)};this.updateElement(v,I,V,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?ni(this.resolveDataElementOptions(t,n).angle||i):0}}pt(fo,"id","polarArea"),pt(fo,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),pt(fo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((o,c)=>{const g=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:r,lineWidth:g.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Kc extends vs{}pt(Kc,"id","pie"),pt(Kc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ma extends si{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,r){return Wg.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta,i=n.dataset,r=n.data||[],o=n.iScale.getLabels();if(i.points=r,t!=="resize"){const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0);const h={_loop:!0,_fullLoop:o.length===r.length,options:c};this.updateElement(i,void 0,h,t)}this.updateElements(r,0,r.length,t)}updateElements(t,n,i,r){const o=this._cachedMeta.rScale,c=r==="reset";for(let h=n;h<n+i;h++){const g=t[h],p=this.resolveDataElementOptions(h,g.active?"active":r),x=o.getPointPositionForValue(h,this.getParsed(h).r),w=c?o.xCenter:x.x,A=c?o.yCenter:x.y,_={x:w,y:A,angle:x.angle,skip:isNaN(w)||isNaN(A),options:p};this.updateElement(g,h,_,r)}}}pt(Ma,"id","radar"),pt(Ma,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),pt(Ma,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Oa extends si{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=n,c=this.getParsed(t),h=r.getLabelForValue(c.x),g=o.getLabelForValue(c.y);return{label:i[t]||"",value:"("+h+", "+g+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:o,count:c}=Pg(n,i,r);if(this._drawStart=o,this._drawCount=c,Lg(n)&&(o=0,c=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:g}=n;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!g._decimated,h.points=i;const p=this.resolveDatasetElementOptions(t);p.segment=this.options.segment,this.updateElement(h,void 0,{animated:!r,options:p},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,o,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:g,_dataset:p}=this._cachedMeta,x=this.resolveDataElementOptions(n,r),w=this.getSharedOptions(x),A=this.includeOptions(r,w),_=c.axis,I=h.axis,{spanGaps:T,segment:v}=this.options,k=yr(T)?T:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none";let F=n>0&&this.getParsed(n-1);for(let V=n;V<n+i;++V){const W=t[V],Q=this.getParsed(V),H=L?W:{},et=se(Q[I]),K=H[_]=c.getPixelForValue(Q[_],V),Mt=H[I]=o||et?h.getBasePixel():h.getPixelForValue(g?this.applyStack(h,Q,g):Q[I],V);H.skip=isNaN(K)||isNaN(Mt)||et,H.stop=V>0&&Math.abs(Q[_]-F[_])>k,v&&(H.parsed=Q,H.raw=p.data[V]),A&&(H.options=w||this.resolveDataElementOptions(V,W.active?"active":r)),L||this.updateElement(W,V,H,r),F=Q}this.updateSharedOptions(w,r,x)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let h=0;for(let g=n.length-1;g>=0;--g)h=Math.max(h,n[g].size(this.resolveDataElementOptions(g))/2);return h>0&&h}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const o=n[0].size(this.resolveDataElementOptions(0)),c=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,o,c)/2}}pt(Oa,"id","scatter"),pt(Oa,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),pt(Oa,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var kE=Object.freeze({__proto__:null,BarController:Sa,BubbleController:Ia,DoughnutController:vs,LineController:Ta,PieController:Kc,PolarAreaController:fo,RadarController:Ma,ScatterController:Oa});function Es(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zu{constructor(t){pt(this,"options");this.options=t||{}}static override(t){Object.assign(Zu.prototype,t)}init(){}formats(){return Es()}parse(){return Es()}format(){return Es()}add(){return Es()}diff(){return Es()}startOf(){return Es()}endOf(){return Es()}}var PE={_date:Zu};function LE(e,t,n,i){const{controller:r,data:o,_sorted:c}=e,h=r._cachedMeta.iScale;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?r_:Li;if(i){if(r._sharedOptions){const p=o[0],x=typeof p.getRange=="function"&&p.getRange(t);if(x){const w=g(o,t,n-x),A=g(o,t,n+x);return{lo:w.lo,hi:A.hi}}}}else return g(o,t,n)}return{lo:0,hi:o.length-1}}function Ho(e,t,n,i,r){const o=e.getSortedVisibleDatasetMetas(),c=n[t];for(let h=0,g=o.length;h<g;++h){const{index:p,data:x}=o[h],{lo:w,hi:A}=LE(o[h],t,c,r);for(let _=w;_<=A;++_){const I=x[_];I.skip||i(I,p,_)}}}function BE(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function pc(e,t,n,i,r){const o=[];return!r&&!e.isPointInArea(t)||Ho(e,n,t,function(h,g,p){!r&&!Bi(h,e.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:g,index:p})},!0),o}function FE(e,t,n,i){let r=[];function o(c,h,g){const{startAngle:p,endAngle:x}=c.getProps(["startAngle","endAngle"],i),{angle:w}=vg(c,{x:t.x,y:t.y});To(w,p,x)&&r.push({element:c,datasetIndex:h,index:g})}return Ho(e,n,t,o),r}function UE(e,t,n,i,r,o){let c=[];const h=BE(n);let g=Number.POSITIVE_INFINITY;function p(x,w,A){const _=x.inRange(t.x,t.y,r);if(i&&!_)return;const I=x.getCenterPoint(r);if(!(!!o||e.isPointInArea(I))&&!_)return;const v=h(t,I);v<g?(c=[{element:x,datasetIndex:w,index:A}],g=v):v===g&&c.push({element:x,datasetIndex:w,index:A})}return Ho(e,n,t,p),c}function mc(e,t,n,i,r,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!i?FE(e,t,n,r):UE(e,t,n,i,r,o)}function od(e,t,n,i,r){const o=[],c=n==="x"?"inXRange":"inYRange";let h=!1;return Ho(e,n,t,(g,p,x)=>{g[c]&&g[c](t[n],r)&&(o.push({element:g,datasetIndex:p,index:x}),h=h||g.inRange(t.x,t.y,r))}),i&&!h?[]:o}var VE={evaluateInteractionItems:Ho,modes:{index(e,t,n,i){const r=Ts(t,e),o=n.axis||"x",c=n.includeInvisible||!1,h=n.intersect?pc(e,r,o,i,c):mc(e,r,o,!1,i,c),g=[];return h.length?(e.getSortedVisibleDatasetMetas().forEach(p=>{const x=h[0].index,w=p.data[x];w&&!w.skip&&g.push({element:w,datasetIndex:p.index,index:x})}),g):[]},dataset(e,t,n,i){const r=Ts(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;let h=n.intersect?pc(e,r,o,i,c):mc(e,r,o,!1,i,c);if(h.length>0){const g=h[0].datasetIndex,p=e.getDatasetMeta(g).data;h=[];for(let x=0;x<p.length;++x)h.push({element:p[x],datasetIndex:g,index:x})}return h},point(e,t,n,i){const r=Ts(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;return pc(e,r,o,i,c)},nearest(e,t,n,i){const r=Ts(t,e),o=n.axis||"xy",c=n.includeInvisible||!1;return mc(e,r,o,n.intersect,i,c)},x(e,t,n,i){const r=Ts(t,e);return od(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=Ts(t,e);return od(e,r,"y",n.intersect,i)}}};const tp=["left","top","right","bottom"];function zr(e,t){return e.filter(n=>n.pos===t)}function ad(e,t){return e.filter(n=>tp.indexOf(n.pos)===-1&&n.box.axis===t)}function jr(e,t){return e.sort((n,i)=>{const r=t?i:n,o=t?n:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function HE(e){const t=[];let n,i,r,o,c,h;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function zE(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:o}=n;if(!i||!tp.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function jE(e,t){const n=zE(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=e.length;o<c;++o){h=e[o];const{fullSize:g}=h.box,p=n[h.stack],x=p&&h.stackWeight/p.weight;h.horizontal?(h.width=x?x*i:g&&t.availableWidth,h.height=r):(h.width=i,h.height=x?x*r:g&&t.availableHeight)}return n}function WE(e){const t=HE(e),n=jr(t.filter(p=>p.box.fullSize),!0),i=jr(zr(t,"left"),!0),r=jr(zr(t,"right")),o=jr(zr(t,"top"),!0),c=jr(zr(t,"bottom")),h=ad(t,"x"),g=ad(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(g).concat(c).concat(h),chartArea:zr(t,"chartArea"),vertical:i.concat(r).concat(g),horizontal:o.concat(c).concat(h)}}function ld(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function ep(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function GE(e,t,n,i){const{pos:r,box:o}=n,c=e.maxPadding;if(!Jt(r)){n.size&&(e[r]-=n.size);const w=i[n.stack]||{size:0,count:1};w.size=Math.max(w.size,n.horizontal?o.height:o.width),n.size=w.size/w.count,e[r]+=n.size}o.getPadding&&ep(c,o.getPadding());const h=Math.max(0,t.outerWidth-ld(c,e,"left","right")),g=Math.max(0,t.outerHeight-ld(c,e,"top","bottom")),p=h!==e.w,x=g!==e.h;return e.w=h,e.h=g,n.horizontal?{same:p,other:x}:{same:x,other:p}}function YE(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function XE(e,t){const n=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],n[c])}),o}return i(e?["left","right"]:["top","bottom"])}function Zr(e,t,n,i){const r=[];let o,c,h,g,p,x;for(o=0,c=e.length,p=0;o<c;++o){h=e[o],g=h.box,g.update(h.width||t.w,h.height||t.h,XE(h.horizontal,t));const{same:w,other:A}=GE(t,n,h,i);p|=w&&r.length,x=x||A,g.fullSize||r.push(h)}return p&&Zr(r,t,n,i)||x}function aa(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function cd(e,t,n,i){const r=n.padding;let{x:o,y:c}=t;for(const h of e){const g=h.box,p=i[h.stack]||{count:1,placed:0,weight:1},x=h.stackWeight/p.weight||1;if(h.horizontal){const w=t.w*x,A=p.size||g.height;Io(p.start)&&(c=p.start),g.fullSize?aa(g,r.left,c,n.outerWidth-r.right-r.left,A):aa(g,t.left+p.placed,c,w,A),p.start=c,p.placed+=w,c=g.bottom}else{const w=t.h*x,A=p.size||g.width;Io(p.start)&&(o=p.start),g.fullSize?aa(g,o,r.top,A,n.outerHeight-r.bottom-r.top):aa(g,o,t.top+p.placed,A,w),p.start=o,p.placed+=w,o=g.right}}t.x=o,t.y=c}var gn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=xn(e.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(n-r.height,0),h=WE(e.boxes),g=h.vertical,p=h.horizontal;me(e.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const x=g.reduce((T,v)=>v.box.options&&v.box.options.display===!1?T:T+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/x,hBoxMaxHeight:c/2}),A=Object.assign({},r);ep(A,xn(i));const _=Object.assign({maxPadding:A,w:o,h:c,x:r.left,y:r.top},r),I=jE(g.concat(p),w);Zr(h.fullSize,_,w,I),Zr(g,_,w,I),Zr(p,_,w,I)&&Zr(g,_,w,I),YE(_),cd(h.leftAndTop,_,w,I),_.x+=_.w,_.y+=_.h,cd(h.rightAndBottom,_,w,I),e.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},me(h.chartArea,T=>{const v=T.box;Object.assign(v,e.chartArea),v.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class np{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class KE extends np{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const va="$chartjs",ZE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ud=e=>e===null||e==="";function qE(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[va]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ud(r)){const o=Xf(e,"width");o!==void 0&&(e.width=o)}if(ud(i))if(e.style.height==="")e.height=e.width/(t||2);else{const o=Xf(e,"height");o!==void 0&&(e.height=o)}return e}const ip=$_?{passive:!0}:!1;function QE(e,t,n){e&&e.addEventListener(t,n,ip)}function $E(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,ip)}function JE(e,t){const n=ZE[e.type]||e.type,{x:i,y:r}=Ts(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function qa(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function tS(e,t,n){const i=e.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||qa(h.addedNodes,i),c=c&&!qa(h.removedNodes,i);c&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function eS(e,t,n){const i=e.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||qa(h.removedNodes,i),c=c&&!qa(h.addedNodes,i);c&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Oo=new Map;let hd=0;function sp(){const e=window.devicePixelRatio;e!==hd&&(hd=e,Oo.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function nS(e,t){Oo.size||window.addEventListener("resize",sp),Oo.set(e,t)}function iS(e){Oo.delete(e),Oo.size||window.removeEventListener("resize",sp)}function sS(e,t,n){const i=e.canvas,r=i&&Ku(i);if(!r)return;const o=kg((h,g)=>{const p=r.clientWidth;n(h,g),p<r.clientWidth&&n()},window),c=new ResizeObserver(h=>{const g=h[0],p=g.contentRect.width,x=g.contentRect.height;p===0&&x===0||o(p,x)});return c.observe(r),nS(e,o),c}function xc(e,t,n){n&&n.disconnect(),t==="resize"&&iS(e)}function rS(e,t,n){const i=e.canvas,r=kg(o=>{e.ctx!==null&&n(JE(o,e))},e);return QE(i,t,r),r}class oS extends np{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(qE(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[va])return!1;const i=n[va].initial;["height","width"].forEach(o=>{const c=i[o];se(c)?n.removeAttribute(o):n.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{n.style[o]=r[o]}),n.width=n.width,delete n[va],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),c={attach:tS,detach:eS,resize:sS}[n]||rS;r[n]=c(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:xc,detach:xc,resize:xc}[n]||$E)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return Q_(t,n,i,r)}isAttached(t){const n=t&&Ku(t);return!!(n&&n.isConnected)}}function aS(e){return!Xu()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?KE:oS}var ma;let zi=(ma=class{constructor(){pt(this,"x");pt(this,"y");pt(this,"active",!1);pt(this,"options");pt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return yr(this.x)&&yr(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}},pt(ma,"defaults",{}),pt(ma,"defaultRoutes"),ma);function lS(e,t){const n=e.options.ticks,i=cS(e),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?hS(t):[],c=o.length,h=o[0],g=o[c-1],p=[];if(c>r)return fS(t,p,o,c/r),p;const x=uS(o,t,r);if(c>0){let w,A;const _=c>1?Math.round((g-h)/(c-1)):null;for(la(t,p,x,se(_)?0:h-_,h),w=0,A=c-1;w<A;w++)la(t,p,x,o[w],o[w+1]);return la(t,p,x,g,se(_)?t.length:g+_),p}return la(t,p,x),p}function cS(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function uS(e,t,n){const i=dS(e),r=t.length/n;if(!i)return Math.max(r,1);const o=e_(i);for(let c=0,h=o.length-1;c<h;c++){const g=o[c];if(g>r)return g}return Math.max(r,1)}function hS(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function fS(e,t,n,i){let r=0,o=n[0],c;for(i=Math.ceil(i),c=0;c<e.length;c++)c===o&&(t.push(e[c]),r++,o=n[r*i])}function la(e,t,n,i,r){const o=jt(i,0),c=Math.min(jt(r,e.length),e.length);let h=0,g,p,x;for(n=Math.ceil(n),r&&(g=r-i,n=g/Math.floor(g/n)),x=o;x<0;)h++,x=Math.round(o+h*n);for(p=Math.max(o,0);p<c;p++)p===x&&(t.push(e[p]),h++,x=Math.round(o+h*n))}function dS(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const gS=e=>e==="left"?"right":e==="right"?"left":e,fd=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,dd=(e,t)=>Math.min(t||e,e);function gd(e,t){const n=[],i=e.length/t,r=e.length;let o=0;for(;o<r;o+=i)n.push(e[Math.floor(o)]);return n}function pS(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),o=e._startPixel,c=e._endPixel,h=1e-6;let g=e.getPixelForTick(r),p;if(!(n&&(i===1?p=Math.max(g-o,c-g):t===0?p=(e.getPixelForTick(1)-g)/2:p=(g-e.getPixelForTick(r-1))/2,g+=r<t?p:-p,g<o-h||g>c+h)))return g}function mS(e,t){me(e,n=>{const i=n.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete n.data[i[o]];i.splice(0,r)}})}function Wr(e){return e.drawTicks?e.tickLength:0}function pd(e,t){if(!e.display)return 0;const n=qe(e.font,t),i=xn(e.padding);return(Le(e.text)?e.text.length:1)*n.lineHeight+i.height}function xS(e,t){return ds(e,{scale:t,type:"scale"})}function bS(e,t,n){return ds(e,{tick:n,index:t,type:"tick"})}function wS(e,t,n){let i=Hu(e);return(n&&t!=="right"||!n&&t==="right")&&(i=gS(i)),i}function yS(e,t,n,i){const{top:r,left:o,bottom:c,right:h,chart:g}=e,{chartArea:p,scales:x}=g;let w=0,A,_,I;const T=c-r,v=h-o;if(e.isHorizontal()){if(_=cn(i,o,h),Jt(n)){const k=Object.keys(n)[0],L=n[k];I=x[k].getPixelForValue(L)+T-t}else n==="center"?I=(p.bottom+p.top)/2+T-t:I=fd(e,n,t);A=h-o}else{if(Jt(n)){const k=Object.keys(n)[0],L=n[k];_=x[k].getPixelForValue(L)-v+t}else n==="center"?_=(p.left+p.right)/2-v+t:_=fd(e,n,t);I=cn(i,c,r),w=n==="left"?-We:We}return{titleX:_,titleY:I,maxWidth:A,rotation:w}}class Ws extends zi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=Ln(t,Number.POSITIVE_INFINITY),n=Ln(n,Number.NEGATIVE_INFINITY),i=Ln(i,Number.POSITIVE_INFINITY),r=Ln(r,Number.NEGATIVE_INFINITY),{min:Ln(t,i),max:Ln(n,r),minDefined:ze(t),maxDefined:ze(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:n,max:i};const h=this.getMatchingVisibleMetas();for(let g=0,p=h.length;g<p;++g)c=h[g].controller.getMinMax(this,t),r||(n=Math.min(n,c.min)),o||(i=Math.max(i,c.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:Ln(n,Ln(i,n)),max:Ln(i,Ln(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Se(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=O_(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=h<this.ticks.length;this._convertTicksToLabels(g?gd(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=lS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Se(this.options.afterUpdate,[this])}beforeSetDimensions(){Se(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Se(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Se(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Se(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=Se(n.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Se(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Se(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=dd(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,o=n.maxRotation;let c=r,h,g,p;if(!this._isVisible()||!n.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const x=this._getLabelSizes(),w=x.widest.width,A=x.highest.height,_=tn(this.chart.width-w,0,this.maxWidth);h=t.offset?this.maxWidth/i:_/(i-1),w+6>h&&(h=_/(i-(t.offset?.5:1)),g=this.maxHeight-Wr(t.grid)-n.padding-pd(t.title,this.chart.options.font),p=Math.sqrt(w*w+A*A),c=Uu(Math.min(Math.asin(tn((x.highest.height+6)/h,-1,1)),Math.asin(tn(g/p,-1,1))-Math.asin(tn(A/p,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Se(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Se(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const g=pd(r,n.options.font);if(h?(t.width=this.maxWidth,t.height=Wr(o)+g):(t.height=this.maxHeight,t.width=Wr(o)+g),i.display&&this.ticks.length){const{first:p,last:x,widest:w,highest:A}=this._getLabelSizes(),_=i.padding*2,I=ni(this.labelRotation),T=Math.cos(I),v=Math.sin(I);if(h){const k=i.mirror?0:v*w.width+T*A.height;t.height=Math.min(this.maxHeight,t.height+k+_)}else{const k=i.mirror?0:T*w.width+v*A.height;t.width=Math.min(this.maxWidth,t.width+k+_)}this._calculatePadding(p,x,v,T)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,g=this.labelRotation!==0,p=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const x=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let A=0,_=0;g?p?(A=r*t.width,_=i*n.height):(A=i*t.height,_=r*n.width):o==="start"?_=n.width:o==="end"?A=t.width:o!=="inner"&&(A=t.width/2,_=n.width/2),this.paddingLeft=Math.max((A-x+c)*this.width/(this.width-x),0),this.paddingRight=Math.max((_-w+c)*this.width/(this.width-w),0)}else{let x=n.height/2,w=t.height/2;o==="start"?(x=0,w=t.height):o==="end"&&(x=n.height,w=0),this.paddingTop=x+c,this.paddingBottom=w+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Se(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)se(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=gd(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],g=Math.floor(n/dd(n,i));let p=0,x=0,w,A,_,I,T,v,k,L,F,V,W;for(w=0;w<n;w+=g){if(I=t[w].label,T=this._resolveTickFontOptions(w),r.font=v=T.string,k=o[v]=o[v]||{data:{},gc:[]},L=T.lineHeight,F=V=0,!se(I)&&!Le(I))F=Ka(r,k.data,k.gc,F,I),V=L;else if(Le(I))for(A=0,_=I.length;A<_;++A)W=I[A],!se(W)&&!Le(W)&&(F=Ka(r,k.data,k.gc,F,W),V+=L);c.push(F),h.push(V),p=Math.max(F,p),x=Math.max(V,x)}mS(o,n);const Q=c.indexOf(p),H=h.indexOf(x),et=K=>({width:c[K]||0,height:h[K]||0});return{first:et(0),last:et(n-1),widest:et(Q),highest:et(H),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return s_(this._alignToPixels?_s(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=bS(this.getContext(),t,i))}return this.$context||(this.$context=xS(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ni(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,g=o?o.highest.height+c:0;return this.isHorizontal()?g*i>h*r?h/i:g/r:g*r<h*i?g/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,g=o.offset,p=this.isHorizontal(),w=this.ticks.length+(g?1:0),A=Wr(o),_=[],I=h.setContext(this.getContext()),T=I.display?I.width:0,v=T/2,k=function(_t){return _s(i,_t,T)};let L,F,V,W,Q,H,et,K,Mt,At,ht,Ot;if(c==="top")L=k(this.bottom),H=this.bottom-A,K=L-v,At=k(t.top)+v,Ot=t.bottom;else if(c==="bottom")L=k(this.top),At=t.top,Ot=k(t.bottom)-v,H=L+v,K=this.top+A;else if(c==="left")L=k(this.right),Q=this.right-A,et=L-v,Mt=k(t.left)+v,ht=t.right;else if(c==="right")L=k(this.left),Mt=t.left,ht=k(t.right)-v,Q=L+v,et=this.left+A;else if(n==="x"){if(c==="center")L=k((t.top+t.bottom)/2+.5);else if(Jt(c)){const _t=Object.keys(c)[0],ct=c[_t];L=k(this.chart.scales[_t].getPixelForValue(ct))}At=t.top,Ot=t.bottom,H=L+v,K=H+A}else if(n==="y"){if(c==="center")L=k((t.left+t.right)/2);else if(Jt(c)){const _t=Object.keys(c)[0],ct=c[_t];L=k(this.chart.scales[_t].getPixelForValue(ct))}Q=L-v,et=Q-A,Mt=t.left,ht=t.right}const Xt=jt(r.ticks.maxTicksLimit,w),G=Math.max(1,Math.ceil(w/Xt));for(F=0;F<w;F+=G){const _t=this.getContext(F),ct=o.setContext(_t),Bt=h.setContext(_t),te=ct.lineWidth,Ne=ct.color,Qe=Bt.dash||[],qt=Bt.dashOffset,Ye=ct.tickWidth,ae=ct.tickColor,Cn=ct.tickBorderDash||[],xt=ct.tickBorderDashOffset;V=pS(this,F,g),V!==void 0&&(W=_s(i,V,te),p?Q=et=Mt=ht=W:H=K=At=Ot=W,_.push({tx1:Q,ty1:H,tx2:et,ty2:K,x1:Mt,y1:At,x2:ht,y2:Ot,width:te,color:Ne,borderDash:Qe,borderDashOffset:qt,tickWidth:Ye,tickColor:ae,tickBorderDash:Cn,tickBorderDashOffset:xt}))}return this._ticksLength=w,this._borderValue=L,_}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:g,crossAlign:p,padding:x,mirror:w}=o,A=Wr(i.grid),_=A+x,I=w?-x:_,T=-ni(this.labelRotation),v=[];let k,L,F,V,W,Q,H,et,K,Mt,At,ht,Ot="middle";if(r==="top")Q=this.bottom-I,H=this._getXAxisLabelAlignment();else if(r==="bottom")Q=this.top+I,H=this._getXAxisLabelAlignment();else if(r==="left"){const G=this._getYAxisLabelAlignment(A);H=G.textAlign,W=G.x}else if(r==="right"){const G=this._getYAxisLabelAlignment(A);H=G.textAlign,W=G.x}else if(n==="x"){if(r==="center")Q=(t.top+t.bottom)/2+_;else if(Jt(r)){const G=Object.keys(r)[0],_t=r[G];Q=this.chart.scales[G].getPixelForValue(_t)+_}H=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")W=(t.left+t.right)/2-_;else if(Jt(r)){const G=Object.keys(r)[0],_t=r[G];W=this.chart.scales[G].getPixelForValue(_t)}H=this._getYAxisLabelAlignment(A).textAlign}n==="y"&&(g==="start"?Ot="top":g==="end"&&(Ot="bottom"));const Xt=this._getLabelSizes();for(k=0,L=h.length;k<L;++k){F=h[k],V=F.label;const G=o.setContext(this.getContext(k));et=this.getPixelForTick(k)+o.labelOffset,K=this._resolveTickFontOptions(k),Mt=K.lineHeight,At=Le(V)?V.length:1;const _t=At/2,ct=G.color,Bt=G.textStrokeColor,te=G.textStrokeWidth;let Ne=H;c?(W=et,H==="inner"&&(k===L-1?Ne=this.options.reverse?"left":"right":k===0?Ne=this.options.reverse?"right":"left":Ne="center"),r==="top"?p==="near"||T!==0?ht=-At*Mt+Mt/2:p==="center"?ht=-Xt.highest.height/2-_t*Mt+Mt:ht=-Xt.highest.height+Mt/2:p==="near"||T!==0?ht=Mt/2:p==="center"?ht=Xt.highest.height/2-_t*Mt:ht=Xt.highest.height-At*Mt,w&&(ht*=-1),T!==0&&!G.showLabelBackdrop&&(W+=Mt/2*Math.sin(T))):(Q=et,ht=(1-At)*Mt/2);let Qe;if(G.showLabelBackdrop){const qt=xn(G.backdropPadding),Ye=Xt.heights[k],ae=Xt.widths[k];let Cn=ht-qt.top,xt=0-qt.left;switch(Ot){case"middle":Cn-=Ye/2;break;case"bottom":Cn-=Ye;break}switch(H){case"center":xt-=ae/2;break;case"right":xt-=ae;break;case"inner":k===L-1?xt-=ae:k>0&&(xt-=ae/2);break}Qe={left:xt,top:Cn,width:ae+qt.width,height:Ye+qt.height,color:G.backdropColor}}v.push({label:V,font:K,textOffset:ht,options:{rotation:T,color:ct,strokeColor:Bt,strokeWidth:te,textAlign:Ne,textBaseline:Ot,translation:[W,Q],backdrop:Qe}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ni(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,g=c.widest.width;let p,x;return n==="left"?r?(x=this.right+o,i==="near"?p="left":i==="center"?(p="center",x+=g/2):(p="right",x+=g)):(x=this.right-h,i==="near"?p="right":i==="center"?(p="center",x-=g/2):(p="left",x=this.left)):n==="right"?r?(x=this.left+o,i==="near"?p="right":i==="center"?(p="center",x-=g/2):(p="left",x-=g)):(x=this.left+h,i==="near"?p="left":i==="center"?(p="center",x+=g/2):(p="right",x=this.right)):p="right",{textAlign:p,x}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:o,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(g,p,x)=>{!x.width||!x.color||(i.save(),i.lineWidth=x.width,i.strokeStyle=x.color,i.setLineDash(x.borderDash||[]),i.lineDashOffset=x.borderDashOffset,i.beginPath(),i.moveTo(g.x,g.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(n.display)for(o=0,c=r.length;o<c;++o){const g=r[o];n.drawOnChartArea&&h({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),n.drawTicks&&h({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let p,x,w,A;this.isHorizontal()?(p=_s(t,this.left,c)-c/2,x=_s(t,this.right,h)+h/2,w=A=g):(w=_s(t,this.top,c)-c/2,A=_s(t,this.bottom,h)+h/2,p=x=g),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(p,w),n.lineTo(x,A),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Al(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,g=c.font,p=c.label,x=c.textOffset;Hs(i,p,0,x,g,h)}r&&Cl(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const o=qe(i.font),c=xn(i.padding),h=i.align;let g=o.lineHeight/2;n==="bottom"||n==="center"||Jt(n)?(g+=c.bottom,Le(i.text)&&(g+=o.lineHeight*(i.text.length-1))):g+=c.top;const{titleX:p,titleY:x,maxWidth:w,rotation:A}=yS(this,g,n,h);Hs(t,i.text,0,0,o,{color:i.color,maxWidth:w,rotation:A,textAlign:wS(h,n,r),textBaseline:"middle",translation:[p,x]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=jt(t.grid&&t.grid.z,-1),r=jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ws.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=n.length;o<c;++o){const h=n[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return qe(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ca{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;_S(n)&&(i=this.register(n));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,AS(t,c,i),this.override&&Be.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in Be[r]&&(delete Be[r][i],this.override&&delete Vs[i])}}function AS(e,t,n){const i=So(Object.create(null),[n?Be.get(n):{},Be.get(t),e.defaults]);Be.set(t,i),e.defaultRoutes&&CS(t,e.defaultRoutes),e.descriptors&&Be.describe(t,e.descriptors)}function CS(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),o=[e].concat(i).join("."),c=t[n].split("."),h=c.pop(),g=c.join(".");Be.route(o,r,g,h)})}function _S(e){return"id"in e&&"defaults"in e}class ES{constructor(){this.controllers=new ca(si,"datasets",!0),this.elements=new ca(zi,"elements"),this.plugins=new ca(Object,"plugins"),this.scales=new ca(Ws,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):me(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,n,i){const r=Fu(t);Se(i["before"+r],[],i),n[t](i),Se(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var bi=new ES;class SS{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,n,i);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,n,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],g=[n,r,o.options];if(Se(h,g,c)===!1&&r.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=jt(i.options&&i.options.plugins,{}),o=IS(i);return r===!1&&!n?[]:MS(t,o,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(g=>h.plugin.id===g.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function IS(e){const t={},n=[],i=Object.keys(bi.plugins.items);for(let o=0;o<i.length;o++)n.push(bi.getPlugin(i[o]));const r=e.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function TS(e,t){return!t&&e===!1?null:e===!0?{}:e}function MS(e,{plugins:t,localIds:n},i,r){const o=[],c=e.getContext();for(const h of t){const g=h.id,p=TS(i[g],r);p!==null&&o.push({plugin:h,options:OS(e.config,{plugin:h,local:n[g]},p,c)})}return o}function OS(e,{plugin:t,local:n},i,r){const o=e.pluginScopeKeys(t),c=e.getOptionScopes(i,o);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Zc(e,t){const n=Be.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function vS(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function RS(e,t){return e===t?"_index_":"_value_"}function md(e){if(e==="x"||e==="y"||e==="r")return e}function DS(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function qc(e,...t){if(md(e))return e;for(const n of t){const i=n.axis||DS(n.position)||e.length>1&&md(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function xd(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function NS(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return xd(e,"x",n[0])||xd(e,"y",n[0])}return{}}function kS(e,t){const n=Vs[e.type]||{scales:{}},i=t.scales||{},r=Zc(e.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Jt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const g=qc(c,h,NS(c,e),Be.scales[h.type]),p=RS(g,r),x=n.scales||{};o[c]=lo(Object.create(null),[{axis:g},h,x[g],x[p]])}),e.data.datasets.forEach(c=>{const h=c.type||e.type,g=c.indexAxis||Zc(h,t),x=(Vs[h]||{}).scales||{};Object.keys(x).forEach(w=>{const A=vS(w,g),_=c[A+"AxisID"]||A;o[_]=o[_]||Object.create(null),lo(o[_],[{axis:A},i[_],x[w]])})}),Object.keys(o).forEach(c=>{const h=o[c];lo(h,[Be.scales[h.type],Be.scale])}),o}function rp(e){const t=e.options||(e.options={});t.plugins=jt(t.plugins,{}),t.scales=kS(e,t)}function op(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function PS(e){return e=e||{},e.data=op(e.data),rp(e),e}const bd=new Map,ap=new Set;function ua(e,t){let n=bd.get(e);return n||(n=t(),bd.set(e,n),ap.add(n)),n}const Gr=(e,t,n)=>{const i=ls(t,n);i!==void 0&&e.add(i)};class LS{constructor(t){this._config=PS(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=op(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),rp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ua(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ua(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ua(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return ua(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(n);if(h)return h;const g=new Set;n.forEach(x=>{t&&(g.add(t),x.forEach(w=>Gr(g,t,w))),x.forEach(w=>Gr(g,r,w)),x.forEach(w=>Gr(g,Vs[o]||{},w)),x.forEach(w=>Gr(g,Be,w)),x.forEach(w=>Gr(g,Yc,w))});const p=Array.from(g);return p.length===0&&p.push(Object.create(null)),ap.has(n)&&c.set(n,p),p}chartOptionScopes(){const{options:t,type:n}=this;return[t,Vs[n]||{},Be.datasets[n]||{},{type:n},Be,Yc]}resolveNamedOptions(t,n,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=wd(this._resolverCache,t,r);let g=c;if(FS(c,n)){o.$shared=!1,i=cs(i)?i():i;const p=this.createResolver(t,i,h);g=Ar(c,i,p)}for(const p of n)o[p]=g[p];return o}createResolver(t,n,i=[""],r){const{resolver:o}=wd(this._resolverCache,t,i);return Jt(n)?Ar(o,n,void 0,r):o}}function wd(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let o=i.get(r);return o||(o={resolver:Wu(t,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const BS=e=>Jt(e)&&Object.getOwnPropertyNames(e).some(t=>cs(e[t]));function FS(e,t){const{isScriptable:n,isIndexable:i}=Vg(e);for(const r of t){const o=n(r),c=i(r),h=(c||o)&&e[r];if(o&&(cs(h)||BS(h))||c&&Le(h))return!0}return!1}var US="4.4.7";const VS=["top","bottom","left","right","chartArea"];function yd(e,t){return e==="top"||e==="bottom"||VS.indexOf(e)===-1&&t==="x"}function Ad(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Cd(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Se(n&&n.onComplete,[e],t)}function HS(e){const t=e.chart,n=t.options.animation;Se(n&&n.onProgress,[e],t)}function lp(e){return Xu()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ra={},_d=e=>{const t=lp(e);return Object.values(Ra).filter(n=>n.canvas===t).pop()};function zS(e,t,n){const i=Object.keys(e);for(const r of i){const o=+r;if(o>=t){const c=e[r];delete e[r],(n>0||o>t)&&(e[o+n]=c)}}}function jS(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function ha(e,t,n){return e.options.clip?e[n]:t[n]}function WS(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:ha(n,t,"left"),right:ha(n,t,"right"),top:ha(i,t,"top"),bottom:ha(i,t,"bottom")}:t}class Di{static register(...t){bi.add(...t),Ed()}static unregister(...t){bi.remove(...t),Ed()}constructor(t,n){const i=this.config=new LS(n),r=lp(t),o=_d(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||aS(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),g=h&&h.canvas,p=g&&g.height,x=g&&g.width;if(this.id=YC(),this.ctx=h,this.canvas=g,this.width=x,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new SS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=l_(w=>this.update(w),c.resizeDelay||0),this._dataChanges=[],Ra[this.id]=this,!h||!g){console.error("Failed to create chart: can't acquire context from the given item");return}Mi.listen(this,"complete",Cd),Mi.listen(this,"progress",HS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:o}=this;return se(t)?n&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Yf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jf(this.canvas,this.ctx),this}stop(){return Mi.stop(this),this}resize(t,n){Mi.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,n,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Yf(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Se(i.onResize,[this,c],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};me(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const h=n[c],g=qc(c,h),p=g==="r",x=g==="x";return{options:h,dposition:p?"chartArea":x?"bottom":"left",dtype:p?"radialLinear":x?"category":"linear"}}))),me(o,c=>{const h=c.options,g=h.id,p=qc(g,h),x=jt(h.type,c.dtype);(h.position===void 0||yd(h.position,p)!==yd(c.dposition))&&(h.position=c.dposition),r[g]=!0;let w=null;if(g in i&&i[g].type===x)w=i[g];else{const A=bi.getScale(x);w=new A({id:g,type:x,ctx:this.ctx,chart:this}),i[w.id]=w}w.init(h,t)}),me(r,(c,h)=>{c||delete i[h]}),me(i,c=>{gn.configure(this,c,c.options),gn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Ad("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const o=n[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Zc(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const g=bi.getController(h),{datasetElementType:p,dataElementType:x}=Be.datasets[h];Object.assign(g,{dataElementType:bi.getElement(x),datasetElementType:p&&bi.getElement(p)}),c.controller=new g(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){me(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,x=this.data.datasets.length;p<x;p++){const{controller:w}=this.getDatasetMeta(p),A=!r&&o.indexOf(w)===-1;w.buildOrUpdateElements(A),c=Math.max(+w.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||me(o,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ad("z","_idx"));const{_active:h,_lastEvent:g}=this;g?this._eventHandler(g,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){me(this.scales,t=>{gn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!kf(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of n){const c=i==="_removeElements"?-o:o;zS(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<n;o++)if(!kf(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gn.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],me(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,cs(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Mi.has(this)?this.attached&&!Mi.running(this)&&Mi.start(this):(this.draw(),Cd({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,o;for(r=0,o=n.length;r<o;++r){const c=n[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,o=WS(t,this.chartArea),c={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",c)!==!1&&(r&&Al(n,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),t.controller.draw(),r&&Cl(n),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(t){return Bi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const o=VE.modes[n];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ds(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Io(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Mi.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),jf(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ra[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(o,c)=>{n.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};me(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(g,p)=>{n.addEventListener(this,g,p),t[g]=p},r=(g,p)=>{t[g]&&(n.removeEventListener(this,g,p),delete t[g])},o=(g,p)=>{this.canvas&&this.resize(g,p)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},n.isAttached(this.canvas)?h():c()}unbindEvents(){me(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},me(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let o,c,h,g;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,g=t.length;h<g;++h){c=t[h];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Ga(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,o=(g,p)=>g.filter(x=>!p.some(w=>x.datasetIndex===w.datasetIndex&&x.index===w.index)),c=o(n,t),h=i?t:o(t,n);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:o}=this,c=n,h=this._getActiveElements(t,r,i,c),g=$C(t),p=jS(t,this._lastEvent,i,g);i&&(this._lastEvent=null,Se(o.onHover,[t,h,this],this),g&&Se(o.onClick,[t,h,this],this));const x=!Ga(h,r);return(x||n)&&(this._active=h,this._updateHoverStyles(h,r,n)),this._lastEvent=p,x}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}pt(Di,"defaults",Be),pt(Di,"instances",Ra),pt(Di,"overrides",Vs),pt(Di,"registry",bi),pt(Di,"version",US),pt(Di,"getChart",_d);function Ed(){return me(Di.instances,e=>e._plugins.invalidate())}function GS(e,t,n){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:g}=t;let p=r/h;e.beginPath(),e.arc(o,c,h,i-p,n+p),g>r?(p=r/g,e.arc(o,c,g,n+p,i-p,!0)):e.arc(o,c,r,n+We,i-We),e.closePath(),e.clip()}function YS(e){return ju(e,["outerStart","outerEnd","innerStart","innerEnd"])}function XS(e,t,n,i){const r=YS(e.options.borderRadius),o=(n-t)/2,c=Math.min(o,i*t/2),h=g=>{const p=(n-Math.min(o,g))*i/2;return tn(g,0,Math.min(o,p))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:tn(r.innerStart,0,c),innerEnd:tn(r.innerEnd,0,c)}}function sr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Qa(e,t,n,i,r,o){const{x:c,y:h,startAngle:g,pixelMargin:p,innerRadius:x}=t,w=Math.max(t.outerRadius+i+n-p,0),A=x>0?x+i+n+p:0;let _=0;const I=r-g;if(i){const G=x>0?x-i:0,_t=w>0?w-i:0,ct=(G+_t)/2,Bt=ct!==0?I*ct/(ct+i):I;_=(I-Bt)/2}const T=Math.max(.001,I*w-n/Re)/w,v=(I-T)/2,k=g+v+_,L=r-v-_,{outerStart:F,outerEnd:V,innerStart:W,innerEnd:Q}=XS(t,A,w,L-k),H=w-F,et=w-V,K=k+F/H,Mt=L-V/et,At=A+W,ht=A+Q,Ot=k+W/At,Xt=L-Q/ht;if(e.beginPath(),o){const G=(K+Mt)/2;if(e.arc(c,h,w,K,G),e.arc(c,h,w,G,Mt),V>0){const te=sr(et,Mt,c,h);e.arc(te.x,te.y,V,Mt,L+We)}const _t=sr(ht,L,c,h);if(e.lineTo(_t.x,_t.y),Q>0){const te=sr(ht,Xt,c,h);e.arc(te.x,te.y,Q,L+We,Xt+Math.PI)}const ct=(L-Q/A+(k+W/A))/2;if(e.arc(c,h,A,L-Q/A,ct,!0),e.arc(c,h,A,ct,k+W/A,!0),W>0){const te=sr(At,Ot,c,h);e.arc(te.x,te.y,W,Ot+Math.PI,k-We)}const Bt=sr(H,k,c,h);if(e.lineTo(Bt.x,Bt.y),F>0){const te=sr(H,K,c,h);e.arc(te.x,te.y,F,k-We,K)}}else{e.moveTo(c,h);const G=Math.cos(K)*w+c,_t=Math.sin(K)*w+h;e.lineTo(G,_t);const ct=Math.cos(Mt)*w+c,Bt=Math.sin(Mt)*w+h;e.lineTo(ct,Bt)}e.closePath()}function KS(e,t,n,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let g=t.endAngle;if(o){Qa(e,t,n,i,g,r);for(let p=0;p<o;++p)e.fill();isNaN(h)||(g=c+(h%ve||ve))}return Qa(e,t,n,i,g,r),e.fill(),g}function ZS(e,t,n,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:g}=t,{borderWidth:p,borderJoinStyle:x,borderDash:w,borderDashOffset:A}=g,_=g.borderAlign==="inner";if(!p)return;e.setLineDash(w||[]),e.lineDashOffset=A,_?(e.lineWidth=p*2,e.lineJoin=x||"round"):(e.lineWidth=p,e.lineJoin=x||"bevel");let I=t.endAngle;if(o){Qa(e,t,n,i,I,r);for(let T=0;T<o;++T)e.stroke();isNaN(h)||(I=c+(h%ve||ve))}_&&GS(e,t,I),o||(Qa(e,t,n,i,I,r),e.stroke())}class qr extends zi{constructor(n){super();pt(this,"circumference");pt(this,"endAngle");pt(this,"fullCircles");pt(this,"innerRadius");pt(this,"outerRadius");pt(this,"pixelMargin");pt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const o=this.getProps(["x","y"],r),{angle:c,distance:h}=vg(o,{x:n,y:i}),{startAngle:g,endAngle:p,innerRadius:x,outerRadius:w,circumference:A}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),_=(this.options.spacing+this.options.borderWidth)/2,I=jt(A,p-g),T=To(c,g,p)&&g!==p,v=I>=ve||T,k=Pi(h,x+_,w+_);return v&&k}getCenterPoint(n){const{x:i,y:r,startAngle:o,endAngle:c,innerRadius:h,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:p,spacing:x}=this.options,w=(o+c)/2,A=(h+g+x+p)/2;return{x:i+Math.cos(w)*A,y:r+Math.sin(w)*A}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,o=(i.offset||0)/4,c=(i.spacing||0)/2,h=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>ve?Math.floor(r/ve):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const g=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(g)*o,Math.sin(g)*o);const p=1-Math.sin(Math.min(Re,r||0)),x=o*p;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,KS(n,this,x,c,h),ZS(n,this,x,c,h),n.restore()}}pt(qr,"id","arc"),pt(qr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),pt(qr,"defaultRoutes",{backgroundColor:"backgroundColor"}),pt(qr,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function cp(e,t,n=t){e.lineCap=jt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(jt(n.borderDash,t.borderDash)),e.lineDashOffset=jt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=jt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=jt(n.borderWidth,t.borderWidth),e.strokeStyle=jt(n.borderColor,t.borderColor)}function qS(e,t,n){e.lineTo(n.x,n.y)}function QS(e){return e.stepped?y_:e.tension||e.cubicInterpolationMode==="monotone"?A_:qS}function up(e,t,n={}){const i=e.length,{start:r=0,end:o=i-1}=n,{start:c,end:h}=t,g=Math.max(r,c),p=Math.min(o,h),x=r<c&&o<c||r>h&&o>h;return{count:i,start:g,loop:t.loop,ilen:p<g&&!x?i+p-g:p-g}}function $S(e,t,n,i){const{points:r,options:o}=t,{count:c,start:h,loop:g,ilen:p}=up(r,n,i),x=QS(o);let{move:w=!0,reverse:A}=i||{},_,I,T;for(_=0;_<=p;++_)I=r[(h+(A?p-_:_))%c],!I.skip&&(w?(e.moveTo(I.x,I.y),w=!1):x(e,T,I,A,o.stepped),T=I);return g&&(I=r[(h+(A?p:0))%c],x(e,T,I,A,o.stepped)),!!g}function JS(e,t,n,i){const r=t.points,{count:o,start:c,ilen:h}=up(r,n,i),{move:g=!0,reverse:p}=i||{};let x=0,w=0,A,_,I,T,v,k;const L=V=>(c+(p?h-V:V))%o,F=()=>{T!==v&&(e.lineTo(x,v),e.lineTo(x,T),e.lineTo(x,k))};for(g&&(_=r[L(0)],e.moveTo(_.x,_.y)),A=0;A<=h;++A){if(_=r[L(A)],_.skip)continue;const V=_.x,W=_.y,Q=V|0;Q===I?(W<T?T=W:W>v&&(v=W),x=(w*x+V)/++w):(F(),e.lineTo(V,W),I=Q,w=0,T=v=W),k=W}F()}function Qc(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?JS:$S}function t3(e){return e.stepped?J_:e.tension||e.cubicInterpolationMode==="monotone"?tE:Ms}function e3(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),cp(e,t.options),e.stroke(r)}function n3(e,t,n,i){const{segments:r,options:o}=t,c=Qc(t);for(const h of r)cp(e,o,h.style),e.beginPath(),c(e,t,h,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const i3=typeof Path2D=="function";function s3(e,t,n,i){i3&&!t.options.segment?e3(e,t,n,i):n3(e,t,n,i)}class ss extends zi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;G_(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=oE(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],o=this.points,c=qg(this,{property:n,start:r,end:r});if(!c.length)return;const h=[],g=t3(i);let p,x;for(p=0,x=c.length;p<x;++p){const{start:w,end:A}=c[p],_=o[w],I=o[A];if(_===I){h.push(_);continue}const T=Math.abs((r-_[n])/(I[n]-_[n])),v=g(_,I,T,i.stepped);v[n]=t[n],h.push(v)}return h.length===1?h[0]:h}pathSegment(t,n,i){return Qc(this)(t,this,n,i)}path(t,n,i){const r=this.segments,o=Qc(this);let c=this._loop;n=n||0,i=i||this.points.length-n;for(const h of r)c&=o(t,this,h,{start:n,end:n+i-1});return!!c}draw(t,n,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),s3(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}pt(ss,"id","line"),pt(ss,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),pt(ss,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),pt(ss,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Sd(e,t,n,i){const r=e.options,{[n]:o}=e.getProps([n],i);return Math.abs(t-o)<r.radius+r.hitRadius}class Da extends zi{constructor(n){super();pt(this,"parsed");pt(this,"skip");pt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const o=this.options,{x:c,y:h}=this.getProps(["x","y"],r);return Math.pow(n-c,2)+Math.pow(i-h,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return Sd(this,n,"x",i)}inYRange(n,i){return Sd(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Bi(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Xc(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}pt(Da,"id","point"),pt(Da,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),pt(Da,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function hp(e,t){const{x:n,y:i,base:r,width:o,height:c}=e.getProps(["x","y","base","width","height"],t);let h,g,p,x,w;return e.horizontal?(w=c/2,h=Math.min(n,r),g=Math.max(n,r),p=i-w,x=i+w):(w=o/2,h=n-w,g=n+w,p=Math.min(i,r),x=Math.max(i,r)),{left:h,top:p,right:g,bottom:x}}function rs(e,t,n,i){return e?0:tn(t,n,i)}function r3(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,o=Ug(i);return{t:rs(r.top,o.top,0,n),r:rs(r.right,o.right,0,t),b:rs(r.bottom,o.bottom,0,n),l:rs(r.left,o.left,0,t)}}function o3(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,o=Ns(r),c=Math.min(t,n),h=e.borderSkipped,g=i||Jt(r);return{topLeft:rs(!g||h.top||h.left,o.topLeft,0,c),topRight:rs(!g||h.top||h.right,o.topRight,0,c),bottomLeft:rs(!g||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:rs(!g||h.bottom||h.right,o.bottomRight,0,c)}}function a3(e){const t=hp(e),n=t.right-t.left,i=t.bottom-t.top,r=r3(e,n/2,i/2),o=o3(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function bc(e,t,n,i){const r=t===null,o=n===null,h=e&&!(r&&o)&&hp(e,i);return h&&(r||Pi(t,h.left,h.right))&&(o||Pi(n,h.top,h.bottom))}function l3(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function c3(e,t){e.rect(t.x,t.y,t.w,t.h)}function wc(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,c=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+o,h:e.h+c,radius:e.radius}}class Na extends zi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=a3(this),h=l3(c.radius)?Mo:c3;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,wc(c,n,o)),t.clip(),h(t,wc(o,-n,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,wc(o,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return bc(this,t,n,i)}inXRange(t,n){return bc(this,t,null,n)}inYRange(t,n){return bc(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+r)/2:n,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}pt(Na,"id","bar"),pt(Na,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),pt(Na,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var u3=Object.freeze({__proto__:null,ArcElement:qr,BarElement:Na,LineElement:ss,PointElement:Da});const $c=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Id=$c.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function fp(e){return $c[e%$c.length]}function dp(e){return Id[e%Id.length]}function h3(e,t){return e.borderColor=fp(t),e.backgroundColor=dp(t),++t}function f3(e,t){return e.backgroundColor=e.data.map(()=>fp(t++)),t}function d3(e,t){return e.backgroundColor=e.data.map(()=>dp(t++)),t}function g3(e){let t=0;return(n,i)=>{const r=e.getDatasetMeta(i).controller;r instanceof vs?t=f3(n,t):r instanceof fo?t=d3(n,t):r&&(t=h3(n,t))}}function Td(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function p3(e){return e&&(e.borderColor||e.backgroundColor)}function m3(){return Be.borderColor!=="rgba(0,0,0,0.1)"||Be.backgroundColor!=="rgba(0,0,0,0.1)"}var x3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=e.config,{elements:o}=r,c=Td(i)||p3(r)||o&&Td(o)||m3();if(!n.forceOverride&&c)return;const h=g3(e);i.forEach(h)}};function b3(e,t,n,i,r){const o=r.samples||i;if(o>=n)return e.slice(t,t+n);const c=[],h=(n-2)/(o-2);let g=0;const p=t+n-1;let x=t,w,A,_,I,T;for(c[g++]=e[x],w=0;w<o-2;w++){let v=0,k=0,L;const F=Math.floor((w+1)*h)+1+t,V=Math.min(Math.floor((w+2)*h)+1,n)+t,W=V-F;for(L=F;L<V;L++)v+=e[L].x,k+=e[L].y;v/=W,k/=W;const Q=Math.floor(w*h)+1+t,H=Math.min(Math.floor((w+1)*h)+1,n)+t,{x:et,y:K}=e[x];for(_=I=-1,L=Q;L<H;L++)I=.5*Math.abs((et-v)*(e[L].y-K)-(et-e[L].x)*(k-K)),I>_&&(_=I,A=e[L],T=L);c[g++]=A,x=T}return c[g++]=e[p],c}function w3(e,t,n,i){let r=0,o=0,c,h,g,p,x,w,A,_,I,T;const v=[],k=t+n-1,L=e[t].x,V=e[k].x-L;for(c=t;c<t+n;++c){h=e[c],g=(h.x-L)/V*i,p=h.y;const W=g|0;if(W===x)p<I?(I=p,w=c):p>T&&(T=p,A=c),r=(o*r+h.x)/++o;else{const Q=c-1;if(!se(w)&&!se(A)){const H=Math.min(w,A),et=Math.max(w,A);H!==_&&H!==Q&&v.push({...e[H],x:r}),et!==_&&et!==Q&&v.push({...e[et],x:r})}c>0&&Q!==_&&v.push(e[Q]),v.push(h),x=W,o=0,I=T=p,w=A=_=c}}return v}function gp(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Md(e){e.data.datasets.forEach(t=>{gp(t)})}function y3(e,t){const n=t.length;let i=0,r;const{iScale:o}=e,{min:c,max:h,minDefined:g,maxDefined:p}=o.getUserBounds();return g&&(i=tn(Li(t,o.axis,c).lo,0,n-1)),p?r=tn(Li(t,o.axis,h).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var A3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Md(e);return}const i=e.width;e.data.datasets.forEach((r,o)=>{const{_data:c,indexAxis:h}=r,g=e.getDatasetMeta(o),p=c||r.data;if(Kr([h,e.options.indexAxis])==="y"||!g.controller.supportsDecimation)return;const x=e.scales[g.xAxisID];if(x.type!=="linear"&&x.type!=="time"||e.options.parsing)return;let{start:w,count:A}=y3(g,p);const _=n.threshold||4*i;if(A<=_){gp(r);return}se(c)&&(r._data=p,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(T){this._data=T}}));let I;switch(n.algorithm){case"lttb":I=b3(p,w,A,i,n);break;case"min-max":I=w3(p,w,A,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=I})},destroy(e){Md(e)}};function C3(e,t,n){const i=e.segments,r=e.points,o=t.points,c=[];for(const h of i){let{start:g,end:p}=h;p=qu(g,p,r);const x=Jc(n,r[g],r[p],h.loop);if(!t.segments){c.push({source:h,target:x,start:r[g],end:r[p]});continue}const w=qg(t,x);for(const A of w){const _=Jc(n,o[A.start],o[A.end],A.loop),I=Zg(h,r,_);for(const T of I)c.push({source:T,target:A,start:{[n]:Od(x,_,"start",Math.max)},end:{[n]:Od(x,_,"end",Math.min)}})}}return c}function Jc(e,t,n,i){if(i)return;let r=t[e],o=n[e];return e==="angle"&&(r=Fn(r),o=Fn(o)),{property:e,start:r,end:o}}function _3(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,o=[];return t.segments.forEach(({start:c,end:h})=>{h=qu(c,h,r);const g=r[c],p=r[h];i!==null?(o.push({x:g.x,y:i}),o.push({x:p.x,y:i})):n!==null&&(o.push({x:n,y:g.y}),o.push({x:n,y:p.y}))}),o}function qu(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Od(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function pp(e,t){let n=[],i=!1;return Le(e)?(i=!0,n=e):n=_3(e,t),n.length?new ss({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function vd(e){return e&&e.fill!==!1}function E3(e,t,n){let r=e[t].fill;const o=[t];let c;if(!n)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!ze(r))return r;if(c=e[r],!c)return!1;if(c.visible)return r;o.push(r),r=c.fill}return!1}function S3(e,t,n){const i=O3(e);if(Jt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ze(r)&&Math.floor(r)===r?I3(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function I3(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function T3(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Jt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function M3(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:Jt(e)?i=e.value:i=t.getBaseValue(),i}function O3(e){const t=e.options,n=t.fill;let i=jt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function v3(e){const{scale:t,index:n,line:i}=e,r=[],o=i.segments,c=i.points,h=R3(t,n);h.push(pp({x:null,y:t.bottom},i));for(let g=0;g<o.length;g++){const p=o[g];for(let x=p.start;x<=p.end;x++)D3(r,c[x],h)}return new ss({points:r,options:{}})}function R3(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}function D3(e,t,n){const i=[];for(let r=0;r<n.length;r++){const o=n[r],{first:c,last:h,point:g}=N3(o,t,"x");if(!(!g||c&&h)){if(c)i.unshift(g);else if(e.push(g),!h)break}}e.push(...i)}function N3(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],o=e.segments,c=e.points;let h=!1,g=!1;for(let p=0;p<o.length;p++){const x=o[p],w=c[x.start][n],A=c[x.end][n];if(Pi(r,w,A)){h=r===w,g=r===A;break}}return{first:h,last:g,point:i}}class mp{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:r,y:o,radius:c}=this;return n=n||{start:0,end:ve},t.arc(r,o,c,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:r}=this,o=t.angle;return{x:n+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function k3(e){const{chart:t,fill:n,line:i}=e;if(ze(n))return P3(t,n);if(n==="stack")return v3(e);if(n==="shape")return!0;const r=L3(e);return r instanceof mp?r:pp(r,i)}function P3(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function L3(e){return(e.scale||{}).getPointPositionForValue?F3(e):B3(e)}function B3(e){const{scale:t={},fill:n}=e,i=T3(n,t);if(ze(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function F3(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,c=M3(n,t,o),h=[];if(i.grid.circular){const g=t.getPointPositionForValue(0,o);return new mp({x:g.x,y:g.y,radius:t.getDistanceFromCenterForValue(c)})}for(let g=0;g<r;++g)h.push(t.getPointPositionForValue(g,c));return h}function yc(e,t,n){const i=k3(t),{line:r,scale:o,axis:c}=t,h=r.options,g=h.fill,p=h.backgroundColor,{above:x=p,below:w=p}=g||{};i&&r.points.length&&(Al(e,n),U3(e,{line:r,target:i,above:x,below:w,area:n,scale:o,axis:c}),Cl(e))}function U3(e,t){const{line:n,target:i,above:r,below:o,area:c,scale:h}=t,g=n._loop?"angle":t.axis;e.save(),g==="x"&&o!==r&&(Rd(e,i,c.top),Dd(e,{line:n,target:i,color:r,scale:h,property:g}),e.restore(),e.save(),Rd(e,i,c.bottom)),Dd(e,{line:n,target:i,color:o,scale:h,property:g}),e.restore()}function Rd(e,t,n){const{segments:i,points:r}=t;let o=!0,c=!1;e.beginPath();for(const h of i){const{start:g,end:p}=h,x=r[g],w=r[qu(g,p,r)];o?(e.moveTo(x.x,x.y),o=!1):(e.lineTo(x.x,n),e.lineTo(x.x,x.y)),c=!!t.pathSegment(e,h,{move:c}),c?e.closePath():e.lineTo(w.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Dd(e,t){const{line:n,target:i,property:r,color:o,scale:c}=t,h=C3(n,i,r);for(const{source:g,target:p,start:x,end:w}of h){const{style:{backgroundColor:A=o}={}}=g,_=i!==!0;e.save(),e.fillStyle=A,V3(e,c,_&&Jc(r,x,w)),e.beginPath();const I=!!n.pathSegment(e,g);let T;if(_){I?e.closePath():Nd(e,i,w,r);const v=!!i.pathSegment(e,p,{move:I,reverse:!0});T=I&&v,T||Nd(e,i,x,r)}e.closePath(),e.fill(T?"evenodd":"nonzero"),e.restore()}}function V3(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:o,start:c,end:h}=n||{};o==="x"&&(e.beginPath(),e.rect(c,i,h-c,r-i),e.clip())}function Nd(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var H3={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let o,c,h,g;for(c=0;c<i;++c)o=e.getDatasetMeta(c),h=o.dataset,g=null,h&&h.options&&h instanceof ss&&(g={visible:e.isDatasetVisible(c),index:c,fill:S3(h,c,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=g,r.push(g);for(c=0;c<i;++c)g=r[c],!(!g||g.fill===!1)&&(g.fill=E3(r,c,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let c=r.length-1;c>=0;--c){const h=r[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&yc(e.ctx,h,o))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;vd(o)&&yc(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!vd(i)||n.drawTime!=="beforeDatasetDraw"||yc(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kd=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},z3=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Pd extends zi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Se(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=qe(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:g}=kd(i,o);let p,x;n.font=r.string,this.isHorizontal()?(p=this.maxWidth,x=this._fitRows(c,o,h,g)+10):(x=this.maxHeight,p=this._fitCols(c,r,h,g)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(x,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,g=this.legendHitBoxes=[],p=this.lineWidths=[0],x=r+h;let w=t;o.textAlign="left",o.textBaseline="middle";let A=-1,_=-x;return this.legendItems.forEach((I,T)=>{const v=i+n/2+o.measureText(I.text).width;(T===0||p[p.length-1]+v+2*h>c)&&(w+=x,p[p.length-(T>0?0:1)]=0,_+=x,A++),g[T]={left:0,top:_,row:A,width:v,height:r},p[p.length-1]+=v+h}),w}_fitCols(t,n,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,g=this.legendHitBoxes=[],p=this.columnSizes=[],x=c-t;let w=h,A=0,_=0,I=0,T=0;return this.legendItems.forEach((v,k)=>{const{itemWidth:L,itemHeight:F}=j3(i,n,o,v,r);k>0&&_+F+2*h>x&&(w+=A+h,p.push({width:A,height:_}),I+=A+h,T++,A=_=0),g[k]={left:I,top:_,col:T,width:L,height:F},A=Math.max(A,L),_+=F+h}),w+=A,p.push({width:A,height:_}),w}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:o}}=this,c=pr(o,this.left,this.width);if(this.isHorizontal()){let h=0,g=cn(i,this.left+r,this.right-this.lineWidths[h]);for(const p of n)h!==p.row&&(h=p.row,g=cn(i,this.left+r,this.right-this.lineWidths[h])),p.top+=this.top+t+r,p.left=c.leftForLtr(c.x(g),p.width),g+=p.width+r}else{let h=0,g=cn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const p of n)p.col!==h&&(h=p.col,g=cn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),p.top=g,p.left+=this.left+r,p.left=c.leftForLtr(c.x(p.left),p.width),g+=p.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Al(t,this),this._draw(),Cl(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Be.color,g=pr(t.rtl,this.left,this.width),p=qe(c.font),{padding:x}=c,w=p.size,A=w/2;let _;this.drawTitle(),r.textAlign=g.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:I,boxHeight:T,itemHeight:v}=kd(c,w),k=function(Q,H,et){if(isNaN(I)||I<=0||isNaN(T)||T<0)return;r.save();const K=jt(et.lineWidth,1);if(r.fillStyle=jt(et.fillStyle,h),r.lineCap=jt(et.lineCap,"butt"),r.lineDashOffset=jt(et.lineDashOffset,0),r.lineJoin=jt(et.lineJoin,"miter"),r.lineWidth=K,r.strokeStyle=jt(et.strokeStyle,h),r.setLineDash(jt(et.lineDash,[])),c.usePointStyle){const Mt={radius:T*Math.SQRT2/2,pointStyle:et.pointStyle,rotation:et.rotation,borderWidth:K},At=g.xPlus(Q,I/2),ht=H+A;Fg(r,Mt,At,ht,c.pointStyleWidth&&I)}else{const Mt=H+Math.max((w-T)/2,0),At=g.leftForLtr(Q,I),ht=Ns(et.borderRadius);r.beginPath(),Object.values(ht).some(Ot=>Ot!==0)?Mo(r,{x:At,y:Mt,w:I,h:T,radius:ht}):r.rect(At,Mt,I,T),r.fill(),K!==0&&r.stroke()}r.restore()},L=function(Q,H,et){Hs(r,et.text,Q,H+v/2,p,{strikethrough:et.hidden,textAlign:g.textAlign(et.textAlign)})},F=this.isHorizontal(),V=this._computeTitleHeight();F?_={x:cn(o,this.left+x,this.right-i[0]),y:this.top+x+V,line:0}:_={x:this.left+x,y:cn(o,this.top+V+x,this.bottom-n[0].height),line:0},Yg(this.ctx,t.textDirection);const W=v+x;this.legendItems.forEach((Q,H)=>{r.strokeStyle=Q.fontColor,r.fillStyle=Q.fontColor;const et=r.measureText(Q.text).width,K=g.textAlign(Q.textAlign||(Q.textAlign=c.textAlign)),Mt=I+A+et;let At=_.x,ht=_.y;g.setWidth(this.width),F?H>0&&At+Mt+x>this.right&&(ht=_.y+=W,_.line++,At=_.x=cn(o,this.left+x,this.right-i[_.line])):H>0&&ht+W>this.bottom&&(At=_.x=At+n[_.line].width+x,_.line++,ht=_.y=cn(o,this.top+V+x,this.bottom-n[_.line].height));const Ot=g.x(At);if(k(Ot,ht,Q),At=c_(K,At+I+A,F?At+Mt:this.right,t.rtl),L(g.x(At),ht,Q),F)_.x+=Mt+x;else if(typeof Q.text!="string"){const Xt=p.lineHeight;_.y+=xp(Q,Xt)+x}else _.y+=W}),Xg(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=qe(n.font),r=xn(n.padding);if(!n.display)return;const o=pr(t.rtl,this.left,this.width),c=this.ctx,h=n.position,g=i.size/2,p=r.top+g;let x,w=this.left,A=this.width;if(this.isHorizontal())A=Math.max(...this.lineWidths),x=this.top+p,w=cn(t.align,w,this.right-A);else{const I=this.columnSizes.reduce((T,v)=>Math.max(T,v.height),0);x=p+cn(t.align,this.top,this.bottom-I-t.labels.padding-this._computeTitleHeight())}const _=cn(h,w,w+A);c.textAlign=o.textAlign(Hu(h)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=i.string,Hs(c,n.text,_,x,i)}_computeTitleHeight(){const t=this.options.title,n=qe(t.font),i=xn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,o;if(Pi(t,this.left,this.right)&&Pi(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Pi(t,r.left,r.left+r.width)&&Pi(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!Y3(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=z3(r,i);r&&!o&&Se(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Se(n.onHover,[t,i,this],this)}else i&&Se(n.onClick,[t,i,this],this)}}function j3(e,t,n,i,r){const o=W3(i,e,t,n),c=G3(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function W3(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+n.size/2+i.measureText(r).width}function G3(e,t,n){let i=e;return typeof t.text!="string"&&(i=xp(t,n)),i}function xp(e,t){const n=e.text?e.text.length:0;return t*n}function Y3(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var X3={id:"legend",_element:Pd,start(e,t,n){const i=e.legend=new Pd({ctx:e.ctx,options:n,chart:e});gn.configure(e,i,n),gn.addBox(e,i)},stop(e){gn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;gn.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=e.legend.options;return e._getSortedDatasetMetas().map(g=>{const p=g.controller.getStyle(n?0:void 0),x=xn(p.borderWidth);return{text:t[g.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!g.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(x.width+x.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:r||p.textAlign,borderRadius:c&&(h||p.borderRadius),datasetIndex:g.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Qu extends zi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=Le(i.text)?i.text.length:1;this._padding=xn(i.padding);const o=r*qe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:o,options:c}=this,h=c.align;let g=0,p,x,w;return this.isHorizontal()?(x=cn(h,i,o),w=n+t,p=o-i):(c.position==="left"?(x=i+t,w=cn(h,r,n),g=Re*-.5):(x=o-t,w=cn(h,n,r),g=Re*.5),p=r-n),{titleX:x,titleY:w,maxWidth:p,rotation:g}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=qe(n.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:g,rotation:p}=this._drawArgs(o);Hs(t,n.text,0,0,i,{color:n.color,maxWidth:g,rotation:p,textAlign:Hu(n.align),textBaseline:"middle",translation:[c,h]})}}function K3(e,t){const n=new Qu({ctx:e.ctx,options:t,chart:e});gn.configure(e,n,t),gn.addBox(e,n),e.titleBlock=n}var Z3={id:"title",_element:Qu,start(e,t,n){K3(e,n)},stop(e){const t=e.titleBlock;gn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;gn.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fa=new WeakMap;var q3={id:"subtitle",start(e,t,n){const i=new Qu({ctx:e.ctx,options:n,chart:e});gn.configure(e,i,n),gn.addBox(e,i),fa.set(e,i)},stop(e){gn.removeBox(e,fa.get(e)),fa.delete(e)},beforeUpdate(e,t,n){const i=fa.get(e);gn.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qr={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,o=0;for(t=0,n=e.length;t<n;++t){const h=e[t].element;if(h&&h.hasValue()){const g=h.tooltipPosition();i.add(g.x),r+=g.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,g)=>h+g)/i.size,y:r/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=e.length;o<c;++o){const g=e[o].element;if(g&&g.hasValue()){const p=g.getCenterPoint(),x=Gc(t,p);x<r&&(r=x,h=g)}}if(h){const g=h.tooltipPosition();n=g.x,i=g.y}return{x:n,y:i}}};function mi(e,t){return t&&(Le(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Oi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Q3(e,t){const{element:n,datasetIndex:i,index:r}=t,o=e.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:e,label:c,parsed:o.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Ld(e,t){const n=e.chart.ctx,{body:i,footer:r,title:o}=e,{boxWidth:c,boxHeight:h}=t,g=qe(t.bodyFont),p=qe(t.titleFont),x=qe(t.footerFont),w=o.length,A=r.length,_=i.length,I=xn(t.padding);let T=I.height,v=0,k=i.reduce((V,W)=>V+W.before.length+W.lines.length+W.after.length,0);if(k+=e.beforeBody.length+e.afterBody.length,w&&(T+=w*p.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),k){const V=t.displayColors?Math.max(h,g.lineHeight):g.lineHeight;T+=_*V+(k-_)*g.lineHeight+(k-1)*t.bodySpacing}A&&(T+=t.footerMarginTop+A*x.lineHeight+(A-1)*t.footerSpacing);let L=0;const F=function(V){v=Math.max(v,n.measureText(V).width+L)};return n.save(),n.font=p.string,me(e.title,F),n.font=g.string,me(e.beforeBody.concat(e.afterBody),F),L=t.displayColors?c+2+t.boxPadding:0,me(i,V=>{me(V.before,F),me(V.lines,F),me(V.after,F)}),L=0,n.font=x.string,me(e.footer,F),n.restore(),v+=I.width,{width:v,height:T}}function $3(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function J3(e,t,n,i){const{x:r,width:o}=i,c=n.caretSize+n.caretPadding;if(e==="left"&&r+o+c>t.width||e==="right"&&r-o-c<0)return!0}function tI(e,t,n,i){const{x:r,width:o}=n,{width:c,chartArea:{left:h,right:g}}=e;let p="center";return i==="center"?p=r<=(h+g)/2?"left":"right":r<=o/2?p="left":r>=c-o/2&&(p="right"),J3(p,e,t,n)&&(p="center"),p}function Bd(e,t,n){const i=n.yAlign||t.yAlign||$3(e,n);return{xAlign:n.xAlign||t.xAlign||tI(e,t,n,i),yAlign:i}}function eI(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function nI(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function Fd(e,t,n,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=e,{xAlign:h,yAlign:g}=n,p=r+o,{topLeft:x,topRight:w,bottomLeft:A,bottomRight:_}=Ns(c);let I=eI(t,h);const T=nI(t,g,p);return g==="center"?h==="left"?I+=p:h==="right"&&(I-=p):h==="left"?I-=Math.max(x,A)+r:h==="right"&&(I+=Math.max(w,_)+r),{x:tn(I,0,i.width-t.width),y:tn(T,0,i.height-t.height)}}function da(e,t,n){const i=xn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Ud(e){return mi([],Oi(e))}function iI(e,t,n){return ds(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Vd(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const bp={beforeTitle:Ti,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Ti,beforeBody:Ti,beforeLabel:Ti,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return se(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ti,afterBody:Ti,beforeFooter:Ti,footer:Ti,afterFooter:Ti};function Mn(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?bp[t].call(n,i):r}class tu extends zi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,o=new Qg(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=iI(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=Mn(i,"beforeTitle",this,t),o=Mn(i,"title",this,t),c=Mn(i,"afterTitle",this,t);let h=[];return h=mi(h,Oi(r)),h=mi(h,Oi(o)),h=mi(h,Oi(c)),h}getBeforeBody(t,n){return Ud(Mn(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return me(t,o=>{const c={before:[],lines:[],after:[]},h=Vd(i,o);mi(c.before,Oi(Mn(h,"beforeLabel",this,o))),mi(c.lines,Mn(h,"label",this,o)),mi(c.after,Oi(Mn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,n){return Ud(Mn(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=Mn(i,"beforeFooter",this,t),o=Mn(i,"footer",this,t),c=Mn(i,"afterFooter",this,t);let h=[];return h=mi(h,Oi(r)),h=mi(h,Oi(o)),h=mi(h,Oi(c)),h}_createItems(t){const n=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],g,p;for(g=0,p=n.length;g<p;++g)h.push(Q3(this.chart,n[g]));return t.filter&&(h=h.filter((x,w,A)=>t.filter(x,w,A,i))),t.itemSort&&(h=h.sort((x,w)=>t.itemSort(x,w,i))),me(h,x=>{const w=Vd(t.callbacks,x);r.push(Mn(w,"labelColor",this,x)),o.push(Mn(w,"labelPointStyle",this,x)),c.push(Mn(w,"labelTextColor",this,x))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Qr[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const g=this._size=Ld(this,i),p=Object.assign({},h,g),x=Bd(this.chart,i,p),w=Fd(i,p,x,this.chart);this.xAlign=x.xAlign,this.yAlign=x.yAlign,o={opacity:1,x:w.x,y:w.y,width:g.width,height:g.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const o=this.getCaretPosition(t,i,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:g,topRight:p,bottomLeft:x,bottomRight:w}=Ns(h),{x:A,y:_}=t,{width:I,height:T}=n;let v,k,L,F,V,W;return o==="center"?(V=_+T/2,r==="left"?(v=A,k=v-c,F=V+c,W=V-c):(v=A+I,k=v+c,F=V-c,W=V+c),L=v):(r==="left"?k=A+Math.max(g,x)+c:r==="right"?k=A+I-Math.max(p,w)-c:k=this.caretX,o==="top"?(F=_,V=F-c,v=k-c,L=k+c):(F=_+T,V=F+c,v=k+c,L=k-c),W=F),{x1:v,x2:k,x3:L,y1:F,y2:V,y3:W}}drawTitle(t,n,i){const r=this.title,o=r.length;let c,h,g;if(o){const p=pr(i.rtl,this.x,this.width);for(t.x=da(this,i.titleAlign,i),n.textAlign=p.textAlign(i.titleAlign),n.textBaseline="middle",c=qe(i.titleFont),h=i.titleSpacing,n.fillStyle=i.titleColor,n.font=c.string,g=0;g<o;++g)n.fillText(r[g],p.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,g+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,n,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:g,boxWidth:p}=o,x=qe(o.bodyFont),w=da(this,"left",o),A=r.x(w),_=g<x.lineHeight?(x.lineHeight-g)/2:0,I=n.y+_;if(o.usePointStyle){const T={radius:Math.min(p,g)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},v=r.leftForLtr(A,p)+p/2,k=I+g/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Xc(t,T,v,k),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Xc(t,T,v,k)}else{t.lineWidth=Jt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const T=r.leftForLtr(A,p),v=r.leftForLtr(r.xPlus(A,1),p-2),k=Ns(c.borderRadius);Object.values(k).some(L=>L!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Mo(t,{x:T,y:I,w:p,h:g,radius:k}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Mo(t,{x:v,y:I+1,w:p-2,h:g-2,radius:k}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(T,I,p,g),t.strokeRect(T,I,p,g),t.fillStyle=c.backgroundColor,t.fillRect(v,I+1,p-2,g-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:g,boxWidth:p,boxPadding:x}=i,w=qe(i.bodyFont);let A=w.lineHeight,_=0;const I=pr(i.rtl,this.x,this.width),T=function(et){n.fillText(et,I.x(t.x+_),t.y+A/2),t.y+=A+o},v=I.textAlign(c);let k,L,F,V,W,Q,H;for(n.textAlign=c,n.textBaseline="middle",n.font=w.string,t.x=da(this,v,i),n.fillStyle=i.bodyColor,me(this.beforeBody,T),_=h&&v!=="right"?c==="center"?p/2+x:p+2+x:0,V=0,Q=r.length;V<Q;++V){for(k=r[V],L=this.labelTextColors[V],n.fillStyle=L,me(k.before,T),F=k.lines,h&&F.length&&(this._drawColorBox(n,t,V,I,i),A=Math.max(w.lineHeight,g)),W=0,H=F.length;W<H;++W)T(F[W]),A=w.lineHeight;me(k.after,T)}_=0,A=w.lineHeight,me(this.afterBody,T),t.y-=o}drawFooter(t,n,i){const r=this.footer,o=r.length;let c,h;if(o){const g=pr(i.rtl,this.x,this.width);for(t.x=da(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=g.textAlign(i.footerAlign),n.textBaseline="middle",c=qe(i.footerFont),n.fillStyle=i.footerColor,n.font=c.string,h=0;h<o;++h)n.fillText(r[h],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:g}=t,{width:p,height:x}=i,{topLeft:w,topRight:A,bottomLeft:_,bottomRight:I}=Ns(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(h+w,g),c==="top"&&this.drawCaret(t,n,i,r),n.lineTo(h+p-A,g),n.quadraticCurveTo(h+p,g,h+p,g+A),c==="center"&&o==="right"&&this.drawCaret(t,n,i,r),n.lineTo(h+p,g+x-I),n.quadraticCurveTo(h+p,g+x,h+p-I,g+x),c==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(h+_,g+x),n.quadraticCurveTo(h,g+x,h,g+x-_),c==="center"&&o==="left"&&this.drawCaret(t,n,i,r),n.lineTo(h,g+w),n.quadraticCurveTo(h,g,h+w,g),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Qr[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Ld(this,t),g=Object.assign({},c,this._size),p=Bd(n,t,g),x=Fd(t,g,p,n);(r._to!==x.x||o._to!==x.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,x))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=xn(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,n),Yg(t,n.textDirection),o.y+=c.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),Xg(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:h,index:g})=>{const p=this.chart.getDatasetMeta(h);if(!p)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:p.data[g],index:g}}),o=!Ga(i,r),c=this._positionChanged(r,n);(o||c)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,n,i),h=this._positionChanged(c,t),g=n||!Ga(c,o)||h;return g&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),g}_getActiveElements(t,n,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:i,caretY:r,options:o}=this,c=Qr[o.position].call(this,t,n);return c!==!1&&(i!==c.x||r!==c.y)}}pt(tu,"positioners",Qr);var sI={id:"tooltip",_element:tu,positioners:Qr,afterInit(e,t,n){n&&(e.tooltip=new tu({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},rI=Object.freeze({__proto__:null,Colors:x3,Decimation:A3,Filler:H3,Legend:X3,SubTitle:q3,Title:Z3,Tooltip:sI});const oI=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function aI(e,t,n,i){const r=e.indexOf(t);if(r===-1)return oI(e,t,n,i);const o=e.lastIndexOf(t);return r!==o?n:r}const lI=(e,t)=>e===null?null:tn(Math.round(e),0,t);function Hd(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class eu extends Ws{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:o}of n)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(se(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:aI(i,t,jt(n,t),this._addedLabels),lI(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=n;c++)r.push({value:c});return r}getLabelForValue(t){return Hd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}pt(eu,"id","category"),pt(eu,"defaults",{ticks:{callback:Hd}});function cI(e,t){const n=[],{bounds:r,step:o,min:c,max:h,precision:g,count:p,maxTicks:x,maxDigits:w,includeBounds:A}=e,_=o||1,I=x-1,{min:T,max:v}=t,k=!se(c),L=!se(h),F=!se(p),V=(v-T)/(w+1);let W=Lf((v-T)/I/_)*_,Q,H,et,K;if(W<1e-14&&!k&&!L)return[{value:T},{value:v}];K=Math.ceil(v/W)-Math.floor(T/W),K>I&&(W=Lf(K*W/I/_)*_),se(g)||(Q=Math.pow(10,g),W=Math.ceil(W*Q)/Q),r==="ticks"?(H=Math.floor(T/W)*W,et=Math.ceil(v/W)*W):(H=T,et=v),k&&L&&o&&n_((h-c)/o,W/1e3)?(K=Math.round(Math.min((h-c)/W,x)),W=(h-c)/K,H=c,et=h):F?(H=k?c:H,et=L?h:et,K=p-1,W=(et-H)/K):(K=(et-H)/W,co(K,Math.round(K),W/1e3)?K=Math.round(K):K=Math.ceil(K));const Mt=Math.max(Bf(W),Bf(H));Q=Math.pow(10,se(g)?Mt:g),H=Math.round(H*Q)/Q,et=Math.round(et*Q)/Q;let At=0;for(k&&(A&&H!==c?(n.push({value:c}),H<c&&At++,co(Math.round((H+At*W)*Q)/Q,c,zd(c,V,e))&&At++):H<c&&At++);At<K;++At){const ht=Math.round((H+At*W)*Q)/Q;if(L&&ht>h)break;n.push({value:ht})}return L&&A&&et!==h?n.length&&co(n[n.length-1].value,h,zd(h,V,e))?n[n.length-1].value=h:n.push({value:h}):(!L||et===h)&&n.push({value:et}),n}function zd(e,t,{horizontal:n,minRotation:i}){const r=ni(i),o=(n?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+e).length;return Math.min(t/o,c)}class $a extends Ws{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=g=>r=n?r:g,h=g=>o=i?o:g;if(t){const g=Ci(r),p=Ci(o);g<0&&p<0?h(0):g>0&&p>0&&c(0)}if(r===o){let g=o===0?1:Math.abs(o*.05);h(o+g),t||c(r-g)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=cI(r,o);return t.bounds==="ticks"&&Og(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Vo(t,this.chart.options.locale,this.options.ticks.format)}}class nu extends $a{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ze(t)?t:0,this.max=ze(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=ni(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}pt(nu,"id","linear"),pt(nu,"defaults",{ticks:{callback:yl.formatters.numeric}});const vo=e=>Math.floor(is(e)),Ss=(e,t)=>Math.pow(10,vo(e)+t);function jd(e){return e/Math.pow(10,vo(e))===1}function Wd(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function uI(e,t){const n=t-e;let i=vo(n);for(;Wd(e,t,i)>10;)i++;for(;Wd(e,t,i)<10;)i--;return Math.min(i,vo(e))}function hI(e,{min:t,max:n}){t=Ln(e.min,t);const i=[],r=vo(t);let o=uI(t,n),c=o<0?Math.pow(10,Math.abs(o)):1;const h=Math.pow(10,o),g=r>o?Math.pow(10,r):0,p=Math.round((t-g)*c)/c,x=Math.floor((t-g)/h/10)*h*10;let w=Math.floor((p-x)/Math.pow(10,o)),A=Ln(e.min,Math.round((g+x+w*Math.pow(10,o))*c)/c);for(;A<n;)i.push({value:A,major:jd(A),significand:w}),w>=10?w=w<15?15:20:w++,w>=20&&(o++,w=2,c=o>=0?1:c),A=Math.round((g+x+w*Math.pow(10,o))*c)/c;const _=Ln(e.max,A);return i.push({value:_,major:jd(_),significand:w}),i}class iu extends Ws{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=$a.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return ze(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ze(t)?Math.max(0,t):null,this.max=ze(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ze(this._userMin)&&(this.min=t===Ss(this.min,0)?Ss(this.min,-1):Ss(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const o=h=>i=t?i:h,c=h=>r=n?r:h;i===r&&(i<=0?(o(1),c(10)):(o(Ss(i,-1)),c(Ss(r,1)))),i<=0&&o(Ss(r,-1)),r<=0&&c(Ss(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=hI(n,this);return t.bounds==="ticks"&&Og(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Vo(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=is(t),this._valueRange=is(this.max)-is(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(is(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}pt(iu,"id","logarithmic"),pt(iu,"defaults",{ticks:{callback:yl.formatters.logarithmic,major:{enabled:!0}}});function su(e){const t=e.ticks;if(t.display&&e.display){const n=xn(t.backdropPadding);return jt(t.font&&t.font.size,Be.font.size)+n.height}return 0}function fI(e,t,n){return n=Le(n)?n:[n],{w:w_(e,t.string,n),h:n.length*t.lineHeight}}function Gd(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function dI(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],o=e._pointLabels.length,c=e.options.pointLabels,h=c.centerPointLabels?Re/o:0;for(let g=0;g<o;g++){const p=c.setContext(e.getPointLabelContext(g));r[g]=p.padding;const x=e.getPointPosition(g,e.drawingArea+r[g],h),w=qe(p.font),A=fI(e.ctx,w,e._pointLabels[g]);i[g]=A;const _=Fn(e.getIndexAngle(g)+h),I=Math.round(Uu(_)),T=Gd(I,x.x,A.w,0,180),v=Gd(I,x.y,A.h,90,270);gI(n,t,_,T,v)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=xI(e,i,r)}function gI(e,t,n,i,r){const o=Math.abs(Math.sin(n)),c=Math.abs(Math.cos(n));let h=0,g=0;i.start<t.l?(h=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-h)):i.end>t.r&&(h=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+h)),r.start<t.t?(g=(t.t-r.start)/c,e.t=Math.min(e.t,t.t-g)):r.end>t.b&&(g=(r.end-t.b)/c,e.b=Math.max(e.b,t.b+g))}function pI(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:o,padding:c,size:h}=n,g=e.getPointPosition(t,i+r+c,o),p=Math.round(Uu(Fn(g.angle+We))),x=yI(g.y,h.h,p),w=bI(p),A=wI(g.x,h.w,w);return{visible:!0,x:g.x,y:x,textAlign:w,left:A,top:x,right:A+h.w,bottom:x+h.h}}function mI(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:o}=e;return!(Bi({x:n,y:i},t)||Bi({x:n,y:o},t)||Bi({x:r,y:i},t)||Bi({x:r,y:o},t))}function xI(e,t,n){const i=[],r=e._pointLabels.length,o=e.options,{centerPointLabels:c,display:h}=o.pointLabels,g={extra:su(o)/2,additionalAngle:c?Re/r:0};let p;for(let x=0;x<r;x++){g.padding=n[x],g.size=t[x];const w=pI(e,x,g);i.push(w),h==="auto"&&(w.visible=mI(w,p),w.visible&&(p=w))}return i}function bI(e){return e===0||e===180?"center":e<180?"left":"right"}function wI(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function yI(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function AI(e,t,n){const{left:i,top:r,right:o,bottom:c}=n,{backdropColor:h}=t;if(!se(h)){const g=Ns(t.borderRadius),p=xn(t.backdropPadding);e.fillStyle=h;const x=i-p.left,w=r-p.top,A=o-i+p.width,_=c-r+p.height;Object.values(g).some(I=>I!==0)?(e.beginPath(),Mo(e,{x,y:w,w:A,h:_,radius:g}),e.fill()):e.fillRect(x,w,A,_)}}function CI(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const o=e._pointLabelItems[r];if(!o.visible)continue;const c=i.setContext(e.getPointLabelContext(r));AI(n,c,o);const h=qe(c.font),{x:g,y:p,textAlign:x}=o;Hs(n,e._pointLabels[r],g,p+h.lineHeight/2,h,{color:c.color,textAlign:x,textBaseline:"middle"})}}function wp(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,ve);else{let o=e.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let c=1;c<i;c++)o=e.getPointPosition(c,t),r.lineTo(o.x,o.y)}}function _I(e,t,n,i,r){const o=e.ctx,c=t.circular,{color:h,lineWidth:g}=t;!c&&!i||!h||!g||n<0||(o.save(),o.strokeStyle=h,o.lineWidth=g,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),wp(e,n,c,i),o.closePath(),o.stroke(),o.restore())}function EI(e,t,n){return ds(e,{label:n,index:t,type:"pointLabel"})}class $r extends $a{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=xn(su(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=ze(t)&&!isNaN(t)?t:0,this.max=ze(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/su(this.options))}generateTickLabels(t){$a.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const r=Se(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?dI(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,r))}getIndexAngle(t){const n=ve/(this._pointLabels.length||1),i=this.options.startAngle||0;return Fn(t*n+ni(i))}getDistanceFromCenterForValue(t){if(se(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(se(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return EI(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const r=this.getIndexAngle(t)-We+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:n,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),wp(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:r,border:o}=n,c=this._pointLabels.length;let h,g,p;if(n.pointLabels.display&&CI(this,c),r.display&&this.ticks.forEach((x,w)=>{if(w!==0||w===0&&this.min<0){g=this.getDistanceFromCenterForValue(x.value);const A=this.getContext(w),_=r.setContext(A),I=o.setContext(A);_I(this,_,g,c,I)}}),i.display){for(t.save(),h=c-1;h>=0;h--){const x=i.setContext(this.getPointLabelContext(h)),{color:w,lineWidth:A}=x;!A||!w||(t.lineWidth=A,t.strokeStyle=w,t.setLineDash(x.borderDash),t.lineDashOffset=x.borderDashOffset,g=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),p=this.getPointPosition(h,g),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(p.x,p.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,c;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((h,g)=>{if(g===0&&this.min>=0&&!n.reverse)return;const p=i.setContext(this.getContext(g)),x=qe(p.font);if(o=this.getDistanceFromCenterForValue(this.ticks[g].value),p.showLabelBackdrop){t.font=x.string,c=t.measureText(h.label).width,t.fillStyle=p.backdropColor;const w=xn(p.backdropPadding);t.fillRect(-c/2-w.left,-o-x.size/2-w.top,c+w.width,x.size+w.height)}Hs(t,h.label,0,-o,x,{color:p.color,strokeColor:p.textStrokeColor,strokeWidth:p.textStrokeWidth})}),t.restore()}drawTitle(){}}pt($r,"id","radialLinear"),pt($r,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yl.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),pt($r,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),pt($r,"descriptors",{angleLines:{_fallback:"grid"}});const El={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},On=Object.keys(El);function Yd(e,t){return e-t}function Xd(e,t){if(se(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:o}=e._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ze(c)||(c=typeof i=="string"?n.parse(c,i):n.parse(c)),c===null?null:(r&&(c=r==="week"&&(yr(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,r)),+c)}function Kd(e,t,n,i){const r=On.length;for(let o=On.indexOf(e);o<r-1;++o){const c=El[On[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(h*c.size))<=i)return On[o]}return On[r-1]}function SI(e,t,n,i,r){for(let o=On.length-1;o>=On.indexOf(n);o--){const c=On[o];if(El[c].common&&e._adapter.diff(r,i,c)>=t-1)return c}return On[n?On.indexOf(n):0]}function II(e){for(let t=On.indexOf(e)+1,n=On.length;t<n;++t)if(El[On[t]].common)return On[t]}function Zd(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=Vu(n,t),o=n[i]>=t?n[i]:n[r];e[o]=!0}}function TI(e,t,n,i){const r=e._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,g;for(h=o;h<=c;h=+r.add(h,1,i))g=n[h],g>=0&&(t[g].major=!0);return t}function qd(e,t,n){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!n?i:TI(e,i,r,n)}class Ro extends Ws{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new PE._date(t.adapters.date);r.init(n),lo(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Xd(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function g(p){!c&&!isNaN(p.min)&&(r=Math.min(r,p.min)),!h&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!c||!h)&&(g(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&g(this.getMinMax(!1))),r=ze(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),o=ze(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=o_(r,o,c);return this._unit=n.unit||(i.autoSkip?Kd(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):SI(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:II(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),qd(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=tn(n,0,c),i=tn(i,0,c),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||Kd(o.minUnit,n,i,this._getLabelCapacity(n)),h=jt(r.ticks.stepSize,1),g=c==="week"?o.isoWeekday:!1,p=yr(g)||g===!0,x={};let w=n,A,_;if(p&&(w=+t.startOf(w,"isoWeek",g)),w=+t.startOf(w,p?"day":c),t.diff(i,n,c)>1e5*h)throw new Error(n+" and "+i+" are too far apart with stepSize of "+h+" "+c);const I=r.ticks.source==="data"&&this.getDataTimestamps();for(A=w,_=0;A<i;A=+t.add(A,h,c),_++)Zd(x,A,I);return(A===i||r.bounds==="ticks"||_===1)&&Zd(x,A,I),Object.keys(x).sort(Yd).map(T=>+T)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,o=this._unit,c=n||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,n,i,r){const o=this.options,c=o.ticks.callback;if(c)return Se(c,[t,n,i],this);const h=o.time.displayFormats,g=this._unit,p=this._majorUnit,x=g&&h[g],w=p&&h[p],A=i[n],_=p&&w&&A&&A.major;return this._adapter.format(t,r||(_?w:x))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=ni(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=this._tickFormatFunction(t,0,qd(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(Xd(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Dg(t.sort(Yd))}}pt(Ro,"id","time"),pt(Ro,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ga(e,t,n){let i=0,r=e.length-1,o,c,h,g;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=Li(e,"pos",t)),{pos:o,time:h}=e[i],{pos:c,time:g}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=Li(e,"time",t)),{time:o,pos:h}=e[i],{time:c,pos:g}=e[r]);const p=c-o;return p?h+(g-h)*(t-o)/p:h}class ru extends Ro{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=ga(n,this.min),this._tableRange=ga(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],o=[];let c,h,g,p,x;for(c=0,h=t.length;c<h;++c)p=t[c],p>=n&&p<=i&&r.push(p);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)x=r[c+1],g=r[c-1],p=r[c],Math.round((x+g)/2)!==p&&o.push({time:p,pos:c/(h-1)});return o}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ga(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return ga(this._table,i*this._tableRange+this._minPos,!0)}}pt(ru,"id","timeseries"),pt(ru,"defaults",Ro.defaults);var MI=Object.freeze({__proto__:null,CategoryScale:eu,LinearScale:nu,LogarithmicScale:iu,RadialLinearScale:$r,TimeScale:Ro,TimeSeriesScale:ru});const OI=[kE,u3,rI,MI];Di.register(...OI);const vI={name:"Chart1",setup(){const e=U1(null);return Q1(()=>{e.value=new Di(document.getElementById("myChart"),{type:"line",data:{labels:["January","February","March","April"],datasets:[{label:"My First Dataset",data:[65,59,80,81],borderColor:"rgb(75, 192, 192)",tension:.1}]}})}),{chart:e}}};function RI(e,t,n,i,r,o){return St(),Tt("div",null,t[0]||(t[0]=[O("canvas",{id:"myChart"},null,-1)]))}const DI=De(vI,[["render",RI],["__scopeId","data-v-71107c12"]]),NI={name:"AdminContent",components:{Chart1:DI}},kI={class:"main-content"},PI={class:"charts"},LI={class:"line-chart"};function BI(e,t,n,i,r,o){const c=Xe("Chart1");return St(),Tt("div",null,[O("main",kI,[t[3]||(t[3]=bo('<header class="header"><h1>Dashboard</h1></header><div class="stats"><div class="stat-item"><span class="icon"></span><h2>New Visits</h2><p>102,400</p></div><div class="stat-item"><span class="icon"></span><h2>Messages</h2><p>81,212</p></div><div class="stat-item"><span class="icon"></span><h2>Purchases</h2><p>9,280</p></div><div class="stat-item"><span class="icon"></span><h2>Shoppings</h2><p>13,600</p></div></div>',2)),O("div",PI,[O("div",LI,[$t(c)]),t[0]||(t[0]=O("div",{class:"radar-chart"},[O("h3",null,"Radar Chart"),O("p",null,"(Fake radar chart data)")],-1)),t[1]||(t[1]=O("div",{class:"pie-chart"},[O("h3",null,"Pie Chart"),O("p",null,"(Fake pie chart data)")],-1)),t[2]||(t[2]=O("div",{class:"bar-chart"},[O("h3",null,"Bar Chart"),O("p",null,"(Fake bar chart data)")],-1))])])])}const Qd=De(NI,[["render",BI]]);var yt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(yt||(yt={}));var $d=new Map([[yt.QR_CODE,"QR_CODE"],[yt.AZTEC,"AZTEC"],[yt.CODABAR,"CODABAR"],[yt.CODE_39,"CODE_39"],[yt.CODE_93,"CODE_93"],[yt.CODE_128,"CODE_128"],[yt.DATA_MATRIX,"DATA_MATRIX"],[yt.MAXICODE,"MAXICODE"],[yt.ITF,"ITF"],[yt.EAN_13,"EAN_13"],[yt.EAN_8,"EAN_8"],[yt.PDF_417,"PDF_417"],[yt.RSS_14,"RSS_14"],[yt.RSS_EXPANDED,"RSS_EXPANDED"],[yt.UPC_A,"UPC_A"],[yt.UPC_E,"UPC_E"],[yt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Jd;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Jd||(Jd={}));function FI(e){return Object.values(yt).includes(e)}var us;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(us||(us={}));var ei=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[us.SCAN_TYPE_CAMERA,us.SCAN_TYPE_FILE],e}(),yp=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!$d.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,$d.get(t))},e}(),t1=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),ou;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ou||(ou={}));var Ap=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:ou.UNKWOWN_ERROR}},e}(),Cp=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function wi(e){return typeof e>"u"||e===null}function UI(e,t,n){return e>n?n:e<t?t:e}var ar=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),pe=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),e1=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),_p=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var r=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(r),c=Object.keys(t),h=0,g=c;h<g.length;h++){var p=g[h];if(o.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),pa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jr={exports:{}},HI=Jr.exports,n1;function zI(){return n1||(n1=1,function(e,t){(function(n,i){i(t)})(HI,function(n){function i(E){return E==null}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,s){E.__proto__=s}||function(E,s){for(var a in s)s.hasOwnProperty(a)&&(E[a]=s[a])};function o(E,s){r(E,s);function a(){this.constructor=E}E.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}function c(E,s){var a=Object.setPrototypeOf;a?a(E,s):E.__proto__=s}function h(E,s){s===void 0&&(s=E.constructor);var a=Error.captureStackTrace;a&&a(E,s)}var g=function(E){o(s,E);function s(a){var l=this.constructor,u=E.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),h(u),u}return s}(Error);class p extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class x extends p{}x.kind="ArgumentException";class w extends p{}w.kind="IllegalArgumentException";class A{constructor(s){if(this.binarizer=s,s===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,a){return this.binarizer.getBlackRow(s,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,a,l,u){const f=this.binarizer.getLuminanceSource().crop(s,a,l,u);return new A(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends p{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class I{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(s,a,l,u,f){for(;f--;)l[u++]=s[a++]}static currentTimeMillis(){return Date.now()}}class v extends p{}v.kind="IndexOutOfBoundsException";class k extends v{constructor(s=void 0,a=void 0){super(a),this.index=s,this.message=a}}k.kind="ArrayIndexOutOfBoundsException";class L{static fill(s,a){for(let l=0,u=s.length;l<u;l++)s[l]=a}static fillWithin(s,a,l,u){L.rangeCheck(s.length,a,l);for(let f=a;f<l;f++)s[f]=u}static rangeCheck(s,a,l){if(a>l)throw new w("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new k(a);if(l>s)throw new k(l)}static asList(...s){return s}static create(s,a,l){return Array.from({length:s}).map(f=>Array.from({length:a}).fill(l))}static createInt32Array(s,a,l){return Array.from({length:s}).map(f=>Int32Array.from({length:a}).fill(l))}static equals(s,a){if(!s||!a||!s.length||!a.length||s.length!==a.length)return!1;for(let l=0,u=s.length;l<u;l++)if(s[l]!==a[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let a=1;for(const l of s)a=31*a+l;return a}static fillUint8Array(s,a){for(let l=0;l!==s.length;l++)s[l]=a}static copyOf(s,a){return s.slice(0,a)}static copyOfUint8Array(s,a){if(s.length<=a){const l=new Uint8Array(a);return l.set(s),l}return s.slice(0,a)}static copyOfRange(s,a,l){const u=l-a,f=new Int32Array(u);return T.arraycopy(s,a,f,0,u),f}static binarySearch(s,a,l){l===void 0&&(l=L.numberComparator);let u=0,f=s.length-1;for(;u<=f;){const d=f+u>>1,m=l(a,s[d]);if(m>0)u=d+1;else if(m<0)f=d-1;else return d}return-u-1}static numberComparator(s,a){return s-a}}class F{static numberOfTrailingZeros(s){let a;if(s===0)return 32;let l=31;return a=s<<16,a!==0&&(l-=16,s=a),a=s<<8,a!==0&&(l-=8,s=a),a=s<<4,a!==0&&(l-=4,s=a),a=s<<2,a!==0&&(l-=2,s=a),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let a=1;return s>>>16||(a+=16,s<<=16),s>>>24||(a+=8,s<<=8),s>>>28||(a+=4,s<<=4),s>>>30||(a+=2,s<<=2),a-=s>>>31,a}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,a){return Math.trunc(s/a)}static parseInt(s,a=void 0){return parseInt(s,a)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(s,a){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,a==null?this.bits=V.makeArray(s):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const a=V.makeArray(s);T.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),f=l[u];f&=~((1<<(s&31))-1);const d=l.length;for(;f===0;){if(++u===d)return a;f=l[u]}const m=u*32+F.numberOfTrailingZeros(f);return m>a?a:m}getNextUnset(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),f=~l[u];f&=~((1<<(s&31))-1);const d=l.length;for(;f===0;){if(++u===d)return a;f=~l[u]}const m=u*32+F.numberOfTrailingZeros(f);return m>a?a:m}setBulk(s,a){this.bits[Math.floor(s/32)]=a}setRange(s,a){if(a<s||s<0||a>this.size)throw new w;if(a===s)return;a--;const l=Math.floor(s/32),u=Math.floor(a/32),f=this.bits;for(let d=l;d<=u;d++){const m=d>l?0:s&31,y=(2<<(d<u?31:a&31))-(1<<m);f[d]|=y}}clear(){const s=this.bits.length,a=this.bits;for(let l=0;l<s;l++)a[l]=0}isRange(s,a,l){if(a<s||s<0||a>this.size)throw new w;if(a===s)return!0;a--;const u=Math.floor(s/32),f=Math.floor(a/32),d=this.bits;for(let m=u;m<=f;m++){const b=m>u?0:s&31,C=(2<<(m<f?31:a&31))-(1<<b)&4294967295;if((d[m]&C)!==(l?C:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,a){if(a<0||a>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const a=s.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new w("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=s.bits[l]}toBytes(s,a,l,u){for(let f=0;f<u;f++){let d=0;for(let m=0;m<8;m++)this.get(s)&&(d|=1<<7-m),s++;a[l+f]=d}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let f=0;f<l;f++){let d=u[f];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,s[a-f]=d}if(this.size!==l*32){const f=l*32-this.size;let d=s[0]>>>f;for(let m=1;m<l;m++){const b=s[m];d|=b<<32-f,s[m-1]=d,d=b>>>f}s[l-1]=d}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof V))return!1;const a=s;return this.size===a.size&&L.equals(this.bits,a.bits)}hashCode(){return 31*this.size+L.hashCode(this.bits)}toString(){let s="";for(let a=0,l=this.size;a<l;a++)a&7||(s+=" "),s+=this.get(a)?"X":".";return s}clone(){return new V(this.size,this.bits.slice())}}var W;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var Q=W;class H extends p{static getFormatInstance(){return new H}}H.kind="FormatException";var et;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(et||(et={}));class K{constructor(s,a,l,...u){this.valueIdentifier=s,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=u,K.VALUE_IDENTIFIER_TO_ECI.set(s,this),K.NAME_TO_ECI.set(l,this);const f=this.values;for(let d=0,m=f.length;d!==m;d++){const b=f[d];K.VALUES_TO_ECI.set(b,this)}for(const d of u)K.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new H("incorect value");const a=K.VALUES_TO_ECI.get(s);if(a===void 0)throw new H("incorect value");return a}static getCharacterSetECIByName(s){const a=K.NAME_TO_ECI.get(s);if(a===void 0)throw new H("incorect value");return a}equals(s){if(!(s instanceof K))return!1;const a=s;return this.getName()===a.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(et.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(et.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(et.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(et.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(et.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(et.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(et.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(et.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(et.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(et.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(et.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(et.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(et.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(et.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(et.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(et.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(et.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(et.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(et.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(et.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(et.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(et.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(et.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(et.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(et.Big5,28,"Big5"),K.GB18030=new K(et.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(et.EUC_KR,30,"EUC_KR","EUC-KR");class Mt extends p{}Mt.kind="UnsupportedOperationException";class At{static decode(s,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!At.isBrowser()&&s==="ISO-8859-1"}static encode(s,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof K?s:K.getCharacterSetECIByName(s)}static decodeFallback(s,a){const l=this.encodingCharacterSet(a);if(At.isDecodeFallbackSupported(l)){let u="";for(let f=0,d=s.length;f<d;f++){let m=s[f].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(l.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new Mt(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(K.UTF8)||s.equals(K.ISO8859_1)||s.equals(K.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),u=[];for(let f=0;f<l.length;f++)u.push(l[f].charCodeAt(0));return new Uint8Array(u)}}class ht{static castAsNonUtf8Char(s,a=null){const l=a?a.getName():this.ISO88591;return At.decode(new Uint8Array([s]),l)}static guessEncoding(s,a){if(a!=null&&a.get(Q.CHARACTER_SET)!==void 0)return a.get(Q.CHARACTER_SET).toString();const l=s.length;let u=!0,f=!0,d=!0,m=0,b=0,y=0,C=0,S=0,M=0,D=0,B=0,U=0,j=0,q=0;const lt=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ut=0;ut<l&&(u||f||d);ut++){const at=s[ut]&255;d&&(m>0?at&128?m--:d=!1:at&128&&(at&64?(m++,at&32?(m++,at&16?(m++,at&8?d=!1:C++):y++):b++):d=!1)),u&&(at>127&&at<160?u=!1:at>159&&(at<192||at===215||at===247)&&q++),f&&(S>0?at<64||at===127||at>252?f=!1:S--:at===128||at===160||at>239?f=!1:at>160&&at<224?(M++,B=0,D++,D>U&&(U=D)):at>127?(S++,D=0,B++,B>j&&(j=B)):(D=0,B=0))}return d&&m>0&&(d=!1),f&&S>0&&(f=!1),d&&(lt||b+y+C>0)?ht.UTF8:f&&(ht.ASSUME_SHIFT_JIS||U>=3||j>=3)?ht.SHIFT_JIS:u&&f?U===2&&M===2||q*10>=l?ht.SHIFT_JIS:ht.ISO88591:u?ht.ISO88591:f?ht.SHIFT_JIS:d?ht.UTF8:ht.PLATFORM_DEFAULT_ENCODING}static format(s,...a){let l=-1;function u(d,m,b,y,C,S){if(d==="%%")return"%";if(a[++l]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let M=C?parseInt(C.substr(1)):void 0,D;switch(S){case"s":D=a[l];break;case"c":D=a[l][0];break;case"f":D=parseFloat(a[l]).toFixed(d);break;case"p":D=parseFloat(a[l]).toPrecision(d);break;case"e":D=parseFloat(a[l]).toExponential(d);break;case"x":D=parseInt(a[l]).toString(M||16);break;case"d":D=parseFloat(parseInt(a[l],M||10).toPrecision(d)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(M);let B=parseInt(b),U=b&&b[0]+""=="0"?"0":" ";for(;D.length<B;)D=m!==void 0?D+U:U+D;return D}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(f,u)}static getBytes(s,a){return At.encode(s,a)}static getCharCode(s,a=0){return s.charCodeAt(a)}static getCharAt(s){return String.fromCharCode(s)}}ht.SHIFT_JIS=K.SJIS.getName(),ht.GB2312="GB2312",ht.ISO88591=K.ISO8859_1.getName(),ht.EUC_JP="EUC_JP",ht.UTF8=K.UTF8.getName(),ht.PLATFORM_DEFAULT_ENCODING=ht.UTF8,ht.ASSUME_SHIFT_JIS=!1;class Ot{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=ht.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,a,l){for(let u=a;a<a+l;u++)this.append(s[u]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+1)}substring(s,a){return this.value.substring(s,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+a.length)}}class Xt{constructor(s,a,l,u){if(this.width=s,this.height=a,this.rowSize=l,this.bits=u,a==null&&(a=s),this.height=a,s<1||a<1)throw new w("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const a=s.length,l=s[0].length,u=new Xt(l,a);for(let f=0;f<a;f++){const d=s[f];for(let m=0;m<l;m++)d[m]&&u.set(m,f)}return u}static parseFromString(s,a,l){if(s===null)throw new w("stringRepresentation cannot be null");const u=new Array(s.length);let f=0,d=0,m=-1,b=0,y=0;for(;y<s.length;)if(s.charAt(y)===`
`||s.charAt(y)==="\r"){if(f>d){if(m===-1)m=f-d;else if(f-d!==m)throw new w("row lengths do not match");d=f,b++}y++}else if(s.substring(y,y+a.length)===a)y+=a.length,u[f]=!0,f++;else if(s.substring(y,y+l.length)===l)y+=l.length,u[f]=!1,f++;else throw new w("illegal character encountered: "+s.substring(y));if(f>d){if(m===-1)m=f-d;else if(f-d!==m)throw new w("row lengths do not match");b++}const C=new Xt(m,b);for(let S=0;S<f;S++)u[S]&&C.set(Math.floor(S%m),Math.floor(S/m));return C}get(s,a){const l=a*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new w("input matrix dimensions do not match");const a=new V(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let f=0,d=this.height;f<d;f++){const m=f*l,b=s.getRow(f,a).getBitArray();for(let y=0;y<l;y++)u[m+y]^=b[y]}}clear(){const s=this.bits,a=s.length;for(let l=0;l<a;l++)s[l]=0}setRegion(s,a,l,u){if(a<0||s<0)throw new w("Left and top must be nonnegative");if(u<1||l<1)throw new w("Height and width must be at least 1");const f=s+l,d=a+u;if(d>this.height||f>this.width)throw new w("The region must fit inside the matrix");const m=this.rowSize,b=this.bits;for(let y=a;y<d;y++){const C=y*m;for(let S=s;S<f;S++)b[C+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(s,a){a==null||a.getSize()<this.width?a=new V(this.width):a.clear();const l=this.rowSize,u=this.bits,f=s*l;for(let d=0;d<l;d++)a.setBulk(d*32,u[f+d]);return a}setRow(s,a){T.arraycopy(a.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),a=this.getHeight();let l=new V(s),u=new V(s);for(let f=0,d=Math.floor((a+1)/2);f<d;f++)l=this.getRow(f,l),u=this.getRow(a-1-f,u),l.reverse(),u.reverse(),this.setRow(f,u),this.setRow(a-1-f,l)}getEnclosingRectangle(){const s=this.width,a=this.height,l=this.rowSize,u=this.bits;let f=s,d=a,m=-1,b=-1;for(let y=0;y<a;y++)for(let C=0;C<l;C++){const S=u[y*l+C];if(S!==0){if(y<d&&(d=y),y>b&&(b=y),C*32<f){let M=0;for(;!(S<<31-M&4294967295);)M++;C*32+M<f&&(f=C*32+M)}if(C*32+31>m){let M=31;for(;!(S>>>M);)M--;C*32+M>m&&(m=C*32+M)}}}return m<f||b<d?null:Int32Array.from([f,d,m-f+1,b-d+1])}getTopLeftOnBit(){const s=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const u=l/s;let f=l%s*32;const d=a[l];let m=0;for(;!(d<<31-m&4294967295);)m++;return f+=m,Int32Array.from([f,u])}getBottomRightOnBit(){const s=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/s);let f=Math.floor(l%s)*32;const d=a[l];let m=31;for(;!(d>>>m);)m--;return f+=m,Int32Array.from([f,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Xt))return!1;const a=s;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&L.equals(this.bits,a.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+L.hashCode(this.bits),s}toString(s="X ",a="  ",l=`
`){return this.buildToString(s,a,l)}buildToString(s,a,l){let u=new Ot;for(let f=0,d=this.height;f<d;f++){for(let m=0,b=this.width;m<b;m++)u.append(this.get(m,f)?s:a);u.append(l)}return u.toString()}clone(){return new Xt(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends p{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class _t extends I{constructor(s){super(s),this.luminances=_t.EMPTY,this.buckets=new Int32Array(_t.LUMINANCE_BUCKETS)}getBlackRow(s,a){const l=this.getLuminanceSource(),u=l.getWidth();a==null||a.getSize()<u?a=new V(u):a.clear(),this.initArrays(u);const f=l.getRow(s,this.luminances),d=this.buckets;for(let b=0;b<u;b++)d[(f[b]&255)>>_t.LUMINANCE_SHIFT]++;const m=_t.estimateBlackPoint(d);if(u<3)for(let b=0;b<u;b++)(f[b]&255)<m&&a.set(b);else{let b=f[0]&255,y=f[1]&255;for(let C=1;C<u-1;C++){const S=f[C+1]&255;(y*4-b-S)/2<m&&a.set(C),b=y,y=S}}return a}getBlackMatrix(){const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight(),u=new Xt(a,l);this.initArrays(a);const f=this.buckets;for(let b=1;b<5;b++){const y=Math.floor(l*b/5),C=s.getRow(y,this.luminances),S=Math.floor(a*4/5);for(let M=Math.floor(a/5);M<S;M++){const D=C[M]&255;f[D>>_t.LUMINANCE_SHIFT]++}}const d=_t.estimateBlackPoint(f),m=s.getMatrix();for(let b=0;b<l;b++){const y=b*a;for(let C=0;C<a;C++)(m[y+C]&255)<d&&u.set(C,b)}return u}createBinarizer(s){return new _t(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const a=this.buckets;for(let l=0;l<_t.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(s){const a=s.length;let l=0,u=0,f=0;for(let C=0;C<a;C++)s[C]>f&&(u=C,f=s[C]),s[C]>l&&(l=s[C]);let d=0,m=0;for(let C=0;C<a;C++){const S=C-u,M=s[C]*S*S;M>m&&(d=C,m=M)}if(u>d){const C=u;u=d,d=C}if(d-u<=a/16)throw new G;let b=d-1,y=-1;for(let C=d-1;C>u;C--){const S=C-u,M=S*S*(d-C)*(l-s[C]);M>y&&(b=C,y=M)}return b<<_t.LUMINANCE_SHIFT}}_t.LUMINANCE_BITS=5,_t.LUMINANCE_SHIFT=8-_t.LUMINANCE_BITS,_t.LUMINANCE_BUCKETS=1<<_t.LUMINANCE_BITS,_t.EMPTY=Uint8ClampedArray.from([0]);class ct extends _t{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight();if(a>=ct.MINIMUM_DIMENSION&&l>=ct.MINIMUM_DIMENSION){const u=s.getMatrix();let f=a>>ct.BLOCK_SIZE_POWER;a&ct.BLOCK_SIZE_MASK&&f++;let d=l>>ct.BLOCK_SIZE_POWER;l&ct.BLOCK_SIZE_MASK&&d++;const m=ct.calculateBlackPoints(u,f,d,a,l),b=new Xt(a,l);ct.calculateThresholdForBlock(u,f,d,a,l,m,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ct(s)}static calculateThresholdForBlock(s,a,l,u,f,d,m){const b=f-ct.BLOCK_SIZE,y=u-ct.BLOCK_SIZE;for(let C=0;C<l;C++){let S=C<<ct.BLOCK_SIZE_POWER;S>b&&(S=b);const M=ct.cap(C,2,l-3);for(let D=0;D<a;D++){let B=D<<ct.BLOCK_SIZE_POWER;B>y&&(B=y);const U=ct.cap(D,2,a-3);let j=0;for(let lt=-2;lt<=2;lt++){const ut=d[M+lt];j+=ut[U-2]+ut[U-1]+ut[U]+ut[U+1]+ut[U+2]}const q=j/25;ct.thresholdBlock(s,B,S,q,u,m)}}}static cap(s,a,l){return s<a?a:s>l?l:s}static thresholdBlock(s,a,l,u,f,d){for(let m=0,b=l*f+a;m<ct.BLOCK_SIZE;m++,b+=f)for(let y=0;y<ct.BLOCK_SIZE;y++)(s[b+y]&255)<=u&&d.set(a+y,l+m)}static calculateBlackPoints(s,a,l,u,f){const d=f-ct.BLOCK_SIZE,m=u-ct.BLOCK_SIZE,b=new Array(l);for(let y=0;y<l;y++){b[y]=new Int32Array(a);let C=y<<ct.BLOCK_SIZE_POWER;C>d&&(C=d);for(let S=0;S<a;S++){let M=S<<ct.BLOCK_SIZE_POWER;M>m&&(M=m);let D=0,B=255,U=0;for(let q=0,lt=C*u+M;q<ct.BLOCK_SIZE;q++,lt+=u){for(let ut=0;ut<ct.BLOCK_SIZE;ut++){const at=s[lt+ut]&255;D+=at,at<B&&(B=at),at>U&&(U=at)}if(U-B>ct.MIN_DYNAMIC_RANGE)for(q++,lt+=u;q<ct.BLOCK_SIZE;q++,lt+=u)for(let ut=0;ut<ct.BLOCK_SIZE;ut++)D+=s[lt+ut]&255}let j=D>>ct.BLOCK_SIZE_POWER*2;if(U-B<=ct.MIN_DYNAMIC_RANGE&&(j=B/2,y>0&&S>0)){const q=(b[y-1][S]+2*b[y][S-1]+b[y-1][S-1])/4;B<q&&(j=q)}b[y][S]=j}}return b}}ct.BLOCK_SIZE_POWER=3,ct.BLOCK_SIZE=1<<ct.BLOCK_SIZE_POWER,ct.BLOCK_SIZE_MASK=ct.BLOCK_SIZE-1,ct.MINIMUM_DIMENSION=ct.BLOCK_SIZE*5,ct.MIN_DYNAMIC_RANGE=24;class Bt{constructor(s,a){this.width=s,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,a,l,u){throw new Mt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Mt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Mt("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let a=new Ot;for(let l=0;l<this.height;l++){const u=this.getRow(l,s);for(let f=0;f<this.width;f++){const d=u[f]&255;let m;d<64?m="#":d<128?m="+":d<192?m=".":m=" ",a.append(m)}a.append(`
`)}return a.toString()}}class te extends Bt{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,a){const l=this.delegate.getRow(s,a),u=this.getWidth();for(let f=0;f<u;f++)l[f]=255-(l[f]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(s[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,a,l,u){return new te(this.delegate.crop(s,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new te(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new te(this.delegate.rotateCounterClockwise45())}}class Ne extends Bt{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Ne.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const a=s.getContext("2d").getImageData(0,0,s.width,s.height);return Ne.toGrayscaleBuffer(a.data,s.width,s.height)}static toGrayscaleBuffer(s,a,l){const u=new Uint8ClampedArray(a*l);for(let f=0,d=0,m=s.length;f<m;f+=4,d++){let b;if(s[f+3]===0)b=255;else{const C=s[f],S=s[f+1],M=s[f+2];b=306*C+601*S+117*M+512>>10}u[d]=b}return u}getRow(s,a){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth(),u=s*l;return a===null?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,a,l,u){return super.crop(s,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=s*Ne.DEGREE_TO_RADIANS,f=this.canvas.width,d=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*f+Math.abs(Math.sin(u))*d),b=Math.ceil(Math.abs(Math.sin(u))*f+Math.abs(Math.cos(u))*d);return a.width=m,a.height=b,l.translate(m/2,b/2),l.rotate(u),l.drawImage(this.canvas,f/-2,d/-2),this.buffer=Ne.makeBufferFromCanvasImageData(a),this}invert(){return new te(this)}}Ne.DEGREE_TO_RADIANS=Math.PI/180;class Qe{constructor(s,a,l){this.deviceId=s,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var qt=(globalThis||pa||self||window||void 0)&&(globalThis||pa||self||window||void 0).__awaiter||function(E,s,a,l){function u(f){return f instanceof a?f:new a(function(d){d(f)})}return new(a||(a=Promise))(function(f,d){function m(C){try{y(l.next(C))}catch(S){d(S)}}function b(C){try{y(l.throw(C))}catch(S){d(S)}}function y(C){C.done?f(C.value):u(C.value).then(m,b)}y((l=l.apply(E,s||[])).next())})};class Ye{constructor(s,a=500,l){this.reader=s,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return qt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of s){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const f=l.deviceId||l.id,d=l.label||`Video device ${a.length+1}`,m=l.groupId,b={deviceId:f,label:d,kind:u,groupId:m};a.push(b)}return a})}getVideoInputDevices(){return qt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new Qe(a.deviceId,a.label))})}findDeviceById(s){return qt(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,a){return qt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,a)})}decodeOnceFromVideoDevice(s,a){return qt(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(s,a){return qt(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(s,a){return qt(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,a,l){return qt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,a,l)})}decodeFromVideoDevice(s,a,l){return qt(this,void 0,void 0,function*(){let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const f={video:u};return yield this.decodeFromConstraints(f,a,l)})}decodeFromConstraints(s,a,l){return qt(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(s,a,l){return qt(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,a){return qt(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((a,l)=>this.playVideoOnLoad(s,()=>a()))}playVideoOnLoad(s,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",a),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return qt(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,a){const l=document.getElementById(s);if(!l)throw new x(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new x(`element with id '${s}' must be an ${a} element`);return l}decodeFromImage(s,a){if(!s&&!a)throw new x("either imageElement with a src set or an url must be provided");return a&&!s?this.decodeFromImageUrl(a):this.decodeFromImageElement(s)}decodeFromVideo(s,a){if(!s&&!a)throw new x("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,a,l){if(s===void 0&&a===void 0)throw new x("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new x("An image element must be provided.");this.reset();const a=this.prepareImageElement(s);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(s){const a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(s,a){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(s){if(!s)throw new x("A video element must be provided.");this.reset();const a=this.prepareVideoElement(s);return this.videoElement=a,a}decodeFromImageUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=s,l}decodeFromVideoUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=s,l}decodeFromVideoUrlContinuously(s,a){if(!s)throw new x("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=s,u}_decodeOnLoadImage(s){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(a,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return qt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,a){return qt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,a)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let a;return typeof s>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(a=s),a}prepareVideoElement(s){let a;return!s&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(a=s),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(s,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(f,d)=>{if(this._stopAsyncDecode){d(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(s);f(m)}catch(m){const b=a&&m instanceof G,C=(m instanceof _||m instanceof H)&&l;if(b||C)return setTimeout(u,this._timeBetweenDecodingAttempts,f,d);d(m)}};return new Promise((f,d)=>u(f,d))}decodeContinuously(s,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(s);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u);const f=u instanceof _||u instanceof H,d=u instanceof G;(f||d)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const a=this.createBinaryBitmap(s);return this.decodeBitmap(a)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,a,l){a||(a={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(s,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const a=this.getCaptureCanvas(s),l=new Ne(a),u=new ct(l);return new A(u)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const a=this.createCaptureCanvas(s);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,u=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,u=s.naturalHeight||s.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,a){try{s.srcObject=a}catch{s.src=URL.createObjectURL(a)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class ae{constructor(s,a,l=a==null?0:8*a.length,u,f,d=T.currentTimeMillis()){this.text=s,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=f,this.timestamp=d,this.text=s,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=u,this.format=f,this.resultMetadata=null,d==null?this.timestamp=T.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,a)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const a=this.resultPoints;if(a===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(a.length+s.length);T.arraycopy(a,0,l,0,a.length),T.arraycopy(s,0,l,a.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Cn;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Cn||(Cn={}));var xt=Cn,nt;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(nt||(nt={}));var ft=nt;class mt{constructor(s,a,l,u,f=-1,d=-1){this.rawBytes=s,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=d,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ct{exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}static addOrSubtract(s,a){return s^a}}class Vt{constructor(s,a){if(a.length===0)throw new w;this.field=s;const l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),T.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(s===1){l=0;for(let d=0,m=a.length;d!==m;d++){const b=a[d];l=Ct.addOrSubtract(l,b)}return l}l=a[0];const u=a.length,f=this.field;for(let d=1;d<u;d++)l=Ct.addOrSubtract(f.multiply(s,l),a[d]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){const d=a;a=l,l=d}let u=new Int32Array(l.length);const f=l.length-a.length;T.arraycopy(l,0,u,0,f);for(let d=f;d<l.length;d++)u[d]=Ct.addOrSubtract(a[d-f],l[d]);return new Vt(this.field,u)}multiply(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=s.coefficients,f=u.length,d=new Int32Array(l+f-1),m=this.field;for(let b=0;b<l;b++){const y=a[b];for(let C=0;C<f;C++)d[b+C]=Ct.addOrSubtract(d[b+C],m.multiply(y,u[C]))}return new Vt(m,d)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),f=this.coefficients;for(let d=0;d<a;d++)u[d]=l.multiply(f[d],s);return new Vt(l,u)}multiplyByMonomial(s,a){if(s<0)throw new w;if(a===0)return this.field.getZero();const l=this.coefficients,u=l.length,f=new Int32Array(u+s),d=this.field;for(let m=0;m<u;m++)f[m]=d.multiply(l[m],a);return new Vt(d,f)}divide(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new w("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const f=s.getCoefficient(s.getDegree()),d=a.inverse(f);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const m=u.getDegree()-s.getDegree(),b=a.multiply(u.getCoefficient(u.getDegree()),d),y=s.multiplyByMonomial(m,b),C=a.buildMonomial(m,b);l=l.addOrSubtract(C),u=u.addOrSubtract(y)}return[l,u]}toString(){let s="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),a===0||l!==1){const u=this.field.log(l);u===0?s+="1":u===1?s+="a":(s+="a^",s+=u)}a!==0&&(a===1?s+="x":(s+="x^",s+=a))}}return s}}class P extends p{}P.kind="ArithmeticException";class N extends Ct{constructor(s,a,l){super(),this.primitive=s,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let f=1;for(let m=0;m<a;m++)u[m]=f,f*=2,f>=a&&(f^=s,f&=a-1);this.expTable=u;const d=new Int32Array(a);for(let m=0;m<a-1;m++)d[u[m]]=m;this.logTable=d,this.zero=new Vt(this,Int32Array.from([0])),this.one=new Vt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new w;if(a===0)return this.zero;const l=new Int32Array(s+1);return l[0]=a,new Vt(this,l)}inverse(s){if(s===0)throw new P;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}N.AZTEC_DATA_12=new N(4201,4096,1),N.AZTEC_DATA_10=new N(1033,1024,1),N.AZTEC_DATA_6=new N(67,64,1),N.AZTEC_PARAM=new N(19,16,1),N.QR_CODE_FIELD_256=new N(285,256,0),N.DATA_MATRIX_FIELD_256=new N(301,256,1),N.AZTEC_DATA_8=N.DATA_MATRIX_FIELD_256,N.MAXICODE_FIELD_64=N.AZTEC_DATA_6;class z extends p{}z.kind="ReedSolomonException";class tt extends p{}tt.kind="IllegalStateException";class st{constructor(s){this.field=s}decode(s,a){const l=this.field,u=new Vt(l,s),f=new Int32Array(a);let d=!0;for(let D=0;D<a;D++){const B=u.evaluateAt(l.exp(D+l.getGeneratorBase()));f[f.length-1-D]=B,B!==0&&(d=!1)}if(d)return;const m=new Vt(l,f),b=this.runEuclideanAlgorithm(l.buildMonomial(a,1),m,a),y=b[0],C=b[1],S=this.findErrorLocations(y),M=this.findErrorMagnitudes(C,S);for(let D=0;D<S.length;D++){const B=s.length-1-l.log(S[D]);if(B<0)throw new z("Bad error location");s[B]=N.addOrSubtract(s[B],M[D])}}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){const D=s;s=a,a=D}const u=this.field;let f=s,d=a,m=u.getZero(),b=u.getOne();for(;d.getDegree()>=(l/2|0);){let D=f,B=m;if(f=d,m=b,f.isZero())throw new z("r_{i-1} was zero");d=D;let U=u.getZero();const j=f.getCoefficient(f.getDegree()),q=u.inverse(j);for(;d.getDegree()>=f.getDegree()&&!d.isZero();){const lt=d.getDegree()-f.getDegree(),ut=u.multiply(d.getCoefficient(d.getDegree()),q);U=U.addOrSubtract(u.buildMonomial(lt,ut)),d=d.addOrSubtract(f.multiplyByMonomial(lt,ut))}if(b=U.multiply(m).addOrSubtract(B),d.getDegree()>=f.getDegree())throw new tt("Division algorithm failed to reduce polynomial?")}const y=b.getCoefficient(0);if(y===0)throw new z("sigmaTilde(0) was zero");const C=u.inverse(y),S=b.multiplyScalar(C),M=d.multiplyScalar(C);return[S,M]}findErrorLocations(s){const a=s.getDegree();if(a===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const f=this.field;for(let d=1;d<f.getSize()&&u<a;d++)s.evaluateAt(d)===0&&(l[u]=f.inverse(d),u++);if(u!==a)throw new z("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,a){const l=a.length,u=new Int32Array(l),f=this.field;for(let d=0;d<l;d++){const m=f.inverse(a[d]);let b=1;for(let y=0;y<l;y++)if(d!==y){const C=f.multiply(a[y],m),S=C&1?C&-2:C|1;b=f.multiply(b,S)}u[d]=f.multiply(s.evaluateAt(m),f.inverse(b)),f.getGeneratorBase()!==0&&(u[d]=f.multiply(u[d],m))}return u}}var J;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(J||(J={}));class ot{decode(s){this.ddata=s;let a=s.getBits(),l=this.extractBits(a),u=this.correctBits(l),f=ot.convertBoolArrayToByteArray(u),d=ot.getEncodedData(u),m=new mt(f,d,null,null);return m.setNumBits(u.length),m}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let a=s.length,l=J.UPPER,u=J.UPPER,f="",d=0;for(;d<a;)if(u===J.BINARY){if(a-d<5)break;let m=ot.readCode(s,d,5);if(d+=5,m===0){if(a-d<11)break;m=ot.readCode(s,d,11)+31,d+=11}for(let b=0;b<m;b++){if(a-d<8){d=a;break}const y=ot.readCode(s,d,8);f+=ht.castAsNonUtf8Char(y),d+=8}u=l}else{let m=u===J.DIGIT?4:5;if(a-d<m)break;let b=ot.readCode(s,d,m);d+=m;let y=ot.getCharacter(u,b);y.startsWith("CTRL_")?(l=u,u=ot.getTable(y.charAt(5)),y.charAt(6)==="L"&&(l=u)):(f+=y,u=l)}return f}static getTable(s){switch(s){case"L":return J.LOWER;case"P":return J.PUNCT;case"M":return J.MIXED;case"D":return J.DIGIT;case"B":return J.BINARY;case"U":default:return J.UPPER}}static getCharacter(s,a){switch(s){case J.UPPER:return ot.UPPER_TABLE[a];case J.LOWER:return ot.LOWER_TABLE[a];case J.MIXED:return ot.MIXED_TABLE[a];case J.PUNCT:return ot.PUNCT_TABLE[a];case J.DIGIT:return ot.DIGIT_TABLE[a];default:throw new tt("Bad table")}}correctBits(s){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=N.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=N.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=N.AZTEC_DATA_10):(l=12,a=N.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),f=s.length/l;if(f<u)throw new H;let d=s.length%l,m=new Int32Array(f);for(let M=0;M<f;M++,d+=l)m[M]=ot.readCode(s,d,l);try{new st(a).decode(m,f-u)}catch(M){throw new H(M)}let b=(1<<l)-1,y=0;for(let M=0;M<u;M++){let D=m[M];if(D===0||D===b)throw new H;(D===1||D===b-1)&&y++}let C=new Array(u*l-y),S=0;for(let M=0;M<u;M++){let D=m[M];if(D===1||D===b-1)C.fill(D>1,S,S+l-1),S+=l-1;else for(let B=l-1;B>=0;--B)C[S++]=(D&1<<B)!==0}return C}extractBits(s){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(a?11:14)+l*4,f=new Int32Array(u),d=new Array(this.totalBitsInLayer(l,a));if(a)for(let m=0;m<f.length;m++)f[m]=m;else{let m=u+1+2*F.truncDivision(F.truncDivision(u,2)-1,15),b=u/2,y=F.truncDivision(m,2);for(let C=0;C<b;C++){let S=C+F.truncDivision(C,15);f[b-C-1]=y-S-1,f[b+C]=y+S+1}}for(let m=0,b=0;m<l;m++){let y=(l-m)*4+(a?9:12),C=m*2,S=u-1-C;for(let M=0;M<y;M++){let D=M*2;for(let B=0;B<2;B++)d[b+D+B]=s.get(f[C+B],f[C+M]),d[b+2*y+D+B]=s.get(f[C+M],f[S-B]),d[b+4*y+D+B]=s.get(f[S-B],f[S-M]),d[b+6*y+D+B]=s.get(f[S-M],f[C+B])}b+=y*8}return d}static readCode(s,a,l){let u=0;for(let f=a;f<a+l;f++)u<<=1,s[f]&&(u|=1);return u}static readByte(s,a){let l=s.length-a;return l>=8?ot.readCode(s,a,8):ot.readCode(s,a,l)<<8-l}static convertBoolArrayToByteArray(s){let a=new Uint8Array((s.length+7)/8);for(let l=0;l<a.length;l++)a[l]=ot.readByte(s,8*l);return a}totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,a,l,u){const f=s-l,d=a-u;return Math.sqrt(f*f+d*d)}static sum(s){let a=0;for(let l=0,u=s.length;l!==u;l++){const f=s[l];a+=f}return a}}class dt{static floatToIntBits(s){return s}}dt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class X{constructor(s,a){this.x=s,this.y=a}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof X){const a=s;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*dt.floatToIntBits(this.x)+dt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const a=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),u=this.distance(s[0],s[2]);let f,d,m;if(l>=a&&l>=u?(d=s[0],f=s[1],m=s[2]):u>=l&&u>=a?(d=s[1],f=s[0],m=s[2]):(d=s[2],f=s[0],m=s[1]),this.crossProductZ(f,d,m)<0){const b=f;f=m,m=b}s[0]=f,s[1]=d,s[2]=m}static distance(s,a){return it.distance(s.x,s.y,a.x,a.y)}static crossProductZ(s,a,l){const u=a.x,f=a.y;return(l.x-u)*(s.y-f)-(l.y-f)*(s.x-u)}}class Rt{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class bt extends Rt{constructor(s,a,l,u,f){super(s,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Et{constructor(s,a,l,u){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),a==null&&(a=Et.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),u==null&&(u=s.getHeight()/2|0);const f=a/2|0;if(this.leftInit=l-f,this.rightInit=l+f,this.upInit=u-f,this.downInit=u+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let s=this.leftInit,a=this.rightInit,l=this.upInit,u=this.downInit,f=!1,d=!0,m=!1,b=!1,y=!1,C=!1,S=!1;const M=this.width,D=this.height;for(;d;){d=!1;let B=!0;for(;(B||!b)&&a<M;)B=this.containsBlackPoint(l,u,a,!1),B?(a++,d=!0,b=!0):b||a++;if(a>=M){f=!0;break}let U=!0;for(;(U||!y)&&u<D;)U=this.containsBlackPoint(s,a,u,!0),U?(u++,d=!0,y=!0):y||u++;if(u>=D){f=!0;break}let j=!0;for(;(j||!C)&&s>=0;)j=this.containsBlackPoint(l,u,s,!1),j?(s--,d=!0,C=!0):C||s--;if(s<0){f=!0;break}let q=!0;for(;(q||!S)&&l>=0;)q=this.containsBlackPoint(s,a,l,!0),q?(l--,d=!0,S=!0):S||l--;if(l<0){f=!0;break}d&&(m=!0)}if(!f&&m){const B=a-s;let U=null;for(let ut=1;U===null&&ut<B;ut++)U=this.getBlackPointOnSegment(s,u-ut,s+ut,u);if(U==null)throw new G;let j=null;for(let ut=1;j===null&&ut<B;ut++)j=this.getBlackPointOnSegment(s,l+ut,s+ut,l);if(j==null)throw new G;let q=null;for(let ut=1;q===null&&ut<B;ut++)q=this.getBlackPointOnSegment(a,l+ut,a-ut,l);if(q==null)throw new G;let lt=null;for(let ut=1;lt===null&&ut<B;ut++)lt=this.getBlackPointOnSegment(a,u-ut,a-ut,u);if(lt==null)throw new G;return this.centerEdges(lt,U,q,j)}else throw new G}getBlackPointOnSegment(s,a,l,u){const f=it.round(it.distance(s,a,l,u)),d=(l-s)/f,m=(u-a)/f,b=this.image;for(let y=0;y<f;y++){const C=it.round(s+y*d),S=it.round(a+y*m);if(b.get(C,S))return new X(C,S)}return null}centerEdges(s,a,l,u){const f=s.getX(),d=s.getY(),m=a.getX(),b=a.getY(),y=l.getX(),C=l.getY(),S=u.getX(),M=u.getY(),D=Et.CORR;return f<this.width/2?[new X(S-D,M+D),new X(m+D,b+D),new X(y-D,C-D),new X(f+D,d-D)]:[new X(S+D,M+D),new X(m+D,b-D),new X(y-D,C+D),new X(f-D,d-D)]}containsBlackPoint(s,a,l,u){const f=this.image;if(u){for(let d=s;d<=a;d++)if(f.get(d,l))return!0}else for(let d=s;d<=a;d++)if(f.get(l,d))return!0;return!1}}Et.INIT_SIZE=10,Et.CORR=1;class Pt{static checkAndNudgePoints(s,a){const l=s.getWidth(),u=s.getHeight();let f=!0;for(let d=0;d<a.length&&f;d+=2){const m=Math.floor(a[d]),b=Math.floor(a[d+1]);if(m<-1||m>l||b<-1||b>u)throw new G;f=!1,m===-1?(a[d]=0,f=!0):m===l&&(a[d]=l-1,f=!0),b===-1?(a[d+1]=0,f=!0):b===u&&(a[d+1]=u-1,f=!0)}f=!0;for(let d=a.length-2;d>=0&&f;d-=2){const m=Math.floor(a[d]),b=Math.floor(a[d+1]);if(m<-1||m>l||b<-1||b>u)throw new G;f=!1,m===-1?(a[d]=0,f=!0):m===l&&(a[d]=l-1,f=!0),b===-1?(a[d+1]=0,f=!0):b===u&&(a[d+1]=u-1,f=!0)}}}class Ft{constructor(s,a,l,u,f,d,m,b,y){this.a11=s,this.a21=a,this.a31=l,this.a12=u,this.a22=f,this.a32=d,this.a13=m,this.a23=b,this.a33=y}static quadrilateralToQuadrilateral(s,a,l,u,f,d,m,b,y,C,S,M,D,B,U,j){const q=Ft.quadrilateralToSquare(s,a,l,u,f,d,m,b);return Ft.squareToQuadrilateral(y,C,S,M,D,B,U,j).times(q)}transformPoints(s){const a=s.length,l=this.a11,u=this.a12,f=this.a13,d=this.a21,m=this.a22,b=this.a23,y=this.a31,C=this.a32,S=this.a33;for(let M=0;M<a;M+=2){const D=s[M],B=s[M+1],U=f*D+b*B+S;s[M]=(l*D+d*B+y)/U,s[M+1]=(u*D+m*B+C)/U}}transformPointsWithValues(s,a){const l=this.a11,u=this.a12,f=this.a13,d=this.a21,m=this.a22,b=this.a23,y=this.a31,C=this.a32,S=this.a33,M=s.length;for(let D=0;D<M;D++){const B=s[D],U=a[D],j=f*B+b*U+S;s[D]=(l*B+d*U+y)/j,a[D]=(u*B+m*U+C)/j}}static squareToQuadrilateral(s,a,l,u,f,d,m,b){const y=s-l+f-m,C=a-u+d-b;if(y===0&&C===0)return new Ft(l-s,f-l,s,u-a,d-u,a,0,0,1);{const S=l-f,M=m-f,D=u-d,B=b-d,U=S*B-M*D,j=(y*B-M*C)/U,q=(S*C-y*D)/U;return new Ft(l-s+j*l,m-s+q*m,s,u-a+j*u,b-a+q*b,a,j,q,1)}}static quadrilateralToSquare(s,a,l,u,f,d,m,b){return Ft.squareToQuadrilateral(s,a,l,u,f,d,m,b).buildAdjoint()}buildAdjoint(){return new Ft(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Ft(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class de extends Pt{sampleGrid(s,a,l,u,f,d,m,b,y,C,S,M,D,B,U,j,q,lt,ut){const at=Ft.quadrilateralToQuadrilateral(u,f,d,m,b,y,C,S,M,D,B,U,j,q,lt,ut);return this.sampleGridWithTransform(s,a,l,at)}sampleGridWithTransform(s,a,l,u){if(a<=0||l<=0)throw new G;const f=new Xt(a,l),d=new Float32Array(2*a);for(let m=0;m<l;m++){const b=d.length,y=m+.5;for(let C=0;C<b;C+=2)d[C]=C/2+.5,d[C+1]=y;u.transformPoints(d),Pt.checkAndNudgePoints(s,d);try{for(let C=0;C<b;C+=2)s.get(Math.floor(d[C]),Math.floor(d[C+1]))&&f.set(C/2,m)}catch{throw new G}}return f}}class Kt{static setGridSampler(s){Kt.gridSampler=s}static getInstance(){return Kt.gridSampler}}Kt.gridSampler=new de;class ge{constructor(s,a){this.x=s,this.y=a}toResultPoint(){return new X(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class en{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(s){let d=l[0];l[0]=l[2],l[2]=d}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),f=this.getMatrixCornerPoints(l);return new bt(u,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new G;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],a),this.sampleLine(s[1],s[2],a),this.sampleLine(s[2],s[3],a),this.sampleLine(s[3],s[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let d=0;d<4;d++){let m=l[(this.shift+d)%4];this.compact?(u<<=7,u+=m>>1&127):(u<<=10,u+=(m>>2&992)+(m>>1&31))}let f=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(s,a){let l=0;s.forEach((u,f,d)=>{let m=(u>>a-2<<1)+(u&1);l=(l<<3)+m}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(F.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new G}getCorrectedParameterData(s,a){let l,u;a?(l=7,u=2):(l=10,u=4);let f=l-u,d=new Int32Array(l);for(let b=l-1;b>=0;--b)d[b]=s&15,s>>=4;try{new st(N.AZTEC_PARAM).decode(d,f)}catch{throw new G}let m=0;for(let b=0;b<u;b++)m=(m<<4)+d[b];return m}getBullsEyeCorners(s){let a=s,l=s,u=s,f=s,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(a,d,1,-1),M=this.getFirstDifferent(l,d,1,1),D=this.getFirstDifferent(u,d,-1,1),B=this.getFirstDifferent(f,d,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(B,S)*this.nbCenterLayers/(this.distancePoint(f,a)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(S,M,D,B))break}a=S,l=M,u=D,f=B,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let m=new X(a.getX()+.5,a.getY()-.5),b=new X(l.getX()+.5,l.getY()+.5),y=new X(u.getX()-.5,u.getY()+.5),C=new X(f.getX()-.5,f.getY()-.5);return this.expandSquare([m,b,y,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,a,l,u;try{let m=new Et(this.image).detect();s=m[0],a=m[1],l=m[2],u=m[3]}catch{let b=this.image.getWidth()/2,y=this.image.getHeight()/2;s=this.getFirstDifferent(new ge(b+7,y-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new ge(b+7,y+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new ge(b-7,y+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new ge(b-7,y-7),!1,-1,-1).toResultPoint()}let f=it.round((s.getX()+u.getX()+a.getX()+l.getX())/4),d=it.round((s.getY()+u.getY()+a.getY()+l.getY())/4);try{let m=new Et(this.image,15,f,d).detect();s=m[0],a=m[1],l=m[2],u=m[3]}catch{s=this.getFirstDifferent(new ge(f+7,d-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new ge(f+7,d+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new ge(f-7,d+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new ge(f-7,d-7),!1,-1,-1).toResultPoint()}return f=it.round((s.getX()+u.getX()+a.getX()+l.getX())/4),d=it.round((s.getY()+u.getY()+a.getY()+l.getY())/4),new ge(f,d)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,a,l,u,f){let d=Kt.getInstance(),m=this.getDimension(),b=m/2-this.nbCenterLayers,y=m/2+this.nbCenterLayers;return d.sampleGrid(s,m,m,b,b,y,b,y,y,b,y,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),f.getX(),f.getY())}sampleLine(s,a,l){let u=0,f=this.distanceResultPoint(s,a),d=f/l,m=s.getX(),b=s.getY(),y=d*(a.getX()-s.getX())/f,C=d*(a.getY()-s.getY())/f;for(let S=0;S<l;S++)this.image.get(it.round(m+S*y),it.round(b+S*C))&&(u|=1<<l-S-1);return u}isWhiteOrBlackRectangle(s,a,l,u){let f=3;s=new ge(s.getX()-f,s.getY()+f),a=new ge(a.getX()-f,a.getY()-f),l=new ge(l.getX()+f,l.getY()-f),u=new ge(u.getX()+f,u.getY()+f);let d=this.getColor(u,s);if(d===0)return!1;let m=this.getColor(s,a);return m!==d||(m=this.getColor(a,l),m!==d)?!1:(m=this.getColor(l,u),m===d)}getColor(s,a){let l=this.distancePoint(s,a),u=(a.getX()-s.getX())/l,f=(a.getY()-s.getY())/l,d=0,m=s.getX(),b=s.getY(),y=this.image.get(s.getX(),s.getY()),C=Math.ceil(l);for(let M=0;M<C;M++)m+=u,b+=f,this.image.get(it.round(m),it.round(b))!==y&&d++;let S=d/l;return S>.1&&S<.9?0:S<=.1===y?1:-1}getFirstDifferent(s,a,l,u){let f=s.getX()+l,d=s.getY()+u;for(;this.isValid(f,d)&&this.image.get(f,d)===a;)f+=l,d+=u;for(f-=l,d-=u;this.isValid(f,d)&&this.image.get(f,d)===a;)f+=l;for(f-=l;this.isValid(f,d)&&this.image.get(f,d)===a;)d+=u;return d-=u,new ge(f,d)}expandSquare(s,a,l){let u=l/(2*a),f=s[0].getX()-s[2].getX(),d=s[0].getY()-s[2].getY(),m=(s[0].getX()+s[2].getX())/2,b=(s[0].getY()+s[2].getY())/2,y=new X(m+u*f,b+u*d),C=new X(m-u*f,b-u*d);f=s[1].getX()-s[3].getX(),d=s[1].getY()-s[3].getY(),m=(s[1].getX()+s[3].getX())/2,b=(s[1].getY()+s[3].getY())/2;let S=new X(m+u*f,b+u*d),M=new X(m-u*f,b-u*d);return[y,S,C,M]}isValid(s,a){return s>=0&&s<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(s){let a=it.round(s.getX()),l=it.round(s.getY());return this.isValid(a,l)}distancePoint(s,a){return it.distance(s.getX(),s.getY(),a.getX(),a.getY())}distanceResultPoint(s,a){return it.distance(s.getX(),s.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class bn{decode(s,a=null){let l=null,u=new en(s.getBlackMatrix()),f=null,d=null;try{let C=u.detectMirror(!1);f=C.getPoints(),this.reportFoundResultPoints(a,f),d=new ot().decode(C)}catch(C){l=C}if(d==null)try{let C=u.detectMirror(!0);f=C.getPoints(),this.reportFoundResultPoints(a,f),d=new ot().decode(C)}catch(C){throw l??C}let m=new ae(d.getText(),d.getRawBytes(),d.getNumBits(),f,xt.AZTEC,T.currentTimeMillis()),b=d.getByteSegments();b!=null&&m.putMetadata(ft.BYTE_SEGMENTS,b);let y=d.getECLevel();return y!=null&&m.putMetadata(ft.ERROR_CORRECTION_LEVEL,y),m}reportFoundResultPoints(s,a){if(s!=null){let l=s.get(Q.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((u,f,d)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class jn extends Ye{constructor(s=500){super(new bn,s)}}class Ce{decode(s,a){try{return this.doDecode(s,a)}catch{if(a&&a.get(Q.TRY_HARDER)===!0&&s.isRotateSupported()){const f=s.rotateCounterClockwise(),d=this.doDecode(f,a),m=d.getResultMetadata();let b=270;m!==null&&m.get(ft.ORIENTATION)===!0&&(b=b+m.get(ft.ORIENTATION)%360),d.putMetadata(ft.ORIENTATION,b);const y=d.getResultPoints();if(y!==null){const C=f.getHeight();for(let S=0;S<y.length;S++)y[S]=new X(C-y[S].getY()-1,y[S].getX())}return d}else throw new G}}reset(){}doDecode(s,a){const l=s.getWidth(),u=s.getHeight();let f=new V(l);const d=a&&a.get(Q.TRY_HARDER)===!0,m=Math.max(1,u>>(d?8:5));let b;d?b=u:b=15;const y=Math.trunc(u/2);for(let C=0;C<b;C++){const S=Math.trunc((C+1)/2),M=(C&1)===0,D=y+m*(M?S:-S);if(D<0||D>=u)break;try{f=s.getBlackRow(D,f)}catch{continue}for(let B=0;B<2;B++){if(B===1&&(f.reverse(),a&&a.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;a.forEach((j,q)=>U.set(q,j)),U.delete(Q.NEED_RESULT_POINT_CALLBACK),a=U}try{const U=this.decodeRow(D,f,a);if(B===1){U.putMetadata(ft.ORIENTATION,180);const j=U.getResultPoints();j!==null&&(j[0]=new X(l-j[0].getX()-1,j[0].getY()),j[1]=new X(l-j[1].getX()-1,j[1].getY()))}return U}catch{}}}throw new G}static recordPattern(s,a,l){const u=l.length;for(let y=0;y<u;y++)l[y]=0;const f=s.getSize();if(a>=f)throw new G;let d=!s.get(a),m=0,b=a;for(;b<f;){if(s.get(b)!==d)l[m]++;else{if(++m===u)break;l[m]=1,d=!d}b++}if(!(m===u||m===u-1&&b===f))throw new G}static recordPatternInReverse(s,a,l){let u=l.length,f=s.get(a);for(;a>0&&u>=0;)s.get(--a)!==f&&(u--,f=!f);if(u>=0)throw new G;Ce.recordPattern(s,a+1,l)}static patternMatchVariance(s,a,l){const u=s.length;let f=0,d=0;for(let y=0;y<u;y++)f+=s[y],d+=a[y];if(f<d)return Number.POSITIVE_INFINITY;const m=f/d;l*=m;let b=0;for(let y=0;y<u;y++){const C=s[y],S=a[y]*m,M=C>S?C-S:S-C;if(M>l)return Number.POSITIVE_INFINITY;b+=M}return b/f}}class gt extends Ce{static findStartPattern(s){const a=s.getSize(),l=s.getNextSet(0);let u=0,f=Int32Array.from([0,0,0,0,0,0]),d=l,m=!1;const b=6;for(let y=l;y<a;y++)if(s.get(y)!==m)f[u]++;else{if(u===b-1){let C=gt.MAX_AVG_VARIANCE,S=-1;for(let M=gt.CODE_START_A;M<=gt.CODE_START_C;M++){const D=Ce.patternMatchVariance(f,gt.CODE_PATTERNS[M],gt.MAX_INDIVIDUAL_VARIANCE);D<C&&(C=D,S=M)}if(S>=0&&s.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,S]);d+=f[0]+f[1],f=f.slice(2,f.length-1),f[u-1]=0,f[u]=0,u--}else u++;f[u]=1,m=!m}throw new G}static decodeCode(s,a,l){Ce.recordPattern(s,l,a);let u=gt.MAX_AVG_VARIANCE,f=-1;for(let d=0;d<gt.CODE_PATTERNS.length;d++){const m=gt.CODE_PATTERNS[d],b=this.patternMatchVariance(a,m,gt.MAX_INDIVIDUAL_VARIANCE);b<u&&(u=b,f=d)}if(f>=0)return f;throw new G}decodeRow(s,a,l){const u=l&&l.get(Q.ASSUME_GS1)===!0,f=gt.findStartPattern(a),d=f[2];let m=0;const b=new Uint8Array(20);b[m++]=d;let y;switch(d){case gt.CODE_START_A:y=gt.CODE_CODE_A;break;case gt.CODE_START_B:y=gt.CODE_CODE_B;break;case gt.CODE_START_C:y=gt.CODE_CODE_C;break;default:throw new H}let C=!1,S=!1,M="",D=f[0],B=f[1];const U=Int32Array.from([0,0,0,0,0,0]);let j=0,q=0,lt=d,ut=0,at=!0,Qt=!1,Ht=!1;for(;!C;){const Js=S;switch(S=!1,j=q,q=gt.decodeCode(a,U,B),b[m++]=q,q!==gt.CODE_STOP&&(at=!0),q!==gt.CODE_STOP&&(ut++,lt+=ut*q),D=B,B+=U.reduce((nm,im)=>nm+im,0),q){case gt.CODE_START_A:case gt.CODE_START_B:case gt.CODE_START_C:throw new H}switch(y){case gt.CODE_CODE_A:if(q<64)Ht===Qt?M+=String.fromCharCode(32+q):M+=String.fromCharCode(32+q+128),Ht=!1;else if(q<96)Ht===Qt?M+=String.fromCharCode(q-64):M+=String.fromCharCode(q+64),Ht=!1;else switch(q!==gt.CODE_STOP&&(at=!1),q){case gt.CODE_FNC_1:u&&(M.length===0?M+="]C1":M+="");break;case gt.CODE_FNC_2:case gt.CODE_FNC_3:break;case gt.CODE_FNC_4_A:!Qt&&Ht?(Qt=!0,Ht=!1):Qt&&Ht?(Qt=!1,Ht=!1):Ht=!0;break;case gt.CODE_SHIFT:S=!0,y=gt.CODE_CODE_B;break;case gt.CODE_CODE_B:y=gt.CODE_CODE_B;break;case gt.CODE_CODE_C:y=gt.CODE_CODE_C;break;case gt.CODE_STOP:C=!0;break}break;case gt.CODE_CODE_B:if(q<96)Ht===Qt?M+=String.fromCharCode(32+q):M+=String.fromCharCode(32+q+128),Ht=!1;else switch(q!==gt.CODE_STOP&&(at=!1),q){case gt.CODE_FNC_1:u&&(M.length===0?M+="]C1":M+="");break;case gt.CODE_FNC_2:case gt.CODE_FNC_3:break;case gt.CODE_FNC_4_B:!Qt&&Ht?(Qt=!0,Ht=!1):Qt&&Ht?(Qt=!1,Ht=!1):Ht=!0;break;case gt.CODE_SHIFT:S=!0,y=gt.CODE_CODE_A;break;case gt.CODE_CODE_A:y=gt.CODE_CODE_A;break;case gt.CODE_CODE_C:y=gt.CODE_CODE_C;break;case gt.CODE_STOP:C=!0;break}break;case gt.CODE_CODE_C:if(q<100)q<10&&(M+="0"),M+=q;else switch(q!==gt.CODE_STOP&&(at=!1),q){case gt.CODE_FNC_1:u&&(M.length===0?M+="]C1":M+="");break;case gt.CODE_CODE_A:y=gt.CODE_CODE_A;break;case gt.CODE_CODE_B:y=gt.CODE_CODE_B;break;case gt.CODE_STOP:C=!0;break}break}Js&&(y=y===gt.CODE_CODE_A?gt.CODE_CODE_B:gt.CODE_CODE_A)}const In=B-D;if(B=a.getNextUnset(B),!a.isRange(B,Math.min(a.getSize(),B+(B-D)/2),!1))throw new G;if(lt-=ut*j,lt%103!==j)throw new _;const ti=M.length;if(ti===0)throw new G;ti>0&&at&&(y===gt.CODE_CODE_C?M=M.substring(0,ti-2):M=M.substring(0,ti-1));const Tn=(f[1]+f[0])/2,ye=D+In/2,rn=b.length,Dn=new Uint8Array(rn);for(let Js=0;Js<rn;Js++)Dn[Js]=b[Js];const $s=[new X(Tn,s),new X(ye,s)];return new ae(M,Dn,0,$s,xt.CODE_128,new Date().getTime())}}gt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],gt.MAX_AVG_VARIANCE=.25,gt.MAX_INDIVIDUAL_VARIANCE=.7,gt.CODE_SHIFT=98,gt.CODE_CODE_C=99,gt.CODE_CODE_B=100,gt.CODE_CODE_A=101,gt.CODE_FNC_1=102,gt.CODE_FNC_2=97,gt.CODE_FNC_3=96,gt.CODE_FNC_4_A=101,gt.CODE_FNC_4_B=100,gt.CODE_START_A=103,gt.CODE_START_B=104,gt.CODE_START_C=105,gt.CODE_STOP=106;class ne extends Ce{constructor(s=!1,a=!1){super(),this.usingCheckDigit=s,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,a,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let f=ne.findAsteriskPattern(a,u),d=a.getNextSet(f[1]),m=a.getSize(),b,y;do{ne.recordPattern(a,d,u);let U=ne.toNarrowWidePattern(u);if(U<0)throw new G;b=ne.patternToChar(U),this.decodeRowResult+=b,y=d;for(let j of u)d+=j;d=a.getNextSet(d)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let U of u)C+=U;let S=d-y-C;if(d!==m&&S*2<C)throw new G;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,j=0;for(let q=0;q<U;q++)j+=ne.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(q));if(this.decodeRowResult.charAt(U)!==ne.ALPHABET_STRING.charAt(j%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new G;let M;this.extendedMode?M=ne.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;let D=(f[1]+f[0])/2,B=y+C/2;return new ae(M,null,0,[new X(D,s),new X(B,s)],xt.CODE_39,new Date().getTime())}static findAsteriskPattern(s,a){let l=s.getSize(),u=s.getNextSet(0),f=0,d=u,m=!1,b=a.length;for(let y=u;y<l;y++)if(s.get(y)!==m)a[f]++;else{if(f===b-1){if(this.toNarrowWidePattern(a)===ne.ASTERISK_ENCODING&&s.isRange(Math.max(0,d-Math.floor((y-d)/2)),d,!1))return[d,y];d+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,m=!m}throw new G}static toNarrowWidePattern(s){let a=s.length,l=0,u;do{let f=2147483647;for(let b of s)b<f&&b>l&&(f=b);l=f,u=0;let d=0,m=0;for(let b=0;b<a;b++){let y=s[b];y>l&&(m|=1<<a-1-b,u++,d+=y)}if(u===3){for(let b=0;b<a&&u>0;b++){let y=s[b];if(y>l&&(u--,y*2>=d))return-1}return m}}while(u>3);return-1}static patternToChar(s){for(let a=0;a<ne.CHARACTER_ENCODINGS.length;a++)if(ne.CHARACTER_ENCODINGS[a]===s)return ne.ALPHABET_STRING.charAt(a);if(s===ne.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(s){let a=s.length,l="";for(let u=0;u<a;u++){let f=s.charAt(u);if(f==="+"||f==="$"||f==="%"||f==="/"){let d=s.charAt(u+1),m="\0";switch(f){case"+":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)+32);else throw new H;break;case"$":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)-64);else throw new H;break;case"%":if(d>="A"&&d<="E")m=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")m=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")m=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")m="\0";else if(d==="V")m="@";else if(d==="W")m="`";else if(d==="X"||d==="Y"||d==="Z")m="";else throw new H;break;case"/":if(d>="A"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")m=":";else throw new H;break}l+=m,u++}else l+=f}return l}}ne.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ne.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ne.ASTERISK_ENCODING=148;class Zt extends Ce{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,a,l){let u=this.decodeStart(a),f=this.decodeEnd(a),d=new Ot;Zt.decodeMiddle(a,u[1],f[0],d);let m=d.toString(),b=null;l!=null&&(b=l.get(Q.ALLOWED_LENGTHS)),b==null&&(b=Zt.DEFAULT_ALLOWED_LENGTHS);let y=m.length,C=!1,S=0;for(let B of b){if(y===B){C=!0;break}B>S&&(S=B)}if(!C&&y>S&&(C=!0),!C)throw new H;const M=[new X(u[1],s),new X(f[0],s)];return new ae(m,null,0,M,xt.ITF,new Date().getTime())}static decodeMiddle(s,a,l,u){let f=new Int32Array(10),d=new Int32Array(5),m=new Int32Array(5);for(f.fill(0),d.fill(0),m.fill(0);a<l;){Ce.recordPattern(s,a,f);for(let y=0;y<5;y++){let C=2*y;d[y]=f[C],m[y]=f[C+1]}let b=Zt.decodeDigit(d);u.append(b.toString()),b=this.decodeDigit(m),u.append(b.toString()),f.forEach(function(y){a+=y})}}decodeStart(s){let a=Zt.skipWhiteSpace(s),l=Zt.findGuardPattern(s,a,Zt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!s.get(u);u--)l--;if(l!==0)throw new G}static skipWhiteSpace(s){const a=s.getSize(),l=s.getNextSet(0);if(l===a)throw new G;return l}decodeEnd(s){s.reverse();try{let a=Zt.skipWhiteSpace(s),l;try{l=Zt.findGuardPattern(s,a,Zt.END_PATTERN_REVERSED[0])}catch(f){f instanceof G&&(l=Zt.findGuardPattern(s,a,Zt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let u=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-u,l}finally{s.reverse()}}static findGuardPattern(s,a,l){let u=l.length,f=new Int32Array(u),d=s.getSize(),m=!1,b=0,y=a;f.fill(0);for(let C=a;C<d;C++)if(s.get(C)!==m)f[b]++;else{if(b===u-1){if(Ce.patternMatchVariance(f,l,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return[y,C];y+=f[0]+f[1],T.arraycopy(f,2,f,0,b-1),f[b-1]=0,f[b]=0,b--}else b++;f[b]=1,m=!m}throw new G}static decodeDigit(s){let a=Zt.MAX_AVG_VARIANCE,l=-1,u=Zt.PATTERNS.length;for(let f=0;f<u;f++){let d=Zt.PATTERNS[f],m=Ce.patternMatchVariance(s,d,Zt.MAX_INDIVIDUAL_VARIANCE);m<a?(a=m,l=f):m===a&&(l=-1)}if(l>=0)return l%10;throw new G}}Zt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Zt.MAX_AVG_VARIANCE=.38,Zt.MAX_INDIVIDUAL_VARIANCE=.5,Zt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Zt.START_PATTERN=Int32Array.from([1,1,1,1]),Zt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Te extends Ce{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let a=!1,l,u=0,f=Int32Array.from([0,0,0]);for(;!a;){f=Int32Array.from([0,0,0]),l=Te.findGuardPattern(s,u,!1,this.START_END_PATTERN,f);let d=l[0];u=l[1];let m=d-(u-d);m>=0&&(a=s.isRange(m,d,!1))}return l}static checkChecksum(s){return Te.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let l=parseInt(s.charAt(a-1),10);return Te.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new H;l+=f}l*=3;for(let u=a-2;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new H;l+=f}return(1e3-l)%10}static decodeEnd(s,a){return Te.findGuardPattern(s,a,!1,Te.START_END_PATTERN,new Int32Array(Te.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,a,l,u){return this.findGuardPattern(s,a,l,u,new Int32Array(u.length))}static findGuardPattern(s,a,l,u,f){let d=s.getSize();a=l?s.getNextUnset(a):s.getNextSet(a);let m=0,b=a,y=u.length,C=l;for(let S=a;S<d;S++)if(s.get(S)!==C)f[m]++;else{if(m===y-1){if(Ce.patternMatchVariance(f,u,Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE)return Int32Array.from([b,S]);b+=f[0]+f[1];let M=f.slice(2,f.length-1);for(let D=0;D<m-1;D++)f[D]=M[D];f[m-1]=0,f[m]=0,m--}else m++;f[m]=1,C=!C}throw new G}static decodeDigit(s,a,l,u){this.recordPattern(s,l,a);let f=this.MAX_AVG_VARIANCE,d=-1,m=u.length;for(let b=0;b<m;b++){let y=u[b],C=Ce.patternMatchVariance(a,y,Te.MAX_INDIVIDUAL_VARIANCE);C<f&&(f=C,d=b)}if(d>=0)return d;throw new G}}Te.MAX_AVG_VARIANCE=.48,Te.MAX_INDIVIDUAL_VARIANCE=.7,Te.START_END_PATTERN=Int32Array.from([1,1,1]),Te.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Te.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Te.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Mr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,f=this.decodeMiddle(a,l,u),d=u.toString(),m=Mr.parseExtensionString(d),b=[new X((l[0]+l[1])/2,s),new X(f,s)],y=new ae(d,null,0,b,xt.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&y.putAllMetadata(m),y}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),d=a[1],m=0;for(let y=0;y<5&&d<f;y++){let C=Te.decodeDigit(s,u,d,Te.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let S of u)d+=S;C>=10&&(m|=1<<4-y),y!==4&&(d=s.getNextSet(d),d=s.getNextUnset(d))}if(l.length!==5)throw new G;let b=this.determineCheckDigit(m);if(Mr.extensionChecksum(l.toString())!==b)throw new G;return d}static extensionChecksum(s){let a=s.length,l=0;for(let u=a-2;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-48;l*=3;for(let u=a-1;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let a=0;a<10;a++)if(s===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new G}static parseExtensionString(s){if(s.length!==5)return null;let a=Mr.parseExtension5String(s);return a==null?null:new Map([[ft.SUGGESTED_PRICE,a]])}static parseExtension5String(s){let a;switch(s.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(s.substring(1)),u=(l/100).toString(),f=l%100,d=f<10?"0"+f:f.toString();return a+u+"."+d}}class Sl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,f=this.decodeMiddle(a,l,u),d=u.toString(),m=Sl.parseExtensionString(d),b=[new X((l[0]+l[1])/2,s),new X(f,s)],y=new ae(d,null,0,b,xt.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&y.putAllMetadata(m),y}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),d=a[1],m=0;for(let b=0;b<2&&d<f;b++){let y=Te.decodeDigit(s,u,d,Te.L_AND_G_PATTERNS);l+=String.fromCharCode(48+y%10);for(let C of u)d+=C;y>=10&&(m|=1<<1-b),b!==1&&(d=s.getNextSet(d),d=s.getNextUnset(d))}if(l.length!==2)throw new G;if(parseInt(l.toString())%4!==m)throw new G;return d}static parseExtensionString(s){return s.length!==2?null:new Map([[ft.ISSUE_NUMBER,parseInt(s)]])}}class th{static decodeRow(s,a,l){let u=Te.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Mr().decodeRow(s,a,u)}catch{return new Sl().decodeRow(s,a,u)}}}th.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class re extends Te{constructor(){super(),this.decodeRowStringBuffer="",re.L_AND_G_PATTERNS=re.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let a=re.L_PATTERNS[s-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];re.L_AND_G_PATTERNS[s]=l}}decodeRow(s,a,l){let u=re.findStartGuardPattern(a),f=l==null?null:l.get(Q.NEED_RESULT_POINT_CALLBACK);if(f!=null){const at=new X((u[0]+u[1])/2,s);f.foundPossibleResultPoint(at)}let d=this.decodeMiddle(a,u,this.decodeRowStringBuffer),m=d.rowOffset,b=d.resultString;if(f!=null){const at=new X(m,s);f.foundPossibleResultPoint(at)}let y=this.decodeEnd(a,m);if(f!=null){const at=new X((y[0]+y[1])/2,s);f.foundPossibleResultPoint(at)}let C=y[1],S=C+(C-y[0]);if(S>=a.getSize()||!a.isRange(C,S,!1))throw new G;let M=b.toString();if(M.length<8)throw new H;if(!re.checkChecksum(M))throw new _;let D=(u[1]+u[0])/2,B=(y[1]+y[0])/2,U=this.getBarcodeFormat(),j=[new X(D,s),new X(B,s)],q=new ae(M,null,0,j,U,new Date().getTime()),lt=0;try{let at=th.decodeRow(s,a,y[1]);q.putMetadata(ft.UPC_EAN_EXTENSION,at.getText()),q.putAllMetadata(at.getResultMetadata()),q.addResultPoints(at.getResultPoints()),lt=at.getText().length}catch{}let ut=l==null?null:l.get(Q.ALLOWED_EAN_EXTENSIONS);if(ut!=null){let at=!1;for(let Qt in ut)if(lt.toString()===Qt){at=!0;break}if(!at)throw new G}return q}decodeEnd(s,a){return re.findGuardPattern(s,a,!1,re.START_END_PATTERN,new Int32Array(re.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return re.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let l=parseInt(s.charAt(a-1),10);return re.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new H;l+=f}l*=3;for(let u=a-2;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new H;l+=f}return(1e3-l)%10}}class gs extends re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),d=a[1],m=0;for(let y=0;y<6&&d<f;y++){let C=re.decodeDigit(s,u,d,re.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let S of u)d+=S;C>=10&&(m|=1<<5-y)}l=gs.determineFirstDigit(l,m),d=re.findGuardPattern(s,d,!0,re.MIDDLE_PATTERN,new Int32Array(re.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&d<f;y++){let C=re.decodeDigit(s,u,d,re.L_PATTERNS);l+=String.fromCharCode(48+C);for(let S of u)d+=S}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return xt.EAN_13}static determineFirstDigit(s,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new G}}gs.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class eh extends re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),d=a[1];for(let b=0;b<4&&d<f;b++){let y=re.decodeDigit(s,u,d,re.L_PATTERNS);l+=String.fromCharCode(48+y);for(let C of u)d+=C}d=re.findGuardPattern(s,d,!0,re.MIDDLE_PATTERN,new Int32Array(re.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&d<f;b++){let y=re.decodeDigit(s,u,d,re.L_PATTERNS);l+=String.fromCharCode(48+y);for(let C of u)d+=C}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return xt.EAN_8}}class nh extends re{constructor(){super(...arguments),this.ean13Reader=new gs}getBarcodeFormat(){return xt.UPC_A}decode(s,a){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,a,l))}decodeMiddle(s,a,l){return this.ean13Reader.decodeMiddle(s,a,l)}maybeReturnResult(s){let a=s.getText();if(a.charAt(0)==="0"){let l=new ae(a.substring(1),null,null,s.getResultPoints(),xt.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new G}reset(){this.ean13Reader.reset()}}class Jn extends re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters.map(y=>y);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const f=s.getSize();let d=a[1],m=0;for(let y=0;y<6&&d<f;y++){const C=Jn.decodeDigit(s,u,d,Jn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let S of u)d+=S;C>=10&&(m|=1<<5-y)}let b=Jn.determineNumSysAndCheckDigit(l,m);return{rowOffset:d,resultString:b}}decodeEnd(s,a){return Jn.findGuardPatternWithoutCounters(s,a,!0,Jn.MIDDLE_END_PATTERN)}checkChecksum(s){return re.checkChecksum(Jn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let f=String.fromCharCode(48+l),d=String.fromCharCode(48+u);return f+s+d}throw G.getNotFoundInstance()}getBarcodeFormat(){return xt.UPC_E}static convertUPCEtoUPCA(s){const a=s.slice(1,7).split("").map(f=>f.charCodeAt(0)),l=new Ot;l.append(s.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}Jn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Jn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Il extends Ce{constructor(s){super();let a=s==null?null:s.get(Q.POSSIBLE_FORMATS),l=[];i(a)?(l.push(new gs),l.push(new nh),l.push(new eh),l.push(new Jn)):(a.indexOf(xt.EAN_13)>-1&&l.push(new gs),a.indexOf(xt.UPC_A)>-1&&l.push(new nh),a.indexOf(xt.EAN_8)>-1&&l.push(new eh),a.indexOf(xt.UPC_E)>-1&&l.push(new Jn)),this.readers=l}decodeRow(s,a,l){for(let u of this.readers)try{const f=u.decodeRow(s,a,l),d=f.getBarcodeFormat()===xt.EAN_13&&f.getText().charAt(0)==="0",m=l==null?null:l.get(Q.POSSIBLE_FORMATS),b=m==null||m.includes(xt.UPC_A);if(d&&b){const y=f.getRawBytes(),C=new ae(f.getText().substring(1),y,y?y.length:null,f.getResultPoints(),xt.UPC_A);return C.putAllMetadata(f.getResultMetadata()),C}return f}catch{}throw new G}reset(){for(let s of this.readers)s.reset()}}class an extends Ce{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,a){for(let l=0;l<a.length;l++)if(Ce.patternMatchVariance(s,a[l],an.MAX_INDIVIDUAL_VARIANCE)<an.MAX_AVG_VARIANCE)return l;throw new G}static count(s){return it.sum(new Int32Array(s))}static increment(s,a){let l=0,u=a[0];for(let f=1;f<s.length;f++)a[f]>u&&(u=a[f],l=f);s[l]++}static decrement(s,a){let l=0,u=a[0];for(let f=1;f<s.length;f++)a[f]<u&&(u=a[f],l=f);s[l]--}static isFinderPattern(s){let a=s[0]+s[1],l=a+s[2]+s[3],u=a/l;if(u>=an.MIN_FINDER_PATTERN_RATIO&&u<=an.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let m of s)m>d&&(d=m),m<f&&(f=m);return d<10*f}return!1}}an.MAX_AVG_VARIANCE=.2,an.MAX_INDIVIDUAL_VARIANCE=.45,an.MIN_FINDER_PATTERN_RATIO=9.5/12,an.MAX_FINDER_PATTERN_RATIO=12.5/14;class Gs{constructor(s,a){this.value=s,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Gs))return!1;const a=s;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class jo{constructor(s,a,l,u,f){this.value=s,this.startEnd=a,this.value=s,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new X(l,f)),this.resultPoints.push(new X(u,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof jo))return!1;const a=s;return this.value===a.value}hashCode(){return this.value}}class li{constructor(){}static getRSSvalue(s,a,l){let u=0;for(let b of s)u+=b;let f=0,d=0,m=s.length;for(let b=0;b<m-1;b++){let y;for(y=1,d|=1<<b;y<s[b];y++,d&=~(1<<b)){let C=li.combins(u-y-1,m-b-2);if(l&&d===0&&u-y-(m-b-1)>=m-b-1&&(C-=li.combins(u-y-(m-b),m-b-2)),m-b-1>1){let S=0;for(let M=u-y-(m-b-2);M>a;M--)S+=li.combins(u-y-M-1,m-b-3);C-=S*(m-1-b)}else u-y>a&&C--;f+=C}u-=y}return f}static combins(s,a){let l,u;s-a>a?(u=a,l=s-a):(u=s-a,l=a);let f=1,d=1;for(let m=s;m>l;m--)f*=m,d<=u&&(f/=d,d++);for(;d<=u;)f/=d,d++;return f}}class Mp{static buildBitArray(s){let a=s.length*2-1;s[s.length-1].getRightChar()==null&&(a-=1);let l=12*a,u=new V(l),f=0,m=s[0].getRightChar().getValue();for(let b=11;b>=0;--b)m&1<<b&&u.set(f),f++;for(let b=1;b<s.length;++b){let y=s[b],C=y.getLeftChar().getValue();for(let S=11;S>=0;--S)C&1<<S&&u.set(f),f++;if(y.getRightChar()!=null){let S=y.getRightChar().getValue();for(let M=11;M>=0;--M)S&1<<M&&u.set(f),f++}}return u}}class ps{constructor(s,a){a?this.decodedInformation=null:(this.finished=s,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Tl{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class _n extends Tl{constructor(s,a){super(s),this.value=a}getValue(){return this.value}isFNC1(){return this.value===_n.FNC1}}_n.FNC1="$";class ms extends Tl{constructor(s,a,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Wn extends Tl{constructor(s,a,l){if(super(s),a<0||a>10||l<0||l>10)throw new H;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Wn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Wn.FNC1}isAnyFNC1(){return this.firstDigit===Wn.FNC1||this.secondDigit===Wn.FNC1}}Wn.FNC1=10;class wt{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new G;let a=s.substring(0,2);for(let f of wt.TWO_DIGIT_DATA_LENGTH)if(f[0]===a)return f[1]===wt.VARIABLE_LENGTH?wt.processVariableAI(2,f[2],s):wt.processFixedAI(2,f[1],s);if(s.length<3)throw new G;let l=s.substring(0,3);for(let f of wt.THREE_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===wt.VARIABLE_LENGTH?wt.processVariableAI(3,f[2],s):wt.processFixedAI(3,f[1],s);for(let f of wt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===wt.VARIABLE_LENGTH?wt.processVariableAI(4,f[2],s):wt.processFixedAI(4,f[1],s);if(s.length<4)throw new G;let u=s.substring(0,4);for(let f of wt.FOUR_DIGIT_DATA_LENGTH)if(f[0]===u)return f[1]===wt.VARIABLE_LENGTH?wt.processVariableAI(4,f[2],s):wt.processFixedAI(4,f[1],s);throw new G}static processFixedAI(s,a,l){if(l.length<s)throw new G;let u=l.substring(0,s);if(l.length<s+a)throw new G;let f=l.substring(s,s+a),d=l.substring(s+a),m="("+u+")"+f,b=wt.parseFieldsInGeneralPurpose(d);return b==null?m:m+b}static processVariableAI(s,a,l){let u=l.substring(0,s),f;l.length<s+a?f=l.length:f=s+a;let d=l.substring(s,f),m=l.substring(f),b="("+u+")"+d,y=wt.parseFieldsInGeneralPurpose(m);return y==null?b:b+y}}wt.VARIABLE_LENGTH=[],wt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",wt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",wt.VARIABLE_LENGTH,20],["22",wt.VARIABLE_LENGTH,29],["30",wt.VARIABLE_LENGTH,8],["37",wt.VARIABLE_LENGTH,8],["90",wt.VARIABLE_LENGTH,30],["91",wt.VARIABLE_LENGTH,30],["92",wt.VARIABLE_LENGTH,30],["93",wt.VARIABLE_LENGTH,30],["94",wt.VARIABLE_LENGTH,30],["95",wt.VARIABLE_LENGTH,30],["96",wt.VARIABLE_LENGTH,30],["97",wt.VARIABLE_LENGTH,3],["98",wt.VARIABLE_LENGTH,30],["99",wt.VARIABLE_LENGTH,30]],wt.THREE_DIGIT_DATA_LENGTH=[["240",wt.VARIABLE_LENGTH,30],["241",wt.VARIABLE_LENGTH,30],["242",wt.VARIABLE_LENGTH,6],["250",wt.VARIABLE_LENGTH,30],["251",wt.VARIABLE_LENGTH,30],["253",wt.VARIABLE_LENGTH,17],["254",wt.VARIABLE_LENGTH,20],["400",wt.VARIABLE_LENGTH,30],["401",wt.VARIABLE_LENGTH,30],["402",17],["403",wt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",wt.VARIABLE_LENGTH,20],["421",wt.VARIABLE_LENGTH,15],["422",3],["423",wt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],wt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",wt.VARIABLE_LENGTH,15],["391",wt.VARIABLE_LENGTH,18],["392",wt.VARIABLE_LENGTH,15],["393",wt.VARIABLE_LENGTH,18],["703",wt.VARIABLE_LENGTH,30]],wt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",wt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",wt.VARIABLE_LENGTH,20],["8003",wt.VARIABLE_LENGTH,30],["8004",wt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",wt.VARIABLE_LENGTH,30],["8008",wt.VARIABLE_LENGTH,12],["8018",18],["8020",wt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",wt.VARIABLE_LENGTH,70],["8200",wt.VARIABLE_LENGTH,70]];class Ys{constructor(s){this.buffer=new Ot,this.information=s}decodeAllCodes(s,a){let l=a,u=null;do{let f=this.decodeGeneralPurposeField(l,u),d=wt.parseFieldsInGeneralPurpose(f.getNewString());if(d!=null&&s.append(d),f.isRemaining()?u=""+f.getRemainingValue():u=null,l===f.getNewPosition())break;l=f.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let a=s;a<s+3;++a)if(this.information.get(a))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(s,4);return f===0?new Wn(this.information.getSize(),Wn.FNC1,Wn.FNC1):new Wn(this.information.getSize(),f-1,Wn.FNC1)}let a=this.extractNumericValueFromBitArray(s,7),l=(a-8)/11,u=(a-8)%11;return new Wn(s+7,l,u)}extractNumericValueFromBitArray(s,a){return Ys.extractNumericValueFromBitArray(this.information,s,a)}static extractNumericValueFromBitArray(s,a,l){let u=0;for(let f=0;f<l;++f)s.get(a+f)&&(u|=1<<l-f-1);return u}decodeGeneralPurposeField(s,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new ms(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new ms(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),s=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),s=a.isFinished()):(a=this.parseNumericBlock(),s=a.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let a;return s.isSecondDigitFNC1()?a=new ms(this.current.getPosition(),this.buffer.toString()):a=new ms(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new ps(!0,a)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let a=new ms(this.current.getPosition(),this.buffer.toString());return new ps(!0,a)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ps(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new ms(this.current.getPosition(),this.buffer.toString());return new ps(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ps(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new ms(this.current.getPosition(),this.buffer.toString());return new ps(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ps(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,8);return u>=232&&u<253}decodeIsoIec646(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new _n(s+5,_n.FNC1);if(a>=5&&a<15)return new _n(s+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new _n(s+7,""+(l+1));if(l>=90&&l<116)return new _n(s+7,""+(l+7));let u=this.extractNumericValueFromBitArray(s,8),f;switch(u){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new H}return new _n(s+8,f)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new _n(s+5,_n.FNC1);if(a>=5&&a<15)return new _n(s+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new _n(s+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new tt("Decoding invalid alphanumeric value: "+l)}return new _n(s+6,u)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<5&&a+s<this.information.getSize();++a)if(a===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+a))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let a=s;a<s+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<4&&a+s<this.information.getSize();++a)if(this.information.get(s+a))return!1;return!0}}class Ml{constructor(s){this.information=s,this.generalDecoder=new Ys(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class En extends Ml{constructor(s){super(s)}encodeCompressedGtin(s,a){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,a,l)}encodeCompressedGtinWithoutAI(s,a,l){for(let u=0;u<4;++u){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);f/100===0&&s.append("0"),f/10===0&&s.append("0"),s.append(f)}En.appendCheckDigit(s,l)}static appendCheckDigit(s,a){let l=0;for(let u=0;u<13;u++){let f=s.charAt(u+a).charCodeAt(0)-48;l+=u&1?f:3*f}l=10-l%10,l===10&&(l=0),s.append(l)}}En.GTIN_SIZE=40;class Xs extends En{constructor(s){super(s)}parseInformation(){let s=new Ot;s.append("(01)");let a=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Xs.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,Xs.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(s,Xs.HEADER_SIZE+44)}}Xs.HEADER_SIZE=4;class Wo extends Ml{constructor(s){super(s)}parseInformation(){let s=new Ot;return this.getGeneralDecoder().decodeAllCodes(s,Wo.HEADER_SIZE)}}Wo.HEADER_SIZE=5;class Go extends En{constructor(s){super(s)}encodeCompressedWeight(s,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(s,u);let f=this.checkWeight(u),d=1e5;for(let m=0;m<5;++m)f/d===0&&s.append("0"),d/=10;s.append(f)}}class ci extends Go{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ci.HEADER_SIZE+Go.GTIN_SIZE+ci.WEIGHT_SIZE)throw new G;let s=new Ot;return this.encodeCompressedGtin(s,ci.HEADER_SIZE),this.encodeCompressedWeight(s,ci.HEADER_SIZE+Go.GTIN_SIZE,ci.WEIGHT_SIZE),s.toString()}}ci.HEADER_SIZE=5,ci.WEIGHT_SIZE=15;class Op extends ci{constructor(s){super(s)}addWeightCode(s,a){s.append("(3103)")}checkWeight(s){return s}}class vp extends ci{constructor(s){super(s)}addWeightCode(s,a){a<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class ui extends En{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ui.HEADER_SIZE+En.GTIN_SIZE)throw new G;let s=new Ot;this.encodeCompressedGtin(s,ui.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(ui.HEADER_SIZE+En.GTIN_SIZE,ui.LAST_DIGIT_SIZE);s.append("(392"),s.append(a),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(ui.HEADER_SIZE+En.GTIN_SIZE+ui.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}ui.HEADER_SIZE=8,ui.LAST_DIGIT_SIZE=2;class wn extends En{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<wn.HEADER_SIZE+En.GTIN_SIZE)throw new G;let s=new Ot;this.encodeCompressedGtin(s,wn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+En.GTIN_SIZE,wn.LAST_DIGIT_SIZE);s.append("(393"),s.append(a),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+En.GTIN_SIZE+wn.LAST_DIGIT_SIZE,wn.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(wn.HEADER_SIZE+En.GTIN_SIZE+wn.LAST_DIGIT_SIZE+wn.FIRST_THREE_DIGITS_SIZE,null);return s.append(u.getNewString()),s.toString()}}wn.HEADER_SIZE=8,wn.LAST_DIGIT_SIZE=2,wn.FIRST_THREE_DIGITS_SIZE=10;class ke extends Go{constructor(s,a,l){super(s),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=ke.HEADER_SIZE+ke.GTIN_SIZE+ke.WEIGHT_SIZE+ke.DATE_SIZE)throw new G;let s=new Ot;return this.encodeCompressedGtin(s,ke.HEADER_SIZE),this.encodeCompressedWeight(s,ke.HEADER_SIZE+ke.GTIN_SIZE,ke.WEIGHT_SIZE),this.encodeCompressedDate(s,ke.HEADER_SIZE+ke.GTIN_SIZE+ke.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,ke.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let u=l%32;l/=32;let f=l%12+1;l/=12;let d=l;d/10==0&&s.append("0"),s.append(d),f/10==0&&s.append("0"),s.append(f),u/10==0&&s.append("0"),s.append(u)}addWeightCode(s,a){s.append("("),s.append(this.firstAIdigits),s.append(a/1e5),s.append(")")}checkWeight(s){return s%1e5}}ke.HEADER_SIZE=8,ke.WEIGHT_SIZE=20,ke.DATE_SIZE=16;function ih(E){try{if(E.get(1))return new Xs(E);if(!E.get(2))return new Wo(E);switch(Ys.extractNumericValueFromBitArray(E,1,4)){case 4:return new Op(E);case 5:return new vp(E)}switch(Ys.extractNumericValueFromBitArray(E,1,5)){case 12:return new ui(E);case 13:return new wn(E)}switch(Ys.extractNumericValueFromBitArray(E,1,7)){case 56:return new ke(E,"310","11");case 57:return new ke(E,"320","11");case 58:return new ke(E,"310","13");case 59:return new ke(E,"320","13");case 60:return new ke(E,"310","15");case 61:return new ke(E,"320","15");case 62:return new ke(E,"310","17");case 63:return new ke(E,"320","17")}}catch(s){throw console.log(s),new tt("unknown decoder: "+E)}}class ji{constructor(s,a,l,u){this.leftchar=s,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,a){return s instanceof ji?ji.equalsOrNull(s.leftchar,a.leftchar)&&ji.equalsOrNull(s.rightchar,a.rightchar)&&ji.equalsOrNull(s.finderpattern,a.finderpattern):!1}static equalsOrNull(s,a){return s===null?a===null:ji.equals(s,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ol{constructor(s,a,l){this.pairs=s,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,a){return s instanceof Ol?this.checkEqualitity(s,a)&&s.wasReversed===a.wasReversed:!1}checkEqualitity(s,a){if(!s||!a)return;let l;return s.forEach((u,f)=>{a.forEach(d=>{u.getLeftChar().getValue()===d.getLeftChar().getValue()&&u.getRightChar().getValue()===d.getRightChar().getValue()&&u.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(l=!0)})}),l}}class rt extends an{constructor(s){super(...arguments),this.pairs=new Array(rt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,a,l){this.pairs.length=0,this.startFromEven=!1;try{return rt.constructResult(this.decodeRow2pairs(s,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,rt.constructResult(this.decodeRow2pairs(s,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,s))}catch(f){if(f instanceof G){if(!this.pairs.length)throw new G;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(s,!1),u){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new G}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),a}checkRows(s,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let d of s)this.pairs.push(d.getPairs());if(this.pairs.push(u.getPairs()),!rt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(s);f.push(u);try{return this.checkRows(f,l+1)}catch(d){this.verbose&&console.log(d)}}throw new G}static isValidSequence(s){for(let a of rt.FINDER_PATTERN_SEQUENCES){if(s.length>a.length)continue;let l=!0;for(let u=0;u<s.length;u++)if(s[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(s,a){let l=0,u=!1,f=!1;for(;l<this.rows.length;){let d=this.rows[l];if(d.getRowNumber()>s){f=d.isEquivalent(this.pairs);break}u=d.isEquivalent(this.pairs),l++}f||u||rt.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Ol(this.pairs,s,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,a){for(let l of a)if(l.getPairs().length!==s.length){for(let u of l.getPairs())for(let f of s)if(ji.equals(u,f))break}}static isPartialRow(s,a){for(let l of a){let u=!0;for(let f of s){let d=!1;for(let m of l.getPairs())if(f.equals(m)){d=!0;break}if(!d){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(s){let a=Mp.buildBitArray(s),u=ih(a).parseInformation(),f=s[0].getFinderPattern().getResultPoints(),d=s[s.length-1].getFinderPattern().getResultPoints(),m=[f[0],f[1],d[0],d[1]];return new ae(u,null,null,m,xt.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),a=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),f=2;for(let m=1;m<this.pairs.size();++m){let b=this.pairs.get(m);u+=b.getLeftChar().getChecksumPortion(),f++;let y=b.getRightChar();y!=null&&(u+=y.getChecksumPortion(),f++)}return u%=211,211*(f-4)+u==a.getValue()}static getNextSecondBar(s,a){let l;return s.get(a)?(l=s.getNextUnset(a),l=s.getNextSet(l)):(l=s.getNextSet(a),l=s.getNextUnset(l)),l}retrieveNextPair(s,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let f,d=!0,m=-1;do this.findNextPair(s,a,m),f=this.parseFoundFinderPattern(s,l,u),f==null?m=rt.getNextSecondBar(s,this.startEnd[0]):d=!1;while(d);let b=this.decodeDataCharacter(s,f,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new G;let y;try{y=this.decodeDataCharacter(s,f,u,!1)}catch(C){y=null,this.verbose&&console.log(C)}return new ji(b,y,f,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),d;l>=0?d=l:this.isEmptyPair(a)?d=0:d=a[a.length-1].getFinderPattern().getStartEnd()[1];let m=a.length%2!=0;this.startFromEven&&(m=!m);let b=!1;for(;d<f&&(b=!s.get(d),!!b);)d++;let y=0,C=d;for(let S=d;S<f;S++)if(s.get(S)!=b)u[y]++;else{if(y==3){if(m&&rt.reverseCounters(u),rt.isFinderPattern(u)){this.startEnd[0]=C,this.startEnd[1]=S;return}m&&rt.reverseCounters(u),C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,y--}else y++;u[y]=1,b=!b}throw new G}static reverseCounters(s){let a=s.length;for(let l=0;l<a/2;++l){let u=s[l];s[l]=s[a-l-1],s[a-l-1]=u}}parseFoundFinderPattern(s,a,l){let u,f,d;if(l){let y=this.startEnd[0]-1;for(;y>=0&&!s.get(y);)y--;y++,u=this.startEnd[0]-y,f=y,d=this.startEnd[1]}else f=this.startEnd[0],d=s.getNextUnset(this.startEnd[1]+1),u=d-this.startEnd[1];let m=this.getDecodeFinderCounters();T.arraycopy(m,0,m,1,m.length-1),m[0]=u;let b;try{b=this.parseFinderValue(m,rt.FINDER_PATTERNS)}catch{return null}return new jo(b,[f,d],f,d,a)}decodeDataCharacter(s,a,l,u){let f=this.getDataCharacterCounters();for(let ye=0;ye<f.length;ye++)f[ye]=0;if(u)rt.recordPatternInReverse(s,a.getStartEnd()[0],f);else{rt.recordPattern(s,a.getStartEnd()[1],f);for(let ye=0,rn=f.length-1;ye<rn;ye++,rn--){let Dn=f[ye];f[ye]=f[rn],f[rn]=Dn}}let d=17,m=it.sum(new Int32Array(f))/d,b=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(m-b)/b>.3)throw new G;let y=this.getOddCounts(),C=this.getEvenCounts(),S=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let ye=0;ye<f.length;ye++){let rn=1*f[ye]/m,Dn=rn+.5;if(Dn<1){if(rn<.3)throw new G;Dn=1}else if(Dn>8){if(rn>8.7)throw new G;Dn=8}let $s=ye/2;ye&1?(C[$s]=Dn,M[$s]=rn-Dn):(y[$s]=Dn,S[$s]=rn-Dn)}this.adjustOddEvenCounts(d);let D=4*a.getValue()+(l?0:2)+(u?0:1)-1,B=0,U=0;for(let ye=y.length-1;ye>=0;ye--){if(rt.isNotA1left(a,l,u)){let rn=rt.WEIGHTS[D][2*ye];U+=y[ye]*rn}B+=y[ye]}let j=0;for(let ye=C.length-1;ye>=0;ye--)if(rt.isNotA1left(a,l,u)){let rn=rt.WEIGHTS[D][2*ye+1];j+=C[ye]*rn}let q=U+j;if(B&1||B>13||B<4)throw new G;let lt=(13-B)/2,ut=rt.SYMBOL_WIDEST[lt],at=9-ut,Qt=li.getRSSvalue(y,ut,!0),Ht=li.getRSSvalue(C,at,!1),In=rt.EVEN_TOTAL_SUBSET[lt],ti=rt.GSUM[lt],Tn=Qt*In+Ht+ti;return new Gs(Tn,q)}static isNotA1left(s,a,l){return!(s.getValue()==0&&a&&l)}adjustOddEvenCounts(s){let a=it.sum(new Int32Array(this.getOddCounts())),l=it.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1;a>13?f=!0:a<4&&(u=!0);let d=!1,m=!1;l>13?m=!0:l<4&&(d=!0);let b=a+l-s,y=(a&1)==1,C=(l&1)==0;if(b==1)if(y){if(C)throw new G;f=!0}else{if(!C)throw new G;m=!0}else if(b==-1)if(y){if(C)throw new G;u=!0}else{if(!C)throw new G;d=!0}else if(b==0){if(y){if(!C)throw new G;a<l?(u=!0,m=!0):(f=!0,d=!0)}else if(C)throw new G}else throw new G;if(u){if(f)throw new G;rt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&rt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(m)throw new G;rt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&rt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}rt.SYMBOL_WIDEST=[7,5,4,3,1],rt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],rt.GSUM=[0,348,1388,2948,3988],rt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],rt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],rt.FINDER_PAT_A=0,rt.FINDER_PAT_B=1,rt.FINDER_PAT_C=2,rt.FINDER_PAT_D=3,rt.FINDER_PAT_E=4,rt.FINDER_PAT_F=5,rt.FINDER_PATTERN_SEQUENCES=[[rt.FINDER_PAT_A,rt.FINDER_PAT_A],[rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B],[rt.FINDER_PAT_A,rt.FINDER_PAT_C,rt.FINDER_PAT_B,rt.FINDER_PAT_D],[rt.FINDER_PAT_A,rt.FINDER_PAT_E,rt.FINDER_PAT_B,rt.FINDER_PAT_D,rt.FINDER_PAT_C],[rt.FINDER_PAT_A,rt.FINDER_PAT_E,rt.FINDER_PAT_B,rt.FINDER_PAT_D,rt.FINDER_PAT_D,rt.FINDER_PAT_F],[rt.FINDER_PAT_A,rt.FINDER_PAT_E,rt.FINDER_PAT_B,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_F,rt.FINDER_PAT_F],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_D],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_E],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_F,rt.FINDER_PAT_F],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_E,rt.FINDER_PAT_F,rt.FINDER_PAT_F]],rt.MAX_PAIRS=11;class Rp extends Gs{constructor(s,a,l){super(s,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ue extends an{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,a,l){const u=this.decodePair(a,!1,s,l);Ue.addOrTally(this.possibleLeftPairs,u),a.reverse();let f=this.decodePair(a,!0,s,l);Ue.addOrTally(this.possibleRightPairs,f),a.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Ue.checkChecksum(d,m))return Ue.constructResult(d,m)}throw new G}static addOrTally(s,a){if(a==null)return;let l=!1;for(let u of s)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||s.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,a){let l=4537077*s.getValue()+a.getValue(),u=new String(l).toString(),f=new Ot;for(let y=13-u.length;y>0;y--)f.append("0");f.append(u);let d=0;for(let y=0;y<13;y++){let C=f.charAt(y).charCodeAt(0)-48;d+=y&1?C:3*C}d=10-d%10,d===10&&(d=0),f.append(d.toString());let m=s.getFinderPattern().getResultPoints(),b=a.getFinderPattern().getResultPoints();return new ae(f.toString(),null,0,[m[0],m[1],b[0],b[1]],xt.RSS_14,new Date().getTime())}static checkChecksum(s,a){let l=(s.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*s.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(s,a,l,u){try{let f=this.findFinderPattern(s,a),d=this.parseFoundFinderPattern(s,l,a,f),m=u==null?null:u.get(Q.NEED_RESULT_POINT_CALLBACK);if(m!=null){let C=(f[0]+f[1])/2;a&&(C=s.getSize()-1-C),m.foundPossibleResultPoint(new X(C,l))}let b=this.decodeDataCharacter(s,d,!0),y=this.decodeDataCharacter(s,d,!1);return new Rp(1597*b.getValue()+y.getValue(),b.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(s,a,l){let u=this.getDataCharacterCounters();for(let j=0;j<u.length;j++)u[j]=0;if(l)Ce.recordPatternInReverse(s,a.getStartEnd()[0],u);else{Ce.recordPattern(s,a.getStartEnd()[1]+1,u);for(let j=0,q=u.length-1;j<q;j++,q--){let lt=u[j];u[j]=u[q],u[q]=lt}}let f=l?16:15,d=it.sum(new Int32Array(u))/f,m=this.getOddCounts(),b=this.getEvenCounts(),y=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let j=0;j<u.length;j++){let q=u[j]/d,lt=Math.floor(q+.5);lt<1?lt=1:lt>8&&(lt=8);let ut=Math.floor(j/2);j&1?(b[ut]=lt,C[ut]=q-lt):(m[ut]=lt,y[ut]=q-lt)}this.adjustOddEvenCounts(l,f);let S=0,M=0;for(let j=m.length-1;j>=0;j--)M*=9,M+=m[j],S+=m[j];let D=0,B=0;for(let j=b.length-1;j>=0;j--)D*=9,D+=b[j],B+=b[j];let U=M+3*D;if(l){if(S&1||S>12||S<4)throw new G;let j=(12-S)/2,q=Ue.OUTSIDE_ODD_WIDEST[j],lt=9-q,ut=li.getRSSvalue(m,q,!1),at=li.getRSSvalue(b,lt,!0),Qt=Ue.OUTSIDE_EVEN_TOTAL_SUBSET[j],Ht=Ue.OUTSIDE_GSUM[j];return new Gs(ut*Qt+at+Ht,U)}else{if(B&1||B>10||B<4)throw new G;let j=(10-B)/2,q=Ue.INSIDE_ODD_WIDEST[j],lt=9-q,ut=li.getRSSvalue(m,q,!0),at=li.getRSSvalue(b,lt,!1),Qt=Ue.INSIDE_ODD_TOTAL_SUBSET[j],Ht=Ue.INSIDE_GSUM[j];return new Gs(at*Qt+ut+Ht,U)}}findFinderPattern(s,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=s.getSize(),f=!1,d=0;for(;d<u&&(f=!s.get(d),a!==f);)d++;let m=0,b=d;for(let y=d;y<u;y++)if(s.get(y)!==f)l[m]++;else{if(m===3){if(an.isFinderPattern(l))return[b,y];b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,f=!f}throw new G}parseFoundFinderPattern(s,a,l,u){let f=s.get(u[0]),d=u[0]-1;for(;d>=0&&f!==s.get(d);)d--;d++;const m=u[0]-d,b=this.getDecodeFinderCounters(),y=new Int32Array(b.length);T.arraycopy(b,0,y,1,b.length-1),y[0]=m;const C=this.parseFinderValue(y,Ue.FINDER_PATTERNS);let S=d,M=u[1];return l&&(S=s.getSize()-1-S,M=s.getSize()-1-M),new jo(C,[d,u[1]],S,M,a)}adjustOddEvenCounts(s,a){let l=it.sum(new Int32Array(this.getOddCounts())),u=it.sum(new Int32Array(this.getEvenCounts())),f=!1,d=!1,m=!1,b=!1;s?(l>12?d=!0:l<4&&(f=!0),u>12?b=!0:u<4&&(m=!0)):(l>11?d=!0:l<5&&(f=!0),u>10?b=!0:u<4&&(m=!0));let y=l+u-a,C=(l&1)===(s?1:0),S=(u&1)===1;if(y===1)if(C){if(S)throw new G;d=!0}else{if(!S)throw new G;b=!0}else if(y===-1)if(C){if(S)throw new G;f=!0}else{if(!S)throw new G;m=!0}else if(y===0){if(C){if(!S)throw new G;l<u?(f=!0,b=!0):(d=!0,m=!0)}else if(S)throw new G}else throw new G;if(f){if(d)throw new G;an.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&an.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(b)throw new G;an.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&an.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ue.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ue.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ue.OUTSIDE_GSUM=[0,161,961,2015,2715],Ue.INSIDE_GSUM=[0,336,1036,1516],Ue.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ue.INSIDE_ODD_WIDEST=[2,4,6,8],Ue.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ks extends Ce{constructor(s,a){super(),this.readers=[],this.verbose=a===!0;const l=s?s.get(Q.POSSIBLE_FORMATS):null,u=s&&s.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(xt.EAN_13)||l.includes(xt.UPC_A)||l.includes(xt.EAN_8)||l.includes(xt.UPC_E))&&this.readers.push(new Il(s)),l.includes(xt.CODE_39)&&this.readers.push(new ne(u)),l.includes(xt.CODE_128)&&this.readers.push(new gt),l.includes(xt.ITF)&&this.readers.push(new Zt),l.includes(xt.RSS_14)&&this.readers.push(new Ue),l.includes(xt.RSS_EXPANDED)&&this.readers.push(new rt(this.verbose))):(this.readers.push(new Il(s)),this.readers.push(new ne),this.readers.push(new Il(s)),this.readers.push(new gt),this.readers.push(new Zt),this.readers.push(new Ue),this.readers.push(new rt(this.verbose)))}decodeRow(s,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(s,a,l)}catch{}throw new G}reset(){this.readers.forEach(s=>s.reset())}}class Dp extends Ye{constructor(s=500,a){super(new Ks(a),s,a)}}class le{constructor(s,a,l){this.ecCodewords=s,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class oe{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ee{constructor(s,a,l,u,f,d){this.versionNumber=s,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=f,this.ecBlocks=d;let m=0;const b=d.getECCodewords(),y=d.getECBlocks();for(let C of y)m+=C.getCount()*(C.getDataCodewords()+b);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,a){if(s&1||a&1)throw new H;for(let l of ee.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===a)return l;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new ee(1,10,10,8,8,new le(5,new oe(1,3))),new ee(2,12,12,10,10,new le(7,new oe(1,5))),new ee(3,14,14,12,12,new le(10,new oe(1,8))),new ee(4,16,16,14,14,new le(12,new oe(1,12))),new ee(5,18,18,16,16,new le(14,new oe(1,18))),new ee(6,20,20,18,18,new le(18,new oe(1,22))),new ee(7,22,22,20,20,new le(20,new oe(1,30))),new ee(8,24,24,22,22,new le(24,new oe(1,36))),new ee(9,26,26,24,24,new le(28,new oe(1,44))),new ee(10,32,32,14,14,new le(36,new oe(1,62))),new ee(11,36,36,16,16,new le(42,new oe(1,86))),new ee(12,40,40,18,18,new le(48,new oe(1,114))),new ee(13,44,44,20,20,new le(56,new oe(1,144))),new ee(14,48,48,22,22,new le(68,new oe(1,174))),new ee(15,52,52,24,24,new le(42,new oe(2,102))),new ee(16,64,64,14,14,new le(56,new oe(2,140))),new ee(17,72,72,16,16,new le(36,new oe(4,92))),new ee(18,80,80,18,18,new le(48,new oe(4,114))),new ee(19,88,88,20,20,new le(56,new oe(4,144))),new ee(20,96,96,22,22,new le(68,new oe(4,174))),new ee(21,104,104,24,24,new le(56,new oe(6,136))),new ee(22,120,120,18,18,new le(68,new oe(6,175))),new ee(23,132,132,20,20,new le(62,new oe(8,163))),new ee(24,144,144,22,22,new le(62,new oe(8,156),new oe(2,155))),new ee(25,8,18,6,16,new le(7,new oe(1,5))),new ee(26,8,32,6,14,new le(11,new oe(1,10))),new ee(27,12,26,10,24,new le(14,new oe(1,16))),new ee(28,12,36,10,16,new le(18,new oe(1,22))),new ee(29,16,36,14,16,new le(24,new oe(1,32))),new ee(30,16,48,14,22,new le(28,new oe(1,49)))]}}ee.VERSIONS=ee.buildVersions();class vl{constructor(s){const a=s.getHeight();if(a<8||a>144||a&1)throw new H;this.version=vl.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Xt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const a=s.getHeight(),l=s.getWidth();return ee.getVersionForDimensions(a,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const f=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let m=!1,b=!1,y=!1,C=!1;do if(l===f&&u===0&&!m)s[a++]=this.readCorner1(f,d)&255,l-=2,u+=2,m=!0;else if(l===f-2&&u===0&&d&3&&!b)s[a++]=this.readCorner2(f,d)&255,l-=2,u+=2,b=!0;else if(l===f+4&&u===2&&!(d&7)&&!y)s[a++]=this.readCorner3(f,d)&255,l-=2,u+=2,y=!0;else if(l===f-2&&u===0&&(d&7)===4&&!C)s[a++]=this.readCorner4(f,d)&255,l-=2,u+=2,C=!0;else{do l<f&&u>=0&&!this.readMappingMatrix.get(u,l)&&(s[a++]=this.readUtah(l,u,f,d)&255),l-=2,u+=2;while(l>=0&&u<d);l+=1,u+=3;do l>=0&&u<d&&!this.readMappingMatrix.get(u,l)&&(s[a++]=this.readUtah(l,u,f,d)&255),l+=2,u-=2;while(l<f&&u>=0);l+=3,u+=1}while(l<f||u<d);if(a!==this.version.getTotalCodewords())throw new H;return s}readModule(s,a,l,u){return s<0&&(s+=l,a+=4-(l+4&7)),a<0&&(a+=u,s+=4-(u+4&7)),this.readMappingMatrix.set(a,s),this.mappingBitMatrix.get(a,s)}readUtah(s,a,l,u){let f=0;return this.readModule(s-2,a-2,l,u)&&(f|=1),f<<=1,this.readModule(s-2,a-1,l,u)&&(f|=1),f<<=1,this.readModule(s-1,a-2,l,u)&&(f|=1),f<<=1,this.readModule(s-1,a-1,l,u)&&(f|=1),f<<=1,this.readModule(s-1,a,l,u)&&(f|=1),f<<=1,this.readModule(s,a-2,l,u)&&(f|=1),f<<=1,this.readModule(s,a-1,l,u)&&(f|=1),f<<=1,this.readModule(s,a,l,u)&&(f|=1),f}readCorner1(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,1,s,a)&&(l|=1),l<<=1,this.readModule(s-1,2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}readCorner2(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-4,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner3(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-3,s,a)&&(l|=1),l<<=1,this.readModule(1,a-2,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner4(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}extractDataRegion(s){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==a)throw new w("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),d=a/u|0,m=l/f|0,b=d*u,y=m*f,C=new Xt(y,b);for(let S=0;S<d;++S){const M=S*u;for(let D=0;D<m;++D){const B=D*f;for(let U=0;U<u;++U){const j=S*(u+2)+1+U,q=M+U;for(let lt=0;lt<f;++lt){const ut=D*(f+2)+1+lt;if(s.get(ut,j)){const at=B+lt;C.set(at,q)}}}}}return C}}class Rl{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a){const l=a.getECBlocks();let u=0;const f=l.getECBlocks();for(let U of f)u+=U.getCount();const d=new Array(u);let m=0;for(let U of f)for(let j=0;j<U.getCount();j++){const q=U.getDataCodewords(),lt=l.getECCodewords()+q;d[m++]=new Rl(q,new Uint8Array(lt))}const y=d[0].codewords.length-l.getECCodewords(),C=y-1;let S=0;for(let U=0;U<C;U++)for(let j=0;j<m;j++)d[j].codewords[U]=s[S++];const M=a.getVersionNumber()===24,D=M?8:m;for(let U=0;U<D;U++)d[U].codewords[y-1]=s[S++];const B=d[0].codewords.length;for(let U=y;U<B;U++)for(let j=0;j<m;j++){const q=M?(j+8)%m:j,lt=M&&q>7?U-1:U;d[q].codewords[lt]=s[S++]}if(S!==s.length)throw new w;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Dl{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new w(""+s);let a=0,l=this.bitOffset,u=this.byteOffset;const f=this.bytes;if(l>0){const d=8-l,m=s<d?s:d,b=d-m,y=255>>8-m<<b;a=(f[u]&y)>>b,s-=m,l+=m,l===8&&(l=0,u++)}if(s>0){for(;s>=8;)a=a<<8|f[u]&255,u++,s-=8;if(s>0){const d=8-s,m=255>>d<<d;a=a<<s|(f[u]&m)>>d,l+=s}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ke;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ke||(Ke={}));class Wi{static decode(s){const a=new Dl(s),l=new Ot,u=new Ot,f=new Array;let d=Ke.ASCII_ENCODE;do if(d===Ke.ASCII_ENCODE)d=this.decodeAsciiSegment(a,l,u);else{switch(d){case Ke.C40_ENCODE:this.decodeC40Segment(a,l);break;case Ke.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Ke.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Ke.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Ke.BASE256_ENCODE:this.decodeBase256Segment(a,l,f);break;default:throw new H}d=Ke.ASCII_ENCODE}while(d!==Ke.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new mt(s,l.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(s,a,l){let u=!1;do{let f=s.readBits(8);if(f===0)throw new H;if(f<=128)return u&&(f+=128),a.append(String.fromCharCode(f-1)),Ke.ASCII_ENCODE;if(f===129)return Ke.PAD_ENCODE;if(f<=229){const d=f-130;d<10&&a.append("0"),a.append(""+d)}else switch(f){case 230:return Ke.C40_ENCODE;case 231:return Ke.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Ke.ANSIX12_ENCODE;case 239:return Ke.TEXT_ENCODE;case 240:return Ke.EDIFACT_ENCODE;case 241:break;default:if(f!==254||s.available()!==0)throw new H;break}}while(s.available()>0);return Ke.ASCII_ENCODE}static decodeC40Segment(s,a){let l=!1;const u=[];let f=0;do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),u);for(let m=0;m<3;m++){const b=u[m];switch(f){case 0:if(b<3)f=b+1;else if(b<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[b];l?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),l=!1):a.append(y)}else throw new H;break;case 1:l?(a.append(String.fromCharCode(b+128)),l=!1):a.append(String.fromCharCode(b)),f=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[b];l?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),l=!1):a.append(y)}else switch(b){case 27:a.append("");break;case 30:l=!0;break;default:throw new H}f=0;break;case 3:l?(a.append(String.fromCharCode(b+224)),l=!1):a.append(String.fromCharCode(b+96)),f=0;break;default:throw new H}}}while(s.available()>0)}static decodeTextSegment(s,a){let l=!1,u=[],f=0;do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),u);for(let m=0;m<3;m++){const b=u[m];switch(f){case 0:if(b<3)f=b+1;else if(b<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[b];l?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),l=!1):a.append(y)}else throw new H;break;case 1:l?(a.append(String.fromCharCode(b+128)),l=!1):a.append(String.fromCharCode(b)),f=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[b];l?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),l=!1):a.append(y)}else switch(b){case 27:a.append("");break;case 30:l=!0;break;default:throw new H}f=0;break;case 3:if(b<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[b];l?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),l=!1):a.append(y),f=0}else throw new H;break;default:throw new H}}}while(s.available()>0)}static decodeAnsiX12Segment(s,a){const l=[];do{if(s.available()===8)return;const u=s.readBits(8);if(u===254)return;this.parseTwoBytes(u,s.readBits(8),l);for(let f=0;f<3;f++){const d=l[f];switch(d){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(d<14)a.append(String.fromCharCode(d+44));else if(d<40)a.append(String.fromCharCode(d+51));else throw new H;break}}}while(s.available()>0)}static parseTwoBytes(s,a,l){let u=(s<<8)+a-1,f=Math.floor(u/1600);l[0]=f,u-=f*1600,f=Math.floor(u/40),l[1]=f,l[2]=u-f*40}static decodeEdifactSegment(s,a){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let u=s.readBits(6);if(u===31){const f=8-s.getBitOffset();f!==8&&s.readBits(f);return}u&32||(u|=64),a.append(String.fromCharCode(u))}}while(s.available()>0)}static decodeBase256Segment(s,a,l){let u=1+s.getByteOffset();const f=this.unrandomize255State(s.readBits(8),u++);let d;if(f===0?d=s.available()/8|0:f<250?d=f:d=250*(f-249)+this.unrandomize255State(s.readBits(8),u++),d<0)throw new H;const m=new Uint8Array(d);for(let b=0;b<d;b++){if(s.available()<8)throw new H;m[b]=this.unrandomize255State(s.readBits(8),u++)}l.push(m);try{a.append(At.decode(m,ht.ISO88591))}catch(b){throw new tt("Platform does not support required encoding: "+b.message)}}static unrandomize255State(s,a){const l=149*a%255+1,u=s-l;return u>=0?u:u+256}}Wi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wi.TEXT_SHIFT2_SET_CHARS=Wi.C40_SHIFT2_SET_CHARS,Wi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Np{constructor(){this.rsDecoder=new st(N.DATA_MATRIX_FIELD_256)}decode(s){const a=new vl(s),l=a.getVersion(),u=a.readCodewords(),f=Rl.getDataBlocks(u,l);let d=0;for(let y of f)d+=y.getNumDataCodewords();const m=new Uint8Array(d),b=f.length;for(let y=0;y<b;y++){const C=f[y],S=C.getCodewords(),M=C.getNumDataCodewords();this.correctErrors(S,M);for(let D=0;D<M;D++)m[D*b+y]=S[D]}return Wi.decode(m)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new _}for(let u=0;u<a;u++)s[u]=l[u]}}class je{constructor(s){this.image=s,this.rectangleDetector=new Et(this.image)}detect(){const s=this.rectangleDetector.detect();let a=this.detectSolid1(s);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new G;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],f=a[2],d=a[3];let m=this.transitionsBetween(l,d)+1,b=this.transitionsBetween(f,d)+1;(m&1)===1&&(m+=1),(b&1)===1&&(b+=1),4*m<7*b&&4*b<7*m&&(m=b=Math.max(m,b));let y=je.sampleGrid(this.image,l,u,f,d,m,b);return new Rt(y,[l,u,f,d])}static shiftPoint(s,a,l){let u=(a.getX()-s.getX())/(l+1),f=(a.getY()-s.getY())/(l+1);return new X(s.getX()+u,s.getY()+f)}static moveAway(s,a,l){let u=s.getX(),f=s.getY();return u<a?u-=1:u+=1,f<l?f-=1:f+=1,new X(u,f)}detectSolid1(s){let a=s[0],l=s[1],u=s[3],f=s[2],d=this.transitionsBetween(a,l),m=this.transitionsBetween(l,u),b=this.transitionsBetween(u,f),y=this.transitionsBetween(f,a),C=d,S=[f,a,l,u];return C>m&&(C=m,S[0]=a,S[1]=l,S[2]=u,S[3]=f),C>b&&(C=b,S[0]=l,S[1]=u,S[2]=f,S[3]=a),C>y&&(S[0]=u,S[1]=f,S[2]=a,S[3]=l),S}detectSolid2(s){let a=s[0],l=s[1],u=s[2],f=s[3],d=this.transitionsBetween(a,f),m=je.shiftPoint(l,u,(d+1)*4),b=je.shiftPoint(u,l,(d+1)*4),y=this.transitionsBetween(m,a),C=this.transitionsBetween(b,f);return y<C?(s[0]=a,s[1]=l,s[2]=u,s[3]=f):(s[0]=l,s[1]=u,s[2]=f,s[3]=a),s}correctTopRight(s){let a=s[0],l=s[1],u=s[2],f=s[3],d=this.transitionsBetween(a,f),m=this.transitionsBetween(l,f),b=je.shiftPoint(a,l,(m+1)*4),y=je.shiftPoint(u,l,(d+1)*4);d=this.transitionsBetween(b,f),m=this.transitionsBetween(y,f);let C=new X(f.getX()+(u.getX()-l.getX())/(d+1),f.getY()+(u.getY()-l.getY())/(d+1)),S=new X(f.getX()+(a.getX()-l.getX())/(m+1),f.getY()+(a.getY()-l.getY())/(m+1));if(!this.isValid(C))return this.isValid(S)?S:null;if(!this.isValid(S))return C;let M=this.transitionsBetween(b,C)+this.transitionsBetween(y,C),D=this.transitionsBetween(b,S)+this.transitionsBetween(y,S);return M>D?C:S}shiftToModuleCenter(s){let a=s[0],l=s[1],u=s[2],f=s[3],d=this.transitionsBetween(a,f)+1,m=this.transitionsBetween(u,f)+1,b=je.shiftPoint(a,l,m*4),y=je.shiftPoint(u,l,d*4);d=this.transitionsBetween(b,f)+1,m=this.transitionsBetween(y,f)+1,(d&1)===1&&(d+=1),(m&1)===1&&(m+=1);let C=(a.getX()+l.getX()+u.getX()+f.getX())/4,S=(a.getY()+l.getY()+u.getY()+f.getY())/4;a=je.moveAway(a,C,S),l=je.moveAway(l,C,S),u=je.moveAway(u,C,S),f=je.moveAway(f,C,S);let M,D;return b=je.shiftPoint(a,l,m*4),b=je.shiftPoint(b,f,d*4),M=je.shiftPoint(l,a,m*4),M=je.shiftPoint(M,u,d*4),y=je.shiftPoint(u,f,m*4),y=je.shiftPoint(y,l,d*4),D=je.shiftPoint(f,u,m*4),D=je.shiftPoint(D,a,d*4),[b,M,y,D]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,a,l,u,f,d,m){return Kt.getInstance().sampleGrid(s,d,m,.5,.5,d-.5,.5,d-.5,m-.5,.5,m-.5,a.getX(),a.getY(),f.getX(),f.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(s,a){let l=Math.trunc(s.getX()),u=Math.trunc(s.getY()),f=Math.trunc(a.getX()),d=Math.trunc(a.getY()),m=Math.abs(d-u)>Math.abs(f-l);if(m){let U=l;l=u,u=U,U=f,f=d,d=U}let b=Math.abs(f-l),y=Math.abs(d-u),C=-b/2,S=u<d?1:-1,M=l<f?1:-1,D=0,B=this.image.get(m?u:l,m?l:u);for(let U=l,j=u;U!==f;U+=M){let q=this.image.get(m?j:U,m?U:j);if(q!==B&&(D++,B=q),C+=y,C>0){if(j===d)break;j+=S,C-=b}}return D}}class Gi{constructor(){this.decoder=new Np}decode(s,a=null){let l,u;if(a!=null&&a.has(Q.PURE_BARCODE)){const y=Gi.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(y),u=Gi.NO_POINTS}else{const y=new je(s.getBlackMatrix()).detect();l=this.decoder.decode(y.getBits()),u=y.getPoints()}const f=l.getRawBytes(),d=new ae(l.getText(),f,8*f.length,u,xt.DATA_MATRIX,T.currentTimeMillis()),m=l.getByteSegments();m!=null&&d.putMetadata(ft.BYTE_SEGMENTS,m);const b=l.getECLevel();return b!=null&&d.putMetadata(ft.ERROR_CORRECTION_LEVEL,b),d}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a==null||l==null)throw new G;const u=this.moduleSize(a,s);let f=a[1];const d=l[1];let m=a[0];const y=(l[0]-m+1)/u,C=(d-f+1)/u;if(y<=0||C<=0)throw new G;const S=u/2;f+=S,m+=S;const M=new Xt(y,C);for(let D=0;D<C;D++){const B=f+D*u;for(let U=0;U<y;U++)s.get(m+U*u,B)&&M.set(U,D)}return M}static moduleSize(s,a){const l=a.getWidth();let u=s[0];const f=s[1];for(;u<l&&a.get(u,f);)u++;if(u===l)throw new G;const d=u-s[0];if(d===0)throw new G;return d}}Gi.NO_POINTS=[];class kp extends Ye{constructor(s=500){super(new Gi,s)}}var Zs;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(Zs||(Zs={}));class _e{constructor(s,a,l){this.value=s,this.stringValue=a,this.bits=l,_e.FOR_BITS.set(l,this),_e.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return _e.L;case"M":return _e.M;case"Q":return _e.Q;case"H":return _e.H;default:throw new x(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof _e))return!1;const a=s;return this.value===a.value}static forBits(s){if(s<0||s>=_e.FOR_BITS.size)throw new w;return _e.FOR_BITS.get(s)}}_e.FOR_BITS=new Map,_e.FOR_VALUE=new Map,_e.L=new _e(Zs.L,"L",1),_e.M=new _e(Zs.M,"M",0),_e.Q=new _e(Zs.Q,"Q",3),_e.H=new _e(Zs.H,"H",2);class ln{constructor(s){this.errorCorrectionLevel=_e.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,a){return F.bitCount(s^a)}static decodeFormatInformation(s,a){const l=ln.doDecodeFormatInformation(s,a);return l!==null?l:ln.doDecodeFormatInformation(s^ln.FORMAT_INFO_MASK_QR,a^ln.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const f of ln.FORMAT_INFO_DECODE_LOOKUP){const d=f[0];if(d===s||d===a)return new ln(f[1]);let m=ln.numBitsDiffering(s,d);m<l&&(u=f[1],l=m),s!==a&&(m=ln.numBitsDiffering(a,d),m<l&&(u=f[1],l=m))}return l<=3?new ln(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof ln))return!1;const a=s;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}ln.FORMAT_INFO_MASK_QR=21522,ln.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(s,...a){this.ecCodewordsPerBlock=s,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const a=this.ecBlocks;for(const l of a)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class vt{constructor(s,a,...l){this.versionNumber=s,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const f=l[0].getECCodewordsPerBlock(),d=l[0].getECBlocks();for(const m of d)u+=m.getCount()*(m.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new H;try{return this.getVersionForNumber((s-17)/4)}catch{throw new H}}static getVersionForNumber(s){if(s<1||s>40)throw new w;return vt.VERSIONS[s-1]}static decodeVersionInformation(s){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<vt.VERSION_DECODE_INFO.length;u++){const f=vt.VERSION_DECODE_INFO[u];if(f===s)return vt.getVersionForNumber(u+7);const d=ln.numBitsDiffering(s,f);d<a&&(l=u+7,a=d)}return a<=3?vt.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),a=new Xt(s);a.setRegion(0,0,9,9),a.setRegion(s-8,0,8,9),a.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const f=this.alignmentPatternCenters[u]-2;for(let d=0;d<l;d++)u===0&&(d===0||d===l-1)||u===l-1&&d===0||a.setRegion(this.alignmentPatternCenters[d]-2,f,5,5)}return a.setRegion(6,9,1,s-17),a.setRegion(9,6,s-17,1),this.versionNumber>6&&(a.setRegion(s-11,0,3,6),a.setRegion(0,s-11,6,3)),a}toString(){return""+this.versionNumber}}vt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),vt.VERSIONS=[new vt(1,new Int32Array(0),new Y(7,new R(1,19)),new Y(10,new R(1,16)),new Y(13,new R(1,13)),new Y(17,new R(1,9))),new vt(2,Int32Array.from([6,18]),new Y(10,new R(1,34)),new Y(16,new R(1,28)),new Y(22,new R(1,22)),new Y(28,new R(1,16))),new vt(3,Int32Array.from([6,22]),new Y(15,new R(1,55)),new Y(26,new R(1,44)),new Y(18,new R(2,17)),new Y(22,new R(2,13))),new vt(4,Int32Array.from([6,26]),new Y(20,new R(1,80)),new Y(18,new R(2,32)),new Y(26,new R(2,24)),new Y(16,new R(4,9))),new vt(5,Int32Array.from([6,30]),new Y(26,new R(1,108)),new Y(24,new R(2,43)),new Y(18,new R(2,15),new R(2,16)),new Y(22,new R(2,11),new R(2,12))),new vt(6,Int32Array.from([6,34]),new Y(18,new R(2,68)),new Y(16,new R(4,27)),new Y(24,new R(4,19)),new Y(28,new R(4,15))),new vt(7,Int32Array.from([6,22,38]),new Y(20,new R(2,78)),new Y(18,new R(4,31)),new Y(18,new R(2,14),new R(4,15)),new Y(26,new R(4,13),new R(1,14))),new vt(8,Int32Array.from([6,24,42]),new Y(24,new R(2,97)),new Y(22,new R(2,38),new R(2,39)),new Y(22,new R(4,18),new R(2,19)),new Y(26,new R(4,14),new R(2,15))),new vt(9,Int32Array.from([6,26,46]),new Y(30,new R(2,116)),new Y(22,new R(3,36),new R(2,37)),new Y(20,new R(4,16),new R(4,17)),new Y(24,new R(4,12),new R(4,13))),new vt(10,Int32Array.from([6,28,50]),new Y(18,new R(2,68),new R(2,69)),new Y(26,new R(4,43),new R(1,44)),new Y(24,new R(6,19),new R(2,20)),new Y(28,new R(6,15),new R(2,16))),new vt(11,Int32Array.from([6,30,54]),new Y(20,new R(4,81)),new Y(30,new R(1,50),new R(4,51)),new Y(28,new R(4,22),new R(4,23)),new Y(24,new R(3,12),new R(8,13))),new vt(12,Int32Array.from([6,32,58]),new Y(24,new R(2,92),new R(2,93)),new Y(22,new R(6,36),new R(2,37)),new Y(26,new R(4,20),new R(6,21)),new Y(28,new R(7,14),new R(4,15))),new vt(13,Int32Array.from([6,34,62]),new Y(26,new R(4,107)),new Y(22,new R(8,37),new R(1,38)),new Y(24,new R(8,20),new R(4,21)),new Y(22,new R(12,11),new R(4,12))),new vt(14,Int32Array.from([6,26,46,66]),new Y(30,new R(3,115),new R(1,116)),new Y(24,new R(4,40),new R(5,41)),new Y(20,new R(11,16),new R(5,17)),new Y(24,new R(11,12),new R(5,13))),new vt(15,Int32Array.from([6,26,48,70]),new Y(22,new R(5,87),new R(1,88)),new Y(24,new R(5,41),new R(5,42)),new Y(30,new R(5,24),new R(7,25)),new Y(24,new R(11,12),new R(7,13))),new vt(16,Int32Array.from([6,26,50,74]),new Y(24,new R(5,98),new R(1,99)),new Y(28,new R(7,45),new R(3,46)),new Y(24,new R(15,19),new R(2,20)),new Y(30,new R(3,15),new R(13,16))),new vt(17,Int32Array.from([6,30,54,78]),new Y(28,new R(1,107),new R(5,108)),new Y(28,new R(10,46),new R(1,47)),new Y(28,new R(1,22),new R(15,23)),new Y(28,new R(2,14),new R(17,15))),new vt(18,Int32Array.from([6,30,56,82]),new Y(30,new R(5,120),new R(1,121)),new Y(26,new R(9,43),new R(4,44)),new Y(28,new R(17,22),new R(1,23)),new Y(28,new R(2,14),new R(19,15))),new vt(19,Int32Array.from([6,30,58,86]),new Y(28,new R(3,113),new R(4,114)),new Y(26,new R(3,44),new R(11,45)),new Y(26,new R(17,21),new R(4,22)),new Y(26,new R(9,13),new R(16,14))),new vt(20,Int32Array.from([6,34,62,90]),new Y(28,new R(3,107),new R(5,108)),new Y(26,new R(3,41),new R(13,42)),new Y(30,new R(15,24),new R(5,25)),new Y(28,new R(15,15),new R(10,16))),new vt(21,Int32Array.from([6,28,50,72,94]),new Y(28,new R(4,116),new R(4,117)),new Y(26,new R(17,42)),new Y(28,new R(17,22),new R(6,23)),new Y(30,new R(19,16),new R(6,17))),new vt(22,Int32Array.from([6,26,50,74,98]),new Y(28,new R(2,111),new R(7,112)),new Y(28,new R(17,46)),new Y(30,new R(7,24),new R(16,25)),new Y(24,new R(34,13))),new vt(23,Int32Array.from([6,30,54,78,102]),new Y(30,new R(4,121),new R(5,122)),new Y(28,new R(4,47),new R(14,48)),new Y(30,new R(11,24),new R(14,25)),new Y(30,new R(16,15),new R(14,16))),new vt(24,Int32Array.from([6,28,54,80,106]),new Y(30,new R(6,117),new R(4,118)),new Y(28,new R(6,45),new R(14,46)),new Y(30,new R(11,24),new R(16,25)),new Y(30,new R(30,16),new R(2,17))),new vt(25,Int32Array.from([6,32,58,84,110]),new Y(26,new R(8,106),new R(4,107)),new Y(28,new R(8,47),new R(13,48)),new Y(30,new R(7,24),new R(22,25)),new Y(30,new R(22,15),new R(13,16))),new vt(26,Int32Array.from([6,30,58,86,114]),new Y(28,new R(10,114),new R(2,115)),new Y(28,new R(19,46),new R(4,47)),new Y(28,new R(28,22),new R(6,23)),new Y(30,new R(33,16),new R(4,17))),new vt(27,Int32Array.from([6,34,62,90,118]),new Y(30,new R(8,122),new R(4,123)),new Y(28,new R(22,45),new R(3,46)),new Y(30,new R(8,23),new R(26,24)),new Y(30,new R(12,15),new R(28,16))),new vt(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new R(3,117),new R(10,118)),new Y(28,new R(3,45),new R(23,46)),new Y(30,new R(4,24),new R(31,25)),new Y(30,new R(11,15),new R(31,16))),new vt(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new R(7,116),new R(7,117)),new Y(28,new R(21,45),new R(7,46)),new Y(30,new R(1,23),new R(37,24)),new Y(30,new R(19,15),new R(26,16))),new vt(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new R(5,115),new R(10,116)),new Y(28,new R(19,47),new R(10,48)),new Y(30,new R(15,24),new R(25,25)),new Y(30,new R(23,15),new R(25,16))),new vt(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new R(13,115),new R(3,116)),new Y(28,new R(2,46),new R(29,47)),new Y(30,new R(42,24),new R(1,25)),new Y(30,new R(23,15),new R(28,16))),new vt(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new R(17,115)),new Y(28,new R(10,46),new R(23,47)),new Y(30,new R(10,24),new R(35,25)),new Y(30,new R(19,15),new R(35,16))),new vt(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new R(17,115),new R(1,116)),new Y(28,new R(14,46),new R(21,47)),new Y(30,new R(29,24),new R(19,25)),new Y(30,new R(11,15),new R(46,16))),new vt(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new R(13,115),new R(6,116)),new Y(28,new R(14,46),new R(23,47)),new Y(30,new R(44,24),new R(7,25)),new Y(30,new R(59,16),new R(1,17))),new vt(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new R(12,121),new R(7,122)),new Y(28,new R(12,47),new R(26,48)),new Y(30,new R(39,24),new R(14,25)),new Y(30,new R(22,15),new R(41,16))),new vt(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new R(6,121),new R(14,122)),new Y(28,new R(6,47),new R(34,48)),new Y(30,new R(46,24),new R(10,25)),new Y(30,new R(2,15),new R(64,16))),new vt(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new R(17,122),new R(4,123)),new Y(28,new R(29,46),new R(14,47)),new Y(30,new R(49,24),new R(10,25)),new Y(30,new R(24,15),new R(46,16))),new vt(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new R(4,122),new R(18,123)),new Y(28,new R(13,46),new R(32,47)),new Y(30,new R(48,24),new R(14,25)),new Y(30,new R(42,15),new R(32,16))),new vt(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new R(20,117),new R(4,118)),new Y(28,new R(40,47),new R(7,48)),new Y(30,new R(43,24),new R(22,25)),new Y(30,new R(10,15),new R(67,16))),new vt(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new R(19,118),new R(6,119)),new Y(28,new R(18,47),new R(31,48)),new Y(30,new R(34,24),new R(34,25)),new Y(30,new R(20,15),new R(61,16)))];var $e;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})($e||($e={}));class Gn{constructor(s,a){this.value=s,this.isMasked=a}unmaskBitMatrix(s,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&s.flip(u,l)}}Gn.values=new Map([[$e.DATA_MASK_000,new Gn($e.DATA_MASK_000,(E,s)=>(E+s&1)===0)],[$e.DATA_MASK_001,new Gn($e.DATA_MASK_001,(E,s)=>(E&1)===0)],[$e.DATA_MASK_010,new Gn($e.DATA_MASK_010,(E,s)=>s%3===0)],[$e.DATA_MASK_011,new Gn($e.DATA_MASK_011,(E,s)=>(E+s)%3===0)],[$e.DATA_MASK_100,new Gn($e.DATA_MASK_100,(E,s)=>(Math.floor(E/2)+Math.floor(s/3)&1)===0)],[$e.DATA_MASK_101,new Gn($e.DATA_MASK_101,(E,s)=>E*s%6===0)],[$e.DATA_MASK_110,new Gn($e.DATA_MASK_110,(E,s)=>E*s%6<3)],[$e.DATA_MASK_111,new Gn($e.DATA_MASK_111,(E,s)=>(E+s+E*s%3&1)===0)]]);class Pp{constructor(s){const a=s.getHeight();if(a<21||(a&3)!==1)throw new H;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let f=0;f<6;f++)s=this.copyBit(f,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let f=5;f>=0;f--)s=this.copyBit(8,f,s);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let f=a-1;f>=u;f--)l=this.copyBit(8,f,l);for(let f=a-8;f<a;f++)l=this.copyBit(f,8,l);if(this.parsedFormatInfo=ln.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),a=Math.floor((s-17)/4);if(a<=6)return vt.getVersionForNumber(a);let l=0;const u=s-11;for(let d=5;d>=0;d--)for(let m=s-9;m>=u;m--)l=this.copyBit(m,d,l);let f=vt.decodeVersionInformation(l);if(f!==null&&f.getDimensionForVersion()===s)return this.parsedVersion=f,f;l=0;for(let d=5;d>=0;d--)for(let m=s-9;m>=u;m--)l=this.copyBit(d,m,l);if(f=vt.decodeVersionInformation(l),f!==null&&f.getDimensionForVersion()===s)return this.parsedVersion=f,f;throw new H}copyBit(s,a,l){return(this.isMirror?this.bitMatrix.get(a,s):this.bitMatrix.get(s,a))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),a=this.readVersion(),l=Gn.values.get(s.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const f=a.buildFunctionPattern();let d=!0;const m=new Uint8Array(a.getTotalCodewords());let b=0,y=0,C=0;for(let S=u-1;S>0;S-=2){S===6&&S--;for(let M=0;M<u;M++){const D=d?u-1-M:M;for(let B=0;B<2;B++)f.get(S-B,D)||(C++,y<<=1,this.bitMatrix.get(S-B,D)&&(y|=1),C===8&&(m[b++]=y,C=0,y=0))}d=!d}if(b!==a.getTotalCodewords())throw new H;return m}remask(){if(this.parsedFormatInfo===null)return;const s=Gn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let a=0,l=s.getWidth();a<l;a++)for(let u=a+1,f=s.getHeight();u<f;u++)s.get(a,u)!==s.get(u,a)&&(s.flip(u,a),s.flip(a,u))}}class Nl{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a,l){if(s.length!==a.getTotalCodewords())throw new w;const u=a.getECBlocksForLevel(l);let f=0;const d=u.getECBlocks();for(const B of d)f+=B.getCount();const m=new Array(f);let b=0;for(const B of d)for(let U=0;U<B.getCount();U++){const j=B.getDataCodewords(),q=u.getECCodewordsPerBlock()+j;m[b++]=new Nl(j,new Uint8Array(q))}const y=m[0].codewords.length;let C=m.length-1;for(;C>=0&&m[C].codewords.length!==y;)C--;C++;const S=y-u.getECCodewordsPerBlock();let M=0;for(let B=0;B<S;B++)for(let U=0;U<b;U++)m[U].codewords[B]=s[M++];for(let B=C;B<b;B++)m[B].codewords[S]=s[M++];const D=m[0].codewords.length;for(let B=S;B<D;B++)for(let U=0;U<b;U++){const j=U<C?B:B+1;m[U].codewords[j]=s[M++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Yn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(Yn||(Yn={}));class Dt{constructor(s,a,l,u){this.value=s,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,Dt.FOR_BITS.set(u,this),Dt.FOR_VALUE.set(s,this)}static forBits(s){const a=Dt.FOR_BITS.get(s);if(a===void 0)throw new w;return a}getCharacterCountBits(s){const a=s.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Dt))return!1;const a=s;return this.value===a.value}toString(){return this.stringValue}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.TERMINATOR=new Dt(Yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Dt.NUMERIC=new Dt(Yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Dt.ALPHANUMERIC=new Dt(Yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Dt.STRUCTURED_APPEND=new Dt(Yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Dt.BYTE=new Dt(Yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Dt.ECI=new Dt(Yn.ECI,"ECI",Int32Array.from([0,0,0]),7),Dt.KANJI=new Dt(Yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Dt.FNC1_FIRST_POSITION=new Dt(Yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Dt.FNC1_SECOND_POSITION=new Dt(Yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Dt.HANZI=new Dt(Yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Fe{static decode(s,a,l,u){const f=new Dl(s);let d=new Ot;const m=new Array;let b=-1,y=-1;try{let C=null,S=!1,M;do{if(f.available()<4)M=Dt.TERMINATOR;else{const D=f.readBits(4);M=Dt.forBits(D)}switch(M){case Dt.TERMINATOR:break;case Dt.FNC1_FIRST_POSITION:case Dt.FNC1_SECOND_POSITION:S=!0;break;case Dt.STRUCTURED_APPEND:if(f.available()<16)throw new H;b=f.readBits(8),y=f.readBits(8);break;case Dt.ECI:const D=Fe.parseECIValue(f);if(C=K.getCharacterSetECIByValue(D),C===null)throw new H;break;case Dt.HANZI:const B=f.readBits(4),U=f.readBits(M.getCharacterCountBits(a));B===Fe.GB2312_SUBSET&&Fe.decodeHanziSegment(f,d,U);break;default:const j=f.readBits(M.getCharacterCountBits(a));switch(M){case Dt.NUMERIC:Fe.decodeNumericSegment(f,d,j);break;case Dt.ALPHANUMERIC:Fe.decodeAlphanumericSegment(f,d,j,S);break;case Dt.BYTE:Fe.decodeByteSegment(f,d,j,C,m,u);break;case Dt.KANJI:Fe.decodeKanjiSegment(f,d,j);break;default:throw new H}break}}while(M!==Dt.TERMINATOR)}catch{throw new H}return new mt(s,d.toString(),m.length===0?null:m,l===null?null:l.toString(),b,y)}static decodeHanziSegment(s,a,l){if(l*13>s.available())throw new H;const u=new Uint8Array(2*l);let f=0;for(;l>0;){const d=s.readBits(13);let m=d/96<<8&4294967295|d%96;m<959?m+=41377:m+=42657,u[f]=m>>8&255,u[f+1]=m&255,f+=2,l--}try{a.append(At.decode(u,ht.GB2312))}catch(d){throw new H(d)}}static decodeKanjiSegment(s,a,l){if(l*13>s.available())throw new H;const u=new Uint8Array(2*l);let f=0;for(;l>0;){const d=s.readBits(13);let m=d/192<<8&4294967295|d%192;m<7936?m+=33088:m+=49472,u[f]=m>>8,u[f+1]=m,f+=2,l--}try{a.append(At.decode(u,ht.SHIFT_JIS))}catch(d){throw new H(d)}}static decodeByteSegment(s,a,l,u,f,d){if(8*l>s.available())throw new H;const m=new Uint8Array(l);for(let y=0;y<l;y++)m[y]=s.readBits(8);let b;u===null?b=ht.guessEncoding(m,d):b=u.getName();try{a.append(At.decode(m,b))}catch(y){throw new H(y)}f.push(m)}static toAlphaNumericChar(s){if(s>=Fe.ALPHANUMERIC_CHARS.length)throw new H;return Fe.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,a,l,u){const f=a.length();for(;l>1;){if(s.available()<11)throw new H;const d=s.readBits(11);a.append(Fe.toAlphaNumericChar(Math.floor(d/45))),a.append(Fe.toAlphaNumericChar(d%45)),l-=2}if(l===1){if(s.available()<6)throw new H;a.append(Fe.toAlphaNumericChar(s.readBits(6)))}if(u)for(let d=f;d<a.length();d++)a.charAt(d)==="%"&&(d<a.length()-1&&a.charAt(d+1)==="%"?a.deleteCharAt(d+1):a.setCharAt(d,""))}static decodeNumericSegment(s,a,l){for(;l>=3;){if(s.available()<10)throw new H;const u=s.readBits(10);if(u>=1e3)throw new H;a.append(Fe.toAlphaNumericChar(Math.floor(u/100))),a.append(Fe.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(Fe.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(s.available()<7)throw new H;const u=s.readBits(7);if(u>=100)throw new H;a.append(Fe.toAlphaNumericChar(Math.floor(u/10))),a.append(Fe.toAlphaNumericChar(u%10))}else if(l===1){if(s.available()<4)throw new H;const u=s.readBits(4);if(u>=10)throw new H;a.append(Fe.toAlphaNumericChar(u))}}static parseECIValue(s){const a=s.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=s.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=s.readBits(16);return(a&31)<<16&4294967295|l}throw new H}}Fe.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Fe.GB2312_SUBSET=1;class sh{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const a=s[0];s[0]=s[2],s[2]=a}}class Lp{constructor(){this.rsDecoder=new st(N.QR_CODE_FIELD_256)}decodeBooleanArray(s,a){return this.decodeBitMatrix(Xt.parseFromBooleanArray(s),a)}decodeBitMatrix(s,a){const l=new Pp(s);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(f){u=f}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const f=this.decodeBitMatrixParser(l,a);return f.setOther(new sh(!0)),f}catch(f){throw u!==null?u:f}}decodeBitMatrixParser(s,a){const l=s.readVersion(),u=s.readFormatInformation().getErrorCorrectionLevel(),f=s.readCodewords(),d=Nl.getDataBlocks(f,l,u);let m=0;for(const C of d)m+=C.getNumDataCodewords();const b=new Uint8Array(m);let y=0;for(const C of d){const S=C.getCodewords(),M=C.getNumDataCodewords();this.correctErrors(S,M);for(let D=0;D<M;D++)b[y++]=S[D]}return Fe.decode(b,l,u,a)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new _}for(let u=0;u<a;u++)s[u]=l[u]}}class kl extends X{constructor(s,a,l){super(s,a),this.estimatedModuleSize=l}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=(this.getX()+a)/2,f=(this.getY()+s)/2,d=(this.estimatedModuleSize+l)/2;return new kl(u,f,d)}}class Yo{constructor(s,a,l,u,f,d,m){this.image=s,this.startX=a,this.startY=l,this.width=u,this.height=f,this.moduleSize=d,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,a=this.height,l=this.width,u=s+l,f=this.startY+a/2,d=new Int32Array(3),m=this.image;for(let b=0;b<a;b++){const y=f+(b&1?-Math.floor((b+1)/2):Math.floor((b+1)/2));d[0]=0,d[1]=0,d[2]=0;let C=s;for(;C<u&&!m.get(C,y);)C++;let S=0;for(;C<u;){if(m.get(C,y))if(S===1)d[1]++;else if(S===2){if(this.foundPatternCross(d)){const M=this.handlePossibleCenter(d,y,C);if(M!==null)return M}d[0]=d[2],d[1]=1,d[2]=0,S=1}else d[++S]++;else S===1&&S++,d[S]++;C++}if(this.foundPatternCross(d)){const M=this.handlePossibleCenter(d,y,u);if(M!==null)return M}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(s,a){return a-s[2]-s[1]/2}foundPatternCross(s){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-s[u])>=l)return!1;return!0}crossCheckVertical(s,a,l,u){const f=this.image,d=f.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let b=s;for(;b>=0&&f.get(a,b)&&m[1]<=l;)m[1]++,b--;if(b<0||m[1]>l)return NaN;for(;b>=0&&!f.get(a,b)&&m[0]<=l;)m[0]++,b--;if(m[0]>l)return NaN;for(b=s+1;b<d&&f.get(a,b)&&m[1]<=l;)m[1]++,b++;if(b===d||m[1]>l)return NaN;for(;b<d&&!f.get(a,b)&&m[2]<=l;)m[2]++,b++;if(m[2]>l)return NaN;const y=m[0]+m[1]+m[2];return 5*Math.abs(y-u)>=2*u?NaN:this.foundPatternCross(m)?Yo.centerFromEnd(m,b):NaN}handlePossibleCenter(s,a,l){const u=s[0]+s[1]+s[2],f=Yo.centerFromEnd(s,l),d=this.crossCheckVertical(a,f,2*s[1],u);if(!isNaN(d)){const m=(s[0]+s[1]+s[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(m,d,f))return y.combineEstimate(d,f,m);const b=new kl(f,d,m);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class Pl extends X{constructor(s,a,l,u){super(s,a),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=this.count+1,f=(this.count*this.getX()+a)/u,d=(this.count*this.getY()+s)/u,m=(this.count*this.estimatedModuleSize+l)/u;return new Pl(f,d,m,u)}}class Bp{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Je{constructor(s,a){this.image=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const a=s!=null&&s.get(Q.TRY_HARDER)!==void 0,l=s!=null&&s.get(Q.PURE_BARCODE)!==void 0,u=this.image,f=u.getHeight(),d=u.getWidth();let m=Math.floor(3*f/(4*Je.MAX_MODULES));(m<Je.MIN_SKIP||a)&&(m=Je.MIN_SKIP);let b=!1;const y=new Int32Array(5);for(let S=m-1;S<f&&!b;S+=m){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let M=0;for(let D=0;D<d;D++)if(u.get(D,S))(M&1)===1&&M++,y[M]++;else if(M&1)y[M]++;else if(M===4)if(Je.foundPatternCross(y)){if(this.handlePossibleCenter(y,S,D,l)===!0)if(m=2,this.hasSkipped===!0)b=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>y[2]&&(S+=U-y[2]-m,D=d-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,M=3;continue}M=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,M=3;else y[++M]++;Je.foundPatternCross(y)&&this.handlePossibleCenter(y,S,d,l)===!0&&(m=y[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return X.orderBestPatterns(C),new Bp(C)}static centerFromEnd(s,a){return a-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let a=0;for(let f=0;f<5;f++){const d=s[f];if(d===0)return!1;a+=d}if(a<7)return!1;const l=a/7,u=l/2;return Math.abs(l-s[0])<u&&Math.abs(l-s[1])<u&&Math.abs(3*l-s[2])<3*u&&Math.abs(l-s[3])<u&&Math.abs(l-s[4])<u}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,a,l,u){const f=this.getCrossCheckStateCount();let d=0;const m=this.image;for(;s>=d&&a>=d&&m.get(a-d,s-d);)f[2]++,d++;if(s<d||a<d)return!1;for(;s>=d&&a>=d&&!m.get(a-d,s-d)&&f[1]<=l;)f[1]++,d++;if(s<d||a<d||f[1]>l)return!1;for(;s>=d&&a>=d&&m.get(a-d,s-d)&&f[0]<=l;)f[0]++,d++;if(f[0]>l)return!1;const b=m.getHeight(),y=m.getWidth();for(d=1;s+d<b&&a+d<y&&m.get(a+d,s+d);)f[2]++,d++;if(s+d>=b||a+d>=y)return!1;for(;s+d<b&&a+d<y&&!m.get(a+d,s+d)&&f[3]<l;)f[3]++,d++;if(s+d>=b||a+d>=y||f[3]>=l)return!1;for(;s+d<b&&a+d<y&&m.get(a+d,s+d)&&f[4]<l;)f[4]++,d++;if(f[4]>=l)return!1;const C=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(C-u)<2*u&&Je.foundPatternCross(f)}crossCheckVertical(s,a,l,u){const f=this.image,d=f.getHeight(),m=this.getCrossCheckStateCount();let b=s;for(;b>=0&&f.get(a,b);)m[2]++,b--;if(b<0)return NaN;for(;b>=0&&!f.get(a,b)&&m[1]<=l;)m[1]++,b--;if(b<0||m[1]>l)return NaN;for(;b>=0&&f.get(a,b)&&m[0]<=l;)m[0]++,b--;if(m[0]>l)return NaN;for(b=s+1;b<d&&f.get(a,b);)m[2]++,b++;if(b===d)return NaN;for(;b<d&&!f.get(a,b)&&m[3]<l;)m[3]++,b++;if(b===d||m[3]>=l)return NaN;for(;b<d&&f.get(a,b)&&m[4]<l;)m[4]++,b++;if(m[4]>=l)return NaN;const y=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(y-u)>=2*u?NaN:Je.foundPatternCross(m)?Je.centerFromEnd(m,b):NaN}crossCheckHorizontal(s,a,l,u){const f=this.image,d=f.getWidth(),m=this.getCrossCheckStateCount();let b=s;for(;b>=0&&f.get(b,a);)m[2]++,b--;if(b<0)return NaN;for(;b>=0&&!f.get(b,a)&&m[1]<=l;)m[1]++,b--;if(b<0||m[1]>l)return NaN;for(;b>=0&&f.get(b,a)&&m[0]<=l;)m[0]++,b--;if(m[0]>l)return NaN;for(b=s+1;b<d&&f.get(b,a);)m[2]++,b++;if(b===d)return NaN;for(;b<d&&!f.get(b,a)&&m[3]<l;)m[3]++,b++;if(b===d||m[3]>=l)return NaN;for(;b<d&&f.get(b,a)&&m[4]<l;)m[4]++,b++;if(m[4]>=l)return NaN;const y=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(y-u)>=u?NaN:Je.foundPatternCross(m)?Je.centerFromEnd(m,b):NaN}handlePossibleCenter(s,a,l,u){const f=s[0]+s[1]+s[2]+s[3]+s[4];let d=Je.centerFromEnd(s,l),m=this.crossCheckVertical(a,Math.floor(d),s[2],f);if(!isNaN(m)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(m),s[2],f),!isNaN(d)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(d),s[2],f)))){const b=f/7;let y=!1;const C=this.possibleCenters;for(let S=0,M=C.length;S<M;S++){const D=C[S];if(D.aboutEquals(b,m,d)){C[S]=D.combineEstimate(m,d,b),y=!0;break}}if(!y){const S=new Pl(d,m,b);C.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Je.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,a=0;const l=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Je.CENTER_QUORUM&&(s++,a+=d.getEstimatedModuleSize());if(s<3)return!1;const u=a/l;let f=0;for(const d of this.possibleCenters)f+=Math.abs(d.getEstimatedModuleSize()-u);return f<=.05*a}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new G;const a=this.possibleCenters;let l;if(s>3){let u=0,f=0;for(const b of this.possibleCenters){const y=b.getEstimatedModuleSize();u+=y,f+=y*y}l=u/s;let d=Math.sqrt(f/s-l*l);a.sort((b,y)=>{const C=Math.abs(y.getEstimatedModuleSize()-l),S=Math.abs(b.getEstimatedModuleSize()-l);return C<S?-1:C>S?1:0});const m=Math.max(.2*l,d);for(let b=0;b<a.length&&a.length>3;b++){const y=a[b];Math.abs(y.getEstimatedModuleSize()-l)>m&&(a.splice(b,1),b--)}}if(a.length>3){let u=0;for(const f of a)u+=f.getEstimatedModuleSize();l=u/a.length,a.sort((f,d)=>{if(d.getCount()===f.getCount()){const m=Math.abs(d.getEstimatedModuleSize()-l),b=Math.abs(f.getEstimatedModuleSize()-l);return m<b?1:m>b?-1:0}else return d.getCount()-f.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Je.CENTER_QUORUM=2,Je.MIN_SKIP=3,Je.MAX_MODULES=57;class Or{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(Q.NEED_RESULT_POINT_CALLBACK);const l=new Je(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const a=s.getTopLeft(),l=s.getTopRight(),u=s.getBottomLeft(),f=this.calculateModuleSize(a,l,u);if(f<1)throw new G("No pattern found in proccess finder.");const d=Or.computeDimension(a,l,u,f),m=vt.getProvisionalVersionForDimension(d),b=m.getDimensionForVersion()-7;let y=null;if(m.getAlignmentPatternCenters().length>0){const D=l.getX()-a.getX()+u.getX(),B=l.getY()-a.getY()+u.getY(),U=1-3/b,j=Math.floor(a.getX()+U*(D-a.getX())),q=Math.floor(a.getY()+U*(B-a.getY()));for(let lt=4;lt<=16;lt<<=1)try{y=this.findAlignmentInRegion(f,j,q,lt);break}catch(ut){if(!(ut instanceof G))throw ut}}const C=Or.createTransform(a,l,u,y,d),S=Or.sampleGrid(this.image,C,d);let M;return y===null?M=[u,a,l]:M=[u,a,l,y],new Rt(S,M)}static createTransform(s,a,l,u,f){const d=f-3.5;let m,b,y,C;return u!==null?(m=u.getX(),b=u.getY(),y=d-3,C=y):(m=a.getX()-s.getX()+l.getX(),b=a.getY()-s.getY()+l.getY(),y=d,C=d),Ft.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,C,3.5,d,s.getX(),s.getY(),a.getX(),a.getY(),m,b,l.getX(),l.getY())}static sampleGrid(s,a,l){return Kt.getInstance().sampleGridWithTransform(s,l,l,a)}static computeDimension(s,a,l,u){const f=it.round(X.distance(s,a)/u),d=it.round(X.distance(s,l)/u);let m=Math.floor((f+d)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new G("Dimensions could be not found.")}return m}calculateModuleSize(s,a,l){return(this.calculateModuleSizeOneWay(s,a)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(s,a,l,u){let f=this.sizeOfBlackWhiteBlackRun(s,a,l,u),d=1,m=s-(l-s);m<0?(d=s/(s-m),m=0):m>=this.image.getWidth()&&(d=(this.image.getWidth()-1-s)/(m-s),m=this.image.getWidth()-1);let b=Math.floor(a-(u-a)*d);return d=1,b<0?(d=a/(a-b),b=0):b>=this.image.getHeight()&&(d=(this.image.getHeight()-1-a)/(b-a),b=this.image.getHeight()-1),m=Math.floor(s+(m-s)*d),f+=this.sizeOfBlackWhiteBlackRun(s,a,m,b),f-1}sizeOfBlackWhiteBlackRun(s,a,l,u){const f=Math.abs(u-a)>Math.abs(l-s);if(f){let D=s;s=a,a=D,D=l,l=u,u=D}const d=Math.abs(l-s),m=Math.abs(u-a);let b=-d/2;const y=s<l?1:-1,C=a<u?1:-1;let S=0;const M=l+y;for(let D=s,B=a;D!==M;D+=y){const U=f?B:D,j=f?D:B;if(S===1===this.image.get(U,j)){if(S===2)return it.distance(D,B,s,a);S++}if(b+=m,b>0){if(B===u)break;B+=C,b-=d}}return S===2?it.distance(l+y,u,s,a):NaN}findAlignmentInRegion(s,a,l,u){const f=Math.floor(u*s),d=Math.max(0,a-f),m=Math.min(this.image.getWidth()-1,a+f);if(m-d<s*3)throw new G("Alignment top exceeds estimated module size.");const b=Math.max(0,l-f),y=Math.min(this.image.getHeight()-1,l+f);if(y-b<s*3)throw new G("Alignment bottom exceeds estimated module size.");return new Yo(this.image,d,b,m-d,y-b,s,this.resultPointCallback).find()}}class Yi{constructor(){this.decoder=new Lp}getDecoder(){return this.decoder}decode(s,a){let l,u;if(a!=null&&a.get(Q.PURE_BARCODE)!==void 0){const b=Yi.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(b,a),u=Yi.NO_POINTS}else{const b=new Or(s.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(b.getBits(),a),u=b.getPoints()}l.getOther()instanceof sh&&l.getOther().applyMirroredCorrection(u);const f=new ae(l.getText(),l.getRawBytes(),void 0,u,xt.QR_CODE,void 0),d=l.getByteSegments();d!==null&&f.putMetadata(ft.BYTE_SEGMENTS,d);const m=l.getECLevel();return m!==null&&f.putMetadata(ft.ERROR_CORRECTION_LEVEL,m),l.hasStructuredAppend()&&(f.putMetadata(ft.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),f.putMetadata(ft.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),f}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a===null||l===null)throw new G;const u=this.moduleSize(a,s);let f=a[1],d=l[1],m=a[0],b=l[0];if(m>=b||f>=d)throw new G;if(d-f!==b-m&&(b=m+(d-f),b>=s.getWidth()))throw new G;const y=Math.round((b-m+1)/u),C=Math.round((d-f+1)/u);if(y<=0||C<=0)throw new G;if(C!==y)throw new G;const S=Math.floor(u/2);f+=S,m+=S;const M=m+Math.floor((y-1)*u)-b;if(M>0){if(M>S)throw new G;m-=M}const D=f+Math.floor((C-1)*u)-d;if(D>0){if(D>S)throw new G;f-=D}const B=new Xt(y,C);for(let U=0;U<C;U++){const j=f+Math.floor(U*u);for(let q=0;q<y;q++)s.get(m+Math.floor(q*u),j)&&B.set(q,U)}return B}static moduleSize(s,a){const l=a.getHeight(),u=a.getWidth();let f=s[0],d=s[1],m=!0,b=0;for(;f<u&&d<l;){if(m!==a.get(f,d)){if(++b===5)break;m=!m}f++,d++}if(f===u||d===l)throw new G;return(f-s[0])/7}}Yi.NO_POINTS=new Array;class Lt{PDF417Common(){}static getBitCountSum(s){return it.sum(s)}static toIntArray(s){if(s==null||!s.length)return Lt.EMPTY_INT_ARRAY;const a=new Int32Array(s.length);let l=0;for(const u of s)a[l++]=u;return a}static getCodeword(s){const a=L.binarySearch(Lt.SYMBOL_TABLE,s&262143);return a<0?-1:(Lt.CODEWORD_TABLE[a]-1)%Lt.NUMBER_OF_CODEWORDS}}Lt.NUMBER_OF_CODEWORDS=929,Lt.MAX_CODEWORDS_IN_BARCODE=Lt.NUMBER_OF_CODEWORDS-1,Lt.MIN_ROWS_IN_BARCODE=3,Lt.MAX_ROWS_IN_BARCODE=90,Lt.MODULES_IN_CODEWORD=17,Lt.MODULES_IN_STOP_PATTERN=18,Lt.BARS_IN_MODULE=8,Lt.EMPTY_INT_ARRAY=new Int32Array([]),Lt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Lt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Fp{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Gt{static detectMultiple(s,a,l){let u=s.getBlackMatrix(),f=Gt.detect(l,u);return f.length||(u=u.clone(),u.rotate180(),f=Gt.detect(l,u)),new Fp(u,f)}static detect(s,a){const l=new Array;let u=0,f=0,d=!1;for(;u<a.getHeight();){const m=Gt.findVertices(a,u,f);if(m[0]==null&&m[3]==null){if(!d)break;d=!1,f=0;for(const b of l)b[1]!=null&&(u=Math.trunc(Math.max(u,b[1].getY()))),b[3]!=null&&(u=Math.max(u,Math.trunc(b[3].getY())));u+=Gt.ROW_STEP;continue}if(d=!0,l.push(m),!s)break;m[2]!=null?(f=Math.trunc(m[2].getX()),u=Math.trunc(m[2].getY())):(f=Math.trunc(m[4].getX()),u=Math.trunc(m[4].getY()))}return l}static findVertices(s,a,l){const u=s.getHeight(),f=s.getWidth(),d=new Array(8);return Gt.copyToResult(d,Gt.findRowsWithPattern(s,u,f,a,l,Gt.START_PATTERN),Gt.INDEXES_START_PATTERN),d[4]!=null&&(l=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY())),Gt.copyToResult(d,Gt.findRowsWithPattern(s,u,f,a,l,Gt.STOP_PATTERN),Gt.INDEXES_STOP_PATTERN),d}static copyToResult(s,a,l){for(let u=0;u<l.length;u++)s[l[u]]=a[u]}static findRowsWithPattern(s,a,l,u,f,d){const m=new Array(4);let b=!1;const y=new Int32Array(d.length);for(;u<a;u+=Gt.ROW_STEP){let S=Gt.findGuardPattern(s,f,u,l,!1,d,y);if(S!=null){for(;u>0;){const M=Gt.findGuardPattern(s,f,--u,l,!1,d,y);if(M!=null)S=M;else{u++;break}}m[0]=new X(S[0],u),m[1]=new X(S[1],u),b=!0;break}}let C=u+1;if(b){let S=0,M=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;C<a;C++){const D=Gt.findGuardPattern(s,M[0],C,l,!1,d,y);if(D!=null&&Math.abs(M[0]-D[0])<Gt.MAX_PATTERN_DRIFT&&Math.abs(M[1]-D[1])<Gt.MAX_PATTERN_DRIFT)M=D,S=0;else{if(S>Gt.SKIPPED_ROW_COUNT_MAX)break;S++}}C-=S+1,m[2]=new X(M[0],C),m[3]=new X(M[1],C)}return C-u<Gt.BARCODE_MIN_HEIGHT&&L.fill(m,null),m}static findGuardPattern(s,a,l,u,f,d,m){L.fillWithin(m,0,m.length,0);let b=a,y=0;for(;s.get(b,l)&&b>0&&y++<Gt.MAX_PIXEL_DRIFT;)b--;let C=b,S=0,M=d.length;for(let D=f;C<u;C++)if(s.get(C,l)!==D)m[S]++;else{if(S===M-1){if(Gt.patternMatchVariance(m,d,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return new Int32Array([b,C]);b+=m[0]+m[1],T.arraycopy(m,2,m,0,S-1),m[S-1]=0,m[S]=0,S--}else S++;m[S]=1,D=!D}return S===M-1&&Gt.patternMatchVariance(m,d,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE?new Int32Array([b,C-1]):null}static patternMatchVariance(s,a,l){let u=s.length,f=0,d=0;for(let y=0;y<u;y++)f+=s[y],d+=a[y];if(f<d)return 1/0;let m=f/d;l*=m;let b=0;for(let y=0;y<u;y++){let C=s[y],S=a[y]*m,M=C>S?C-S:S-C;if(M>l)return 1/0;b+=M}return b/f}}Gt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Gt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Gt.MAX_AVG_VARIANCE=.42,Gt.MAX_INDIVIDUAL_VARIANCE=.8,Gt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Gt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Gt.MAX_PIXEL_DRIFT=3,Gt.MAX_PATTERN_DRIFT=5,Gt.SKIPPED_ROW_COUNT_MAX=25,Gt.ROW_STEP=5,Gt.BARCODE_MIN_HEIGHT=10;class nn{constructor(s,a){if(a.length===0)throw new w;this.field=s;let l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),T.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let u=0;for(let f of this.coefficients)u=this.field.add(u,f);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(s,a),this.coefficients[u]);return a}add(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){let d=a;a=l,l=d}let u=new Int32Array(l.length),f=l.length-a.length;T.arraycopy(l,0,u,0,f);for(let d=f;d<l.length;d++)u[d]=this.field.add(a[d-f],l[d]);return new nn(this.field,u)}subtract(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof nn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new nn(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=s.coefficients,f=u.length,d=new Int32Array(l+f-1);for(let m=0;m<l;m++){let b=a[m];for(let y=0;y<f;y++)d[m+y]=this.field.add(d[m+y],this.field.multiply(b,u[y]))}return new nn(this.field,d)}negative(){let s=this.coefficients.length,a=new Int32Array(s);for(let l=0;l<s;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new nn(this.field,a)}multiplyScalar(s){if(s===0)return new nn(this.field,new Int32Array([0]));if(s===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],s);return new nn(this.field,l)}multiplyByMonomial(s,a){if(s<0)throw new w;if(a===0)return new nn(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+s);for(let f=0;f<l;f++)u[f]=this.field.multiply(this.coefficients[f],a);return new nn(this.field,u)}toString(){let s=new Ot;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(a===0||l!==1)&&s.append(l),a!==0&&(a===1?s.append("x"):(s.append("x^"),s.append(a))))}return s.toString()}}class Up{add(s,a){return(s+a)%this.modulus}subtract(s,a){return(this.modulus+s-a)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}inverse(s){if(s===0)throw new P;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Ll extends Up{constructor(s,a){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let u=0;u<s;u++)this.expTable[u]=l,l=l*a%s;for(let u=0;u<s-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new nn(this,new Int32Array([0])),this.one=new nn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new w;if(a===0)return this.zero;let l=new Int32Array(s+1);return l[0]=a,new nn(this,l)}}Ll.PDF417_GF=new Ll(Lt.NUMBER_OF_CODEWORDS,3);class rh{constructor(){this.field=Ll.PDF417_GF}decode(s,a,l){let u=new nn(this.field,s),f=new Int32Array(a),d=!1;for(let B=a;B>0;B--){let U=u.evaluateAt(this.field.exp(B));f[a-B]=U,U!==0&&(d=!0)}if(!d)return 0;let m=this.field.getOne();if(l!=null)for(const B of l){let U=this.field.exp(s.length-1-B),j=new nn(this.field,new Int32Array([this.field.subtract(0,U),1]));m=m.multiply(j)}let b=new nn(this.field,f),y=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),b,a),C=y[0],S=y[1],M=this.findErrorLocations(C),D=this.findErrorMagnitudes(S,C,M);for(let B=0;B<M.length;B++){let U=s.length-1-this.field.log(M[B]);if(U<0)throw _.getChecksumInstance();s[U]=this.field.subtract(s[U],D[B])}return M.length}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){let M=s;s=a,a=M}let u=s,f=a,d=this.field.getZero(),m=this.field.getOne();for(;f.getDegree()>=Math.round(l/2);){let M=u,D=d;if(u=f,d=m,u.isZero())throw _.getChecksumInstance();f=M;let B=this.field.getZero(),U=u.getCoefficient(u.getDegree()),j=this.field.inverse(U);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){let q=f.getDegree()-u.getDegree(),lt=this.field.multiply(f.getCoefficient(f.getDegree()),j);B=B.add(this.field.buildMonomial(q,lt)),f=f.subtract(u.multiplyByMonomial(q,lt))}m=B.multiply(d).subtract(D).negative()}let b=m.getCoefficient(0);if(b===0)throw _.getChecksumInstance();let y=this.field.inverse(b),C=m.multiply(y),S=f.multiply(y);return[C,S]}findErrorLocations(s){let a=s.getDegree(),l=new Int32Array(a),u=0;for(let f=1;f<this.field.getSize()&&u<a;f++)s.evaluateAt(f)===0&&(l[u]=this.field.inverse(f),u++);if(u!==a)throw _.getChecksumInstance();return l}findErrorMagnitudes(s,a,l){let u=a.getDegree(),f=new Int32Array(u);for(let y=1;y<=u;y++)f[u-y]=this.field.multiply(y,a.getCoefficient(y));let d=new nn(this.field,f),m=l.length,b=new Int32Array(m);for(let y=0;y<m;y++){let C=this.field.inverse(l[y]),S=this.field.subtract(0,s.evaluateAt(C)),M=this.field.inverse(d.evaluateAt(C));b[y]=this.field.multiply(S,M)}return b}}class xs{constructor(s,a,l,u,f){s instanceof xs?this.constructor_2(s):this.constructor_1(s,a,l,u,f)}constructor_1(s,a,l,u,f){const d=a==null||l==null,m=u==null||f==null;if(d&&m)throw new G;d?(a=new X(0,u.getY()),l=new X(0,f.getY())):m&&(u=new X(s.getWidth()-1,a.getY()),f=new X(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=f,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),f.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),f.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,a){return s==null?a:a==null?s:new xs(s.image,s.topLeft,s.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(s,a,l){let u=this.topLeft,f=this.bottomLeft,d=this.topRight,m=this.bottomRight;if(s>0){let b=l?this.topLeft:this.topRight,y=Math.trunc(b.getY()-s);y<0&&(y=0);let C=new X(b.getX(),y);l?u=C:d=C}if(a>0){let b=l?this.bottomLeft:this.bottomRight,y=Math.trunc(b.getY()+a);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let C=new X(b.getX(),y);l?f=C:m=C}return new xs(this.image,u,f,d,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Vp{constructor(s,a,l,u){this.columnCount=s,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class vr{constructor(){this.buffer=""}static form(s,a){let l=-1;function u(d,m,b,y,C,S){if(d==="%%")return"%";if(a[++l]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let M=C?parseInt(C.substr(1)):void 0,D;switch(S){case"s":D=a[l];break;case"c":D=a[l][0];break;case"f":D=parseFloat(a[l]).toFixed(d);break;case"p":D=parseFloat(a[l]).toPrecision(d);break;case"e":D=parseFloat(a[l]).toExponential(d);break;case"x":D=parseInt(a[l]).toString(M||16);break;case"d":D=parseFloat(parseInt(a[l],M||10).toPrecision(d)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(M);let B=parseInt(b),U=b&&b[0]+""=="0"?"0":" ";for(;D.length<B;)D=m!==void 0?D+U:U+D;return D}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(f,u)}format(s,...a){this.buffer+=vr.form(s,a)}toString(){return this.buffer}}class Rr{constructor(s){this.boundingBox=new xs(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let a=this.getCodeword(s);if(a!=null)return a;for(let l=1;l<Rr.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(s)-l;if(u>=0&&(a=this.codewords[u],a!=null)||(u=this.imageRowToCodewordIndex(s)+l,u<this.codewords.length&&(a=this.codewords[u],a!=null)))return a}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,a){this.codewords[this.imageRowToCodewordIndex(s)]=a}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new vr;let a=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",a++);continue}s.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return s.toString()}}Rr.MAX_NEARBY_DISTANCE=5;class Dr{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let a=this.values.get(s);a==null&&(a=0),a++,this.values.set(s,a)}getValue(){let s=-1,a=new Array;for(const[l,u]of this.values.entries()){const f={getKey:()=>l,getValue:()=>u};f.getValue()>s?(s=f.getValue(),a=[],a.push(f.getKey())):f.getValue()===s&&a.push(f.getKey())}return Lt.toIntArray(a)}getConfidence(s){return this.values.get(s)}}class oh extends Rr{constructor(s,a){super(s),this._isLeft=a}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,s);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),b=-1,y=1,C=0;for(let S=d;S<m;S++){if(a[S]==null)continue;let M=a[S],D=M.getRowNumber()-b;if(D===0)C++;else if(D===1)y=Math.max(y,C),C=1,b=M.getRowNumber();else if(D<0||M.getRowNumber()>=s.getRowCount()||D>S)a[S]=null;else{let B;y>2?B=(y-2)*D:B=D;let U=B>=S;for(let j=1;j<=B&&!U;j++)U=a[S-j]!=null;U?a[S]=null:(b=M.getRowNumber(),C=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let a=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(s){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.getCodewords(),b=-1;for(let y=f;y<d;y++){if(m[y]==null)continue;let C=m[y];C.setRowNumberAsRowIndicatorColumn();let S=C.getRowNumber()-b;S===0||(S===1?b=C.getRowNumber():C.getRowNumber()>=s.getRowCount()?m[y]=null:b=C.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),a=new Dr,l=new Dr,u=new Dr,f=new Dr;for(let m of s){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let b=m.getValue()%30,y=m.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:l.setValue(b*3+1);break;case 1:f.setValue(b/3),u.setValue(b%3);break;case 2:a.setValue(b+1);break}}if(a.getValue().length===0||l.getValue().length===0||u.getValue().length===0||f.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Lt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Lt.MAX_ROWS_IN_BARCODE)return null;let d=new Vp(a.getValue()[0],l.getValue()[0],u.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(s,d),d}removeIncorrectCodewords(s,a){for(let l=0;l<s.length;l++){let u=s[l];if(s[l]==null)continue;let f=u.getValue()%30,d=u.getRowNumber();if(d>a.getRowCount()){s[l]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:f*3+1!==a.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(f/3)!==a.getErrorCorrectionLevel()||f%3!==a.getRowCountLowerPart())&&(s[l]=null);break;case 2:f+1!==a.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Nr{constructor(s,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Lt.MAX_CODEWORDS_IN_BARCODE,a;do a=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&a[l]!=null&&s[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let f=this.detectionResultColumns[u].getCodewords()[l];f!=null&&(f.setRowNumber(s[l].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),f=0;for(let d=this.barcodeColumnCount+1;d>0&&f<this.ADJUST_ROW_NUMBER_SKIP;d--){let m=this.detectionResultColumns[d].getCodewords()[l];m!=null&&(f=Nr.adjustRowNumberIfValid(u,f,m),m.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),f=0;for(let d=1;d<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;d++){let m=this.detectionResultColumns[d].getCodewords()[l];m!=null&&(f=Nr.adjustRowNumberIfValid(u,f,m),m.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),a=0):++a),a}adjustRowNumbers(s,a,l){if(!this.detectionResultColumns[s-1])return;let u=l[a],f=this.detectionResultColumns[s-1].getCodewords(),d=f;this.detectionResultColumns[s+1]!=null&&(d=this.detectionResultColumns[s+1].getCodewords());let m=new Array(14);m[2]=f[a],m[3]=d[a],a>0&&(m[0]=l[a-1],m[4]=f[a-1],m[5]=d[a-1]),a>1&&(m[8]=l[a-2],m[10]=f[a-2],m[11]=d[a-2]),a<l.length-1&&(m[1]=l[a+1],m[6]=f[a+1],m[7]=d[a+1]),a<l.length-2&&(m[9]=l[a+2],m[12]=f[a+2],m[13]=d[a+2]);for(let b of m)if(Nr.adjustRowNumber(u,b))return}static adjustRowNumber(s,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===s.getBucket()?(s.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,a){this.detectionResultColumns[s]=a}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new vr;for(let l=0;l<s.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){a.format("    |   ");continue}let f=this.detectionResultColumns[u].getCodewords()[l];if(f==null){a.format("    |   ");continue}a.format(" %3d|%3d",f.getRowNumber(),f.getValue())}a.format("%n")}return a.toString()}}class kr{constructor(s,a,l,u){this.rowNumber=kr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==kr.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}kr.BARCODE_ROW_UNKNOWN=-1;class Sn{static initialize(){for(let s=0;s<Lt.SYMBOL_TABLE.length;s++){let a=Lt.SYMBOL_TABLE[s],l=a&1;for(let u=0;u<Lt.BARS_IN_MODULE;u++){let f=0;for(;(a&1)===l;)f+=1,a>>=1;l=a&1,Sn.RATIOS_TABLE[s]||(Sn.RATIOS_TABLE[s]=new Array(Lt.BARS_IN_MODULE)),Sn.RATIOS_TABLE[s][Lt.BARS_IN_MODULE-u-1]=Math.fround(f/Lt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let a=Sn.getDecodedCodewordValue(Sn.sampleBitCounts(s));return a!==-1?a:Sn.getClosestDecodedValue(s)}static sampleBitCounts(s){let a=it.sum(s),l=new Int32Array(Lt.BARS_IN_MODULE),u=0,f=0;for(let d=0;d<Lt.MODULES_IN_CODEWORD;d++){let m=a/(2*Lt.MODULES_IN_CODEWORD)+d*a/Lt.MODULES_IN_CODEWORD;f+s[u]<=m&&(f+=s[u],u++),l[u]++}return l}static getDecodedCodewordValue(s){let a=Sn.getBitValue(s);return Lt.getCodeword(a)===-1?-1:a}static getBitValue(s){let a=0;for(let l=0;l<s.length;l++)for(let u=0;u<s[l];u++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(s){let a=it.sum(s),l=new Array(Lt.BARS_IN_MODULE);if(a>1)for(let d=0;d<l.length;d++)l[d]=Math.fround(s[d]/a);let u=dt.MAX_VALUE,f=-1;this.bSymbolTableReady||Sn.initialize();for(let d=0;d<Sn.RATIOS_TABLE.length;d++){let m=0,b=Sn.RATIOS_TABLE[d];for(let y=0;y<Lt.BARS_IN_MODULE;y++){let C=Math.fround(b[y]-l[y]);if(m+=Math.fround(C*C),m>=u)break}m<u&&(u=m,f=Lt.SYMBOL_TABLE[d])}return f}}Sn.bSymbolTableReady=!1,Sn.RATIOS_TABLE=new Array(Lt.SYMBOL_TABLE.length).map(E=>new Array(Lt.BARS_IN_MODULE));class ah{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class lh{static parseLong(s,a=void 0){return parseInt(s,a)}}class ch extends p{}ch.kind="NullPointerException";class Hp{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,a,l){if(s==null)throw new ch;if(a<0||a>s.length||l<0||a+l>s.length||a+l<0)throw new v;if(l===0)return;for(let u=0;u<l;u++)this.write(s[a+u])}flush(){}close(){}}class zp extends p{}class jp extends Hp{constructor(s=32){if(super(),this.count=0,s<0)throw new w("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new zp;l=F.MAX_VALUE}this.buf=L.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,a,l){if(a<0||a>s.length||l<0||a+l-s.length>0)throw new v;this.ensureCapacity(this.count+l),T.arraycopy(s,a,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return L.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var xe;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(xe||(xe={}));function uh(){if(typeof window<"u")return window.BigInt||null;if(typeof pa<"u")return pa.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Xo;function Xi(E){if(typeof Xo>"u"&&(Xo=uh()),Xo===null)throw new Error("BigInt is not supported!");return Xo(E)}function Wp(){let E=[];E[0]=Xi(1);let s=Xi(900);E[1]=s;for(let a=2;a<16;a++)E[a]=E[a-1]*s;return E}class Z{static decode(s,a){let l=new Ot(""),u=K.ISO8859_1;l.enableDecoding(u);let f=1,d=s[f++],m=new ah;for(;f<s[0];){switch(d){case Z.TEXT_COMPACTION_MODE_LATCH:f=Z.textCompaction(s,f,l);break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:f=Z.byteCompaction(d,s,u,f,l);break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[f++]);break;case Z.NUMERIC_COMPACTION_MODE_LATCH:f=Z.numericCompaction(s,f,l);break;case Z.ECI_CHARSET:K.getCharacterSetECIByValue(s[f++]);break;case Z.ECI_GENERAL_PURPOSE:f+=2;break;case Z.ECI_USER_DEFINED:f++;break;case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=Z.decodeMacroBlock(s,f,m);break;case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:throw new H;default:f--,f=Z.textCompaction(s,f,l);break}if(f<s.length)d=s[f++];else throw H.getFormatInstance()}if(l.length()===0)throw H.getFormatInstance();let b=new mt(null,l.toString(),null,a);return b.setOther(m),b}static decodeMacroBlock(s,a,l){if(a+Z.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw H.getFormatInstance();let u=new Int32Array(Z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<Z.NUMBER_OF_SEQUENCE_CODEWORDS;m++,a++)u[m]=s[a];l.setSegmentIndex(F.parseInt(Z.decodeBase900toBase10(u,Z.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new Ot;a=Z.textCompaction(s,a,f),l.setFileId(f.toString());let d=-1;for(s[a]===Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=a+1);a<s[0];)switch(s[a]){case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,s[a]){case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new Ot;a=Z.textCompaction(s,a+1,m),l.setFileName(m.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new Ot;a=Z.textCompaction(s,a+1,b),l.setSender(b.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new Ot;a=Z.textCompaction(s,a+1,y),l.setAddressee(y.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Ot;a=Z.numericCompaction(s,a+1,C),l.setSegmentCount(F.parseInt(C.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new Ot;a=Z.numericCompaction(s,a+1,S),l.setTimestamp(lh.parseLong(S.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let M=new Ot;a=Z.numericCompaction(s,a+1,M),l.setChecksum(F.parseInt(M.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let D=new Ot;a=Z.numericCompaction(s,a+1,D),l.setFileSize(lh.parseLong(D.toString()));break;default:throw H.getFormatInstance()}break;case Z.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(d!==-1){let m=a-d;l.isLastSegment()&&m--,l.setOptionalData(L.copyOfRange(s,d,d+m))}return a}static textCompaction(s,a,l){let u=new Int32Array((s[0]-a)*2),f=new Int32Array((s[0]-a)*2),d=0,m=!1;for(;a<s[0]&&!m;){let b=s[a++];if(b<Z.TEXT_COMPACTION_MODE_LATCH)u[d]=b/30,u[d+1]=b%30,d+=2;else switch(b){case Z.TEXT_COMPACTION_MODE_LATCH:u[d++]=Z.TEXT_COMPACTION_MODE_LATCH;break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:a--,m=!0;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[d]=Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=s[a++],f[d]=b,d++;break}}return Z.decodeTextCompaction(u,f,d,l),a}static decodeTextCompaction(s,a,l,u){let f=xe.ALPHA,d=xe.ALPHA,m=0;for(;m<l;){let b=s[m],y="";switch(f){case xe.ALPHA:if(b<26)y=String.fromCharCode(65+b);else switch(b){case 26:y=" ";break;case Z.LL:f=xe.LOWER;break;case Z.ML:f=xe.MIXED;break;case Z.PS:d=f,f=xe.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Z.TEXT_COMPACTION_MODE_LATCH:f=xe.ALPHA;break}break;case xe.LOWER:if(b<26)y=String.fromCharCode(97+b);else switch(b){case 26:y=" ";break;case Z.AS:d=f,f=xe.ALPHA_SHIFT;break;case Z.ML:f=xe.MIXED;break;case Z.PS:d=f,f=xe.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Z.TEXT_COMPACTION_MODE_LATCH:f=xe.ALPHA;break}break;case xe.MIXED:if(b<Z.PL)y=Z.MIXED_CHARS[b];else switch(b){case Z.PL:f=xe.PUNCT;break;case 26:y=" ";break;case Z.LL:f=xe.LOWER;break;case Z.AL:f=xe.ALPHA;break;case Z.PS:d=f,f=xe.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Z.TEXT_COMPACTION_MODE_LATCH:f=xe.ALPHA;break}break;case xe.PUNCT:if(b<Z.PAL)y=Z.PUNCT_CHARS[b];else switch(b){case Z.PAL:f=xe.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Z.TEXT_COMPACTION_MODE_LATCH:f=xe.ALPHA;break}break;case xe.ALPHA_SHIFT:if(f=d,b<26)y=String.fromCharCode(65+b);else switch(b){case 26:y=" ";break;case Z.TEXT_COMPACTION_MODE_LATCH:f=xe.ALPHA;break}break;case xe.PUNCT_SHIFT:if(f=d,b<Z.PAL)y=Z.PUNCT_CHARS[b];else switch(b){case Z.PAL:f=xe.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Z.TEXT_COMPACTION_MODE_LATCH:f=xe.ALPHA;break}break}y!==""&&u.append(y),m++}}static byteCompaction(s,a,l,u,f){let d=new jp,m=0,b=0,y=!1;switch(s){case Z.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),S=a[u++];for(;u<a[0]&&!y;)switch(C[m++]=S,b=900*b+S,S=a[u++],S){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:u--,y=!0;break;default:if(m%5===0&&m>0){for(let M=0;M<6;++M)d.write(Number(Xi(b)>>Xi(8*(5-M))));b=0,m=0}break}u===a[0]&&S<Z.TEXT_COMPACTION_MODE_LATCH&&(C[m++]=S);for(let M=0;M<m;M++)d.write(C[M]);break;case Z.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!y;){let M=a[u++];if(M<Z.TEXT_COMPACTION_MODE_LATCH)m++,b=900*b+M;else switch(M){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:u--,y=!0;break}if(m%5===0&&m>0){for(let D=0;D<6;++D)d.write(Number(Xi(b)>>Xi(8*(5-D))));b=0,m=0}}break}return f.append(At.decode(d.toByteArray(),l)),u}static numericCompaction(s,a,l){let u=0,f=!1,d=new Int32Array(Z.MAX_NUMERIC_CODEWORDS);for(;a<s[0]&&!f;){let m=s[a++];if(a===s[0]&&(f=!0),m<Z.TEXT_COMPACTION_MODE_LATCH)d[u]=m,u++;else switch(m){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:a--,f=!0;break}(u%Z.MAX_NUMERIC_CODEWORDS===0||m===Z.NUMERIC_COMPACTION_MODE_LATCH||f)&&u>0&&(l.append(Z.decodeBase900toBase10(d,u)),u=0)}return a}static decodeBase900toBase10(s,a){let l=Xi(0);for(let f=0;f<a;f++)l+=Z.EXP900[a-f-1]*Xi(s[f]);let u=l.toString();if(u.charAt(0)!=="1")throw new H;return u.substring(1)}}Z.TEXT_COMPACTION_MODE_LATCH=900,Z.BYTE_COMPACTION_MODE_LATCH=901,Z.NUMERIC_COMPACTION_MODE_LATCH=902,Z.BYTE_COMPACTION_MODE_LATCH_6=924,Z.ECI_USER_DEFINED=925,Z.ECI_GENERAL_PURPOSE=926,Z.ECI_CHARSET=927,Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Z.MACRO_PDF417_TERMINATOR=922,Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Z.MAX_NUMERIC_CODEWORDS=15,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Z.PL=25,Z.LL=27,Z.AS=27,Z.ML=28,Z.AL=28,Z.PS=29,Z.PAL=29,Z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Z.EXP900=uh()?Wp():[],Z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Yt{constructor(){}static decode(s,a,l,u,f,d,m){let b=new xs(s,a,l,u,f),y=null,C=null,S;for(let B=!0;;B=!1){if(a!=null&&(y=Yt.getRowIndicatorColumn(s,b,a,!0,d,m)),u!=null&&(C=Yt.getRowIndicatorColumn(s,b,u,!1,d,m)),S=Yt.merge(y,C),S==null)throw G.getNotFoundInstance();let U=S.getBoundingBox();if(B&&U!=null&&(U.getMinY()<b.getMinY()||U.getMaxY()>b.getMaxY()))b=U;else break}S.setBoundingBox(b);let M=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,y),S.setDetectionResultColumn(M,C);let D=y!=null;for(let B=1;B<=M;B++){let U=D?B:M-B;if(S.getDetectionResultColumn(U)!==void 0)continue;let j;U===0||U===M?j=new oh(b,U===0):j=new Rr(b),S.setDetectionResultColumn(U,j);let q=-1,lt=q;for(let ut=b.getMinY();ut<=b.getMaxY();ut++){if(q=Yt.getStartColumn(S,U,ut,D),q<0||q>b.getMaxX()){if(lt===-1)continue;q=lt}let at=Yt.detectCodeword(s,b.getMinX(),b.getMaxX(),D,q,ut,d,m);at!=null&&(j.setCodeword(ut,at),lt=q,d=Math.min(d,at.getWidth()),m=Math.max(m,at.getWidth()))}}return Yt.createDecoderResult(S)}static merge(s,a){if(s==null&&a==null)return null;let l=Yt.getBarcodeMetadata(s,a);if(l==null)return null;let u=xs.merge(Yt.adjustBoundingBox(s),Yt.adjustBoundingBox(a));return new Nr(l,u)}static adjustBoundingBox(s){if(s==null)return null;let a=s.getRowHeights();if(a==null)return null;let l=Yt.getMax(a),u=0;for(let m of a)if(u+=l-m,m>0)break;let f=s.getCodewords();for(let m=0;u>0&&f[m]==null;m++)u--;let d=0;for(let m=a.length-1;m>=0&&(d+=l-a[m],!(a[m]>0));m--);for(let m=f.length-1;d>0&&f[m]==null;m--)d--;return s.getBoundingBox().addMissingRows(u,d,s.isLeft())}static getMax(s){let a=-1;for(let l of s)a=Math.max(a,l);return a}static getBarcodeMetadata(s,a){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let u;return a==null||(u=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(s,a,l,u,f,d){let m=new oh(a,u);for(let b=0;b<2;b++){let y=b===0?1:-1,C=Math.trunc(Math.trunc(l.getX()));for(let S=Math.trunc(Math.trunc(l.getY()));S<=a.getMaxY()&&S>=a.getMinY();S+=y){let M=Yt.detectCodeword(s,0,s.getWidth(),u,C,S,f,d);M!=null&&(m.setCodeword(S,M),u?C=M.getStartX():C=M.getEndX())}}return m}static adjustCodewordCount(s,a){let l=a[0][1],u=l.getValue(),f=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Yt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(u.length===0){if(f<1||f>Lt.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();l.setValue(f)}else u[0]!==f&&l.setValue(f)}static createDecoderResult(s){let a=Yt.createBarcodeMatrix(s);Yt.adjustCodewordCount(s,a);let l=new Array,u=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),f=[],d=new Array;for(let b=0;b<s.getBarcodeRowCount();b++)for(let y=0;y<s.getBarcodeColumnCount();y++){let C=a[b][y+1].getValue(),S=b*s.getBarcodeColumnCount()+y;C.length===0?l.push(S):C.length===1?u[S]=C[0]:(d.push(S),f.push(C))}let m=new Array(f.length);for(let b=0;b<m.length;b++)m[b]=f[b];return Yt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),u,Lt.toIntArray(l),Lt.toIntArray(d),m)}static createDecoderResultFromAmbiguousValues(s,a,l,u,f){let d=new Int32Array(u.length),m=100;for(;m-- >0;){for(let b=0;b<d.length;b++)a[u[b]]=f[b][d[b]];try{return Yt.decodeCodewords(a,s,l)}catch(b){if(!(b instanceof _))throw b}if(d.length===0)throw _.getChecksumInstance();for(let b=0;b<d.length;b++)if(d[b]<f[b].length-1){d[b]++;break}else if(d[b]=0,b===d.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(s){let a=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let f=0;f<a[u].length;f++)a[u][f]=new Dr;let l=0;for(let u of s.getDetectionResultColumns()){if(u!=null){for(let f of u.getCodewords())if(f!=null){let d=f.getRowNumber();if(d>=0){if(d>=a.length)continue;a[d][l].setValue(f.getValue())}}}l++}return a}static isValidBarcodeColumn(s,a){return a>=0&&a<=s.getBarcodeColumnCount()+1}static getStartColumn(s,a,l,u){let f=u?1:-1,d=null;if(Yt.isValidBarcodeColumn(s,a-f)&&(d=s.getDetectionResultColumn(a-f).getCodeword(l)),d!=null)return u?d.getEndX():d.getStartX();if(d=s.getDetectionResultColumn(a).getCodewordNearby(l),d!=null)return u?d.getStartX():d.getEndX();if(Yt.isValidBarcodeColumn(s,a-f)&&(d=s.getDetectionResultColumn(a-f).getCodewordNearby(l)),d!=null)return u?d.getEndX():d.getStartX();let m=0;for(;Yt.isValidBarcodeColumn(s,a-f);){a-=f;for(let b of s.getDetectionResultColumn(a).getCodewords())if(b!=null)return(u?b.getEndX():b.getStartX())+f*m*(b.getEndX()-b.getStartX());m++}return u?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,a,l,u,f,d,m,b){f=Yt.adjustCodewordStartColumn(s,a,l,u,f,d);let y=Yt.getModuleBitCount(s,a,l,u,f,d);if(y==null)return null;let C,S=it.sum(y);if(u)C=f+S;else{for(let B=0;B<y.length/2;B++){let U=y[B];y[B]=y[y.length-1-B],y[y.length-1-B]=U}C=f,f=C-S}if(!Yt.checkCodewordSkew(S,m,b))return null;let M=Sn.getDecodedValue(y),D=Lt.getCodeword(M);return D===-1?null:new kr(f,C,Yt.getCodewordBucketNumber(M),D)}static getModuleBitCount(s,a,l,u,f,d){let m=f,b=new Int32Array(8),y=0,C=u?1:-1,S=u;for(;(u?m<l:m>=a)&&y<b.length;)s.get(m,d)===S?(b[y]++,m+=C):(y++,S=!S);return y===b.length||m===(u?l:a)&&y===b.length-1?b:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,a,l,u,f,d){let m=f,b=u?-1:1;for(let y=0;y<2;y++){for(;(u?m>=a:m<l)&&u===s.get(m,d);){if(Math.abs(f-m)>Yt.CODEWORD_SKEW_SIZE)return f;m+=b}b=-b,u=!u}return m}static checkCodewordSkew(s,a,l){return a-Yt.CODEWORD_SKEW_SIZE<=s&&s<=l+Yt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,a,l){if(s.length===0)throw H.getFormatInstance();let u=1<<a+1,f=Yt.correctErrors(s,l,u);Yt.verifyCodewordCount(s,u);let d=Z.decode(s,""+a);return d.setErrorsCorrected(f),d.setErasures(l.length),d}static correctErrors(s,a,l){if(a!=null&&a.length>l/2+Yt.MAX_ERRORS||l<0||l>Yt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Yt.errorCorrection.decode(s,l,a)}static verifyCodewordCount(s,a){if(s.length<4)throw H.getFormatInstance();let l=s[0];if(l>s.length)throw H.getFormatInstance();if(l===0)if(a<s.length)s[0]=s.length-a;else throw H.getFormatInstance()}static getBitCountForCodeword(s){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((s&1)!==l&&(l=s&1,u--,u<0));)a[u]++,s>>=1;return a}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Yt.getCodewordBucketNumber(Yt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let a=new vr;for(let l=0;l<s.length;l++){a.format("Row %2d: ",l);for(let u=0;u<s[l].length;u++){let f=s[l][u];f.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}a.format("%n")}return a.toString()}}Yt.CODEWORD_SKEW_SIZE=2,Yt.MAX_ERRORS=3,Yt.MAX_EC_CODEWORDS=512,Yt.errorCorrection=new rh;class sn{decode(s,a=null){let l=sn.decode(s,a,!1);if(l==null||l.length===0||l[0]==null)throw G.getNotFoundInstance();return l[0]}decodeMultiple(s,a=null){try{return sn.decode(s,a,!0)}catch(l){throw l instanceof H||l instanceof _?G.getNotFoundInstance():l}}static decode(s,a,l){const u=new Array,f=Gt.detectMultiple(s,a,l);for(const d of f.getPoints()){const m=Yt.decode(f.getBits(),d[4],d[5],d[6],d[7],sn.getMinCodewordWidth(d),sn.getMaxCodewordWidth(d)),b=new ae(m.getText(),m.getRawBytes(),void 0,d,xt.PDF_417);b.putMetadata(ft.ERROR_CORRECTION_LEVEL,m.getECLevel());const y=m.getOther();y!=null&&b.putMetadata(ft.PDF417_EXTRA_METADATA,y),u.push(b)}return u.map(d=>d)}static getMaxWidth(s,a){return s==null||a==null?0:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMinWidth(s,a){return s==null||a==null?F.MAX_VALUE:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(sn.getMaxWidth(s[0],s[4]),sn.getMaxWidth(s[6],s[2])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN),Math.max(sn.getMaxWidth(s[1],s[5]),sn.getMaxWidth(s[7],s[3])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(sn.getMinWidth(s[0],s[4]),sn.getMinWidth(s[6],s[2])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN),Math.min(sn.getMinWidth(s[1],s[5]),sn.getMinWidth(s[7],s[3])*Lt.MODULES_IN_CODEWORD/Lt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ko extends p{}Ko.kind="ReaderException";class hh{constructor(s,a){this.verbose=s===!0,a&&this.setHints(a)}decode(s,a){return a&&this.setHints(a),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const a=!i(s)&&s.get(Q.TRY_HARDER)===!0,l=i(s)?null:s.get(Q.POSSIBLE_FORMATS),u=new Array;if(!i(l)){const f=l.some(d=>d===xt.UPC_A||d===xt.UPC_E||d===xt.EAN_13||d===xt.EAN_8||d===xt.CODABAR||d===xt.CODE_39||d===xt.CODE_93||d===xt.CODE_128||d===xt.ITF||d===xt.RSS_14||d===xt.RSS_EXPANDED);f&&!a&&u.push(new Ks(s,this.verbose)),l.includes(xt.QR_CODE)&&u.push(new Yi),l.includes(xt.DATA_MATRIX)&&u.push(new Gi),l.includes(xt.AZTEC)&&u.push(new bn),l.includes(xt.PDF_417)&&u.push(new sn),f&&a&&u.push(new Ks(s,this.verbose))}u.length===0&&(a||u.push(new Ks(s,this.verbose)),u.push(new Yi),u.push(new Gi),u.push(new bn),u.push(new sn),a&&u.push(new Ks(s,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Ko("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(s,this.hints)}catch(l){if(l instanceof Ko)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class Gp extends Ye{constructor(s=null,a=500){const l=new hh;l.setHints(s),super(l,a)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class Yp extends Ye{constructor(s=500){super(new sn,s)}}class Xp extends Ye{constructor(s=500){super(new Yi,s)}}var Bl;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(Bl||(Bl={}));var Ze=Bl;class Fl{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Vt(s,Int32Array.from([1])))}buildGenerator(s){const a=this.cachedGenerators;if(s>=a.length){let l=a[a.length-1];const u=this.field;for(let f=a.length;f<=s;f++){const d=l.multiply(new Vt(u,Int32Array.from([1,u.exp(f-1+u.getGeneratorBase())])));a.push(d),l=d}}return a[s]}encode(s,a){if(a===0)throw new w("No error correction bytes");const l=s.length-a;if(l<=0)throw new w("No data bytes provided");const u=this.buildGenerator(a),f=new Int32Array(l);T.arraycopy(s,0,f,0,l);let d=new Vt(this.field,f);d=d.multiplyByMonomial(a,1);const b=d.divide(u)[1].getCoefficients(),y=a-b.length;for(let C=0;C<y;C++)s[l+C]=0;T.arraycopy(b,0,s,l+y,b.length)}}class Ve{constructor(){}static applyMaskPenaltyRule1(s){return Ve.applyMaskPenaltyRule1Internal(s,!0)+Ve.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let a=0;const l=s.getArray(),u=s.getWidth(),f=s.getHeight();for(let d=0;d<f-1;d++){const m=l[d];for(let b=0;b<u-1;b++){const y=m[b];y===m[b+1]&&y===l[d+1][b]&&y===l[d+1][b+1]&&a++}}return Ve.N2*a}static applyMaskPenaltyRule3(s){let a=0;const l=s.getArray(),u=s.getWidth(),f=s.getHeight();for(let d=0;d<f;d++)for(let m=0;m<u;m++){const b=l[d];m+6<u&&b[m]===1&&b[m+1]===0&&b[m+2]===1&&b[m+3]===1&&b[m+4]===1&&b[m+5]===0&&b[m+6]===1&&(Ve.isWhiteHorizontal(b,m-4,m)||Ve.isWhiteHorizontal(b,m+7,m+11))&&a++,d+6<f&&l[d][m]===1&&l[d+1][m]===0&&l[d+2][m]===1&&l[d+3][m]===1&&l[d+4][m]===1&&l[d+5][m]===0&&l[d+6][m]===1&&(Ve.isWhiteVertical(l,m,d-4,d)||Ve.isWhiteVertical(l,m,d+7,d+11))&&a++}return a*Ve.N3}static isWhiteHorizontal(s,a,l){a=Math.max(a,0),l=Math.min(l,s.length);for(let u=a;u<l;u++)if(s[u]===1)return!1;return!0}static isWhiteVertical(s,a,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let f=l;f<u;f++)if(s[f][a]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let a=0;const l=s.getArray(),u=s.getWidth(),f=s.getHeight();for(let b=0;b<f;b++){const y=l[b];for(let C=0;C<u;C++)y[C]===1&&a++}const d=s.getHeight()*s.getWidth();return Math.floor(Math.abs(a*2-d)*10/d)*Ve.N4}static getDataMaskBit(s,a,l){let u,f;switch(s){case 0:u=l+a&1;break;case 1:u=l&1;break;case 2:u=a%3;break;case 3:u=(l+a)%3;break;case 4:u=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:f=l*a,u=(f&1)+f%3;break;case 6:f=l*a,u=(f&1)+f%3&1;break;case 7:f=l*a,u=f%3+(l+a&1)&1;break;default:throw new w("Invalid mask pattern: "+s)}return u===0}static applyMaskPenaltyRule1Internal(s,a){let l=0;const u=a?s.getHeight():s.getWidth(),f=a?s.getWidth():s.getHeight(),d=s.getArray();for(let m=0;m<u;m++){let b=0,y=-1;for(let C=0;C<f;C++){const S=a?d[m][C]:d[C][m];S===y?b++:(b>=5&&(l+=Ve.N1+(b-5)),b=1,y=S)}b>=5&&(l+=Ve.N1+(b-5))}return l}}Ve.N1=3,Ve.N2=3,Ve.N3=40,Ve.N4=10;class Zo{constructor(s,a){this.width=s,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,a){return this.bytes[a][s]}getArray(){return this.bytes}setNumber(s,a,l){this.bytes[a][s]=l}setBoolean(s,a,l){this.bytes[a][s]=l?1:0}clear(s){for(const a of this.bytes)L.fill(a,s)}equals(s){if(!(s instanceof Zo))return!1;const a=s;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const f=this.bytes[l],d=a.bytes[l];for(let m=0,b=this.width;m<b;++m)if(f[m]!==d[m])return!1}return!0}toString(){const s=new Ot;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let f=0,d=this.width;f<d;++f)switch(u[f]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class bs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Ot;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<bs.NUM_MASK_PATTERNS}}bs.NUM_MASK_PATTERNS=8;class we extends p{}we.kind="WriterException";class Nt{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,a,l,u,f){Nt.clearMatrix(f),Nt.embedBasicPatterns(l,f),Nt.embedTypeInfo(a,u,f),Nt.maybeEmbedVersionInfo(l,f),Nt.embedDataBits(s,u,f)}static embedBasicPatterns(s,a){Nt.embedPositionDetectionPatternsAndSeparators(a),Nt.embedDarkDotAtLeftBottomCorner(a),Nt.maybeEmbedPositionAdjustmentPatterns(s,a),Nt.embedTimingPatterns(a)}static embedTypeInfo(s,a,l){const u=new V;Nt.makeTypeInfoBits(s,a,u);for(let f=0,d=u.getSize();f<d;++f){const m=u.get(u.getSize()-1-f),b=Nt.TYPE_INFO_COORDINATES[f],y=b[0],C=b[1];if(l.setBoolean(y,C,m),f<8){const S=l.getWidth()-f-1;l.setBoolean(S,8,m)}else{const M=l.getHeight()-7+(f-8);l.setBoolean(8,M,m)}}}static maybeEmbedVersionInfo(s,a){if(s.getVersionNumber()<7)return;const l=new V;Nt.makeVersionInfoBits(s,l);let u=6*3-1;for(let f=0;f<6;++f)for(let d=0;d<3;++d){const m=l.get(u);u--,a.setBoolean(f,a.getHeight()-11+d,m),a.setBoolean(a.getHeight()-11+d,f,m)}}static embedDataBits(s,a,l){let u=0,f=-1,d=l.getWidth()-1,m=l.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);m>=0&&m<l.getHeight();){for(let b=0;b<2;++b){const y=d-b;if(!Nt.isEmpty(l.get(y,m)))continue;let C;u<s.getSize()?(C=s.get(u),++u):C=!1,a!==255&&Ve.getDataMaskBit(a,y,m)&&(C=!C),l.setBoolean(y,m,C)}m+=f}f=-f,m+=f,d-=2}if(u!==s.getSize())throw new we("Not all bits consumed: "+u+"/"+s.getSize())}static findMSBSet(s){return 32-F.numberOfLeadingZeros(s)}static calculateBCHCode(s,a){if(a===0)throw new w("0 polynomial");const l=Nt.findMSBSet(a);for(s<<=l-1;Nt.findMSBSet(s)>=l;)s^=a<<Nt.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,a,l){if(!bs.isValidMaskPattern(a))throw new we("Invalid mask pattern");const u=s.getBits()<<3|a;l.appendBits(u,5);const f=Nt.calculateBCHCode(u,Nt.TYPE_INFO_POLY);l.appendBits(f,10);const d=new V;if(d.appendBits(Nt.TYPE_INFO_MASK_PATTERN,15),l.xor(d),l.getSize()!==15)throw new we("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,a){a.appendBits(s.getVersionNumber(),6);const l=Nt.calculateBCHCode(s.getVersionNumber(),Nt.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new we("should not happen but we got: "+a.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let a=8;a<s.getWidth()-8;++a){const l=(a+1)%2;Nt.isEmpty(s.get(a,6))&&s.setNumber(a,6,l),Nt.isEmpty(s.get(6,a))&&s.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new we;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,a,l){for(let u=0;u<8;++u){if(!Nt.isEmpty(l.get(s+u,a)))throw new we;l.setNumber(s+u,a,0)}}static embedVerticalSeparationPattern(s,a,l){for(let u=0;u<7;++u){if(!Nt.isEmpty(l.get(s,a+u)))throw new we;l.setNumber(s,a+u,0)}}static embedPositionAdjustmentPattern(s,a,l){for(let u=0;u<5;++u){const f=Nt.POSITION_ADJUSTMENT_PATTERN[u];for(let d=0;d<5;++d)l.setNumber(s+d,a+u,f[d])}}static embedPositionDetectionPattern(s,a,l){for(let u=0;u<7;++u){const f=Nt.POSITION_DETECTION_PATTERN[u];for(let d=0;d<7;++d)l.setNumber(s+d,a+u,f[d])}}static embedPositionDetectionPatternsAndSeparators(s){const a=Nt.POSITION_DETECTION_PATTERN[0].length;Nt.embedPositionDetectionPattern(0,0,s),Nt.embedPositionDetectionPattern(s.getWidth()-a,0,s),Nt.embedPositionDetectionPattern(0,s.getWidth()-a,s);const l=8;Nt.embedHorizontalSeparationPattern(0,l-1,s),Nt.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),Nt.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const u=7;Nt.embedVerticalSeparationPattern(u,0,s),Nt.embedVerticalSeparationPattern(s.getHeight()-u-1,0,s),Nt.embedVerticalSeparationPattern(u,s.getHeight()-u,s)}static maybeEmbedPositionAdjustmentPatterns(s,a){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,u=Nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let f=0,d=u.length;f!==d;f++){const m=u[f];if(m>=0)for(let b=0;b!==d;b++){const y=u[b];y>=0&&Nt.isEmpty(a.get(y,m))&&Nt.embedPositionAdjustmentPattern(y-2,m-2,a)}}}}Nt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Nt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Nt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Nt.VERSION_INFO_POLY=7973,Nt.TYPE_INFO_POLY=1335,Nt.TYPE_INFO_MASK_PATTERN=21522;class Kp{constructor(s,a){this.dataBytes=s,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Me{constructor(){}static calculateMaskPenalty(s){return Ve.applyMaskPenaltyRule1(s)+Ve.applyMaskPenaltyRule2(s)+Ve.applyMaskPenaltyRule3(s)+Ve.applyMaskPenaltyRule4(s)}static encode(s,a,l=null){let u=Me.DEFAULT_BYTE_MODE_ENCODING;const f=l!==null&&l.get(Ze.CHARACTER_SET)!==void 0;f&&(u=l.get(Ze.CHARACTER_SET).toString());const d=this.chooseMode(s,u),m=new V;if(d===Dt.BYTE&&(f||Me.DEFAULT_BYTE_MODE_ENCODING!==u)){const ut=K.getCharacterSetECIByName(u);ut!==void 0&&this.appendECI(ut,m)}this.appendModeInfo(d,m);const b=new V;this.appendBytes(s,d,b,u);let y;if(l!==null&&l.get(Ze.QR_VERSION)!==void 0){const ut=Number.parseInt(l.get(Ze.QR_VERSION).toString(),10);y=vt.getVersionForNumber(ut);const at=this.calculateBitsNeeded(d,m,b,y);if(!this.willFit(at,y,a))throw new we("Data too big for requested version")}else y=this.recommendVersion(a,d,m,b);const C=new V;C.appendBitArray(m);const S=d===Dt.BYTE?b.getSizeInBytes():s.length;this.appendLengthInfo(S,y,d,C),C.appendBitArray(b);const M=y.getECBlocksForLevel(a),D=y.getTotalCodewords()-M.getTotalECCodewords();this.terminateBits(D,C);const B=this.interleaveWithECBytes(C,y.getTotalCodewords(),D,M.getNumBlocks()),U=new bs;U.setECLevel(a),U.setMode(d),U.setVersion(y);const j=y.getDimensionForVersion(),q=new Zo(j,j),lt=this.chooseMaskPattern(B,a,y,q);return U.setMaskPattern(lt),Nt.buildMatrix(B,a,y,lt,q),U.setMatrix(q),U}static recommendVersion(s,a,l,u){const f=this.calculateBitsNeeded(a,l,u,vt.getVersionForNumber(1)),d=this.chooseVersion(f,s),m=this.calculateBitsNeeded(a,l,u,d);return this.chooseVersion(m,s)}static calculateBitsNeeded(s,a,l,u){return a.getSize()+s.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(s){return s<Me.ALPHANUMERIC_TABLE.length?Me.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,a=null){if(K.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(s))return Dt.KANJI;let l=!1,u=!1;for(let f=0,d=s.length;f<d;++f){const m=s.charAt(f);if(Me.isDigit(m))l=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)u=!0;else return Dt.BYTE}return u?Dt.ALPHANUMERIC:l?Dt.NUMERIC:Dt.BYTE}static isOnlyDoubleByteKanji(s){let a;try{a=At.encode(s,K.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const f=a[u]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(s,a,l,u){let f=Number.MAX_SAFE_INTEGER,d=-1;for(let m=0;m<bs.NUM_MASK_PATTERNS;m++){Nt.buildMatrix(s,a,l,m,u);let b=this.calculateMaskPenalty(u);b<f&&(f=b,d=m)}return d}static chooseVersion(s,a){for(let l=1;l<=40;l++){const u=vt.getVersionForNumber(l);if(Me.willFit(s,u,a))return u}throw new we("Data too big")}static willFit(s,a,l){const u=a.getTotalCodewords(),d=a.getECBlocksForLevel(l).getTotalECCodewords(),m=u-d,b=(s+7)/8;return m>=b}static terminateBits(s,a){const l=s*8;if(a.getSize()>l)throw new we("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let d=0;d<4&&a.getSize()<l;++d)a.appendBit(!1);const u=a.getSize()&7;if(u>0)for(let d=u;d<8;d++)a.appendBit(!1);const f=s-a.getSizeInBytes();for(let d=0;d<f;++d)a.appendBits(d&1?17:236,8);if(a.getSize()!==l)throw new we("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,a,l,u,f,d){if(u>=l)throw new we("Block ID too large");const m=s%l,b=l-m,y=Math.floor(s/l),C=y+1,S=Math.floor(a/l),M=S+1,D=y-S,B=C-M;if(D!==B)throw new we("EC bytes mismatch");if(l!==b+m)throw new we("RS blocks mismatch");if(s!==(S+D)*b+(M+B)*m)throw new we("Total bytes mismatch");u<b?(f[0]=S,d[0]=D):(f[0]=M,d[0]=B)}static interleaveWithECBytes(s,a,l,u){if(s.getSizeInBytes()!==l)throw new we("Number of bits and data bytes does not match");let f=0,d=0,m=0;const b=new Array;for(let C=0;C<u;++C){const S=new Int32Array(1),M=new Int32Array(1);Me.getNumDataBytesAndNumECBytesForBlockID(a,l,u,C,S,M);const D=S[0],B=new Uint8Array(D);s.toBytes(8*f,B,0,D);const U=Me.generateECBytes(B,M[0]);b.push(new Kp(B,U)),d=Math.max(d,D),m=Math.max(m,U.length),f+=S[0]}if(l!==f)throw new we("Data bytes does not match offset");const y=new V;for(let C=0;C<d;++C)for(const S of b){const M=S.getDataBytes();C<M.length&&y.appendBits(M[C],8)}for(let C=0;C<m;++C)for(const S of b){const M=S.getErrorCorrectionBytes();C<M.length&&y.appendBits(M[C],8)}if(a!==y.getSizeInBytes())throw new we("Interleaving error: "+a+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(s,a){const l=s.length,u=new Int32Array(l+a);for(let d=0;d<l;d++)u[d]=s[d]&255;new Fl(N.QR_CODE_FIELD_256).encode(u,a);const f=new Uint8Array(a);for(let d=0;d<a;d++)f[d]=u[l+d];return f}static appendModeInfo(s,a){a.appendBits(s.getBits(),4)}static appendLengthInfo(s,a,l,u){const f=l.getCharacterCountBits(a);if(s>=1<<f)throw new we(s+" is bigger than "+((1<<f)-1));u.appendBits(s,f)}static appendBytes(s,a,l,u){switch(a){case Dt.NUMERIC:Me.appendNumericBytes(s,l);break;case Dt.ALPHANUMERIC:Me.appendAlphanumericBytes(s,l);break;case Dt.BYTE:Me.append8BitBytes(s,l,u);break;case Dt.KANJI:Me.appendKanjiBytes(s,l);break;default:throw new we("Invalid mode: "+a)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const a=Me.getDigit(s);return a>=0&&a<=9}static appendNumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const f=Me.getDigit(s.charAt(u));if(u+2<l){const d=Me.getDigit(s.charAt(u+1)),m=Me.getDigit(s.charAt(u+2));a.appendBits(f*100+d*10+m,10),u+=3}else if(u+1<l){const d=Me.getDigit(s.charAt(u+1));a.appendBits(f*10+d,7),u+=2}else a.appendBits(f,4),u++}}static appendAlphanumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const f=Me.getAlphanumericCode(s.charCodeAt(u));if(f===-1)throw new we;if(u+1<l){const d=Me.getAlphanumericCode(s.charCodeAt(u+1));if(d===-1)throw new we;a.appendBits(f*45+d,11),u+=2}else a.appendBits(f,6),u++}}static append8BitBytes(s,a,l){let u;try{u=At.encode(s,l)}catch(f){throw new we(f)}for(let f=0,d=u.length;f!==d;f++){const m=u[f];a.appendBits(m,8)}}static appendKanjiBytes(s,a){let l;try{l=At.encode(s,K.SJIS)}catch(f){throw new we(f)}const u=l.length;for(let f=0;f<u;f+=2){const d=l[f]&255,m=l[f+1]&255,b=d<<8&4294967295|m;let y=-1;if(b>=33088&&b<=40956?y=b-33088:b>=57408&&b<=60351&&(y=b-49472),y===-1)throw new we("Invalid byte sequence");const C=(y>>8)*192+(y&255);a.appendBits(C,13)}}static appendECI(s,a){a.appendBits(Dt.ECI.getBits(),4),a.appendBits(s.getValue(),8)}}Me.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Me.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class ws{write(s,a,l,u=null){if(s.length===0)throw new w("Found empty contents");if(a<0||l<0)throw new w("Requested dimensions are too small: "+a+"x"+l);let f=_e.L,d=ws.QUIET_ZONE_SIZE;u!==null&&(u.get(Ze.ERROR_CORRECTION)!==void 0&&(f=_e.fromString(u.get(Ze.ERROR_CORRECTION).toString())),u.get(Ze.MARGIN)!==void 0&&(d=Number.parseInt(u.get(Ze.MARGIN).toString(),10)));const m=Me.encode(s,f,u);return this.renderResult(m,a,l,d)}writeToDom(s,a,l,u,f=null){typeof s=="string"&&(s=document.querySelector(s));const d=this.write(a,l,u,f);s&&s.appendChild(d)}renderResult(s,a,l,u){const f=s.getMatrix();if(f===null)throw new tt;const d=f.getWidth(),m=f.getHeight(),b=d+u*2,y=m+u*2,C=Math.max(a,b),S=Math.max(l,y),M=Math.min(Math.floor(C/b),Math.floor(S/y)),D=Math.floor((C-d*M)/2),B=Math.floor((S-m*M)/2),U=this.createSVGElement(C,S);for(let j=0,q=B;j<m;j++,q+=M)for(let lt=0,ut=D;lt<d;lt++,ut+=M)if(f.get(lt,j)===1){const at=this.createSvgRectElement(ut,q,M,M);U.appendChild(at)}return U}createSVGElement(s,a){const l=document.createElementNS(ws.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(s,a,l,u){const f=document.createElementNS(ws.SVG_NS,"rect");return f.setAttributeNS(null,"x",s.toString()),f.setAttributeNS(null,"y",a.toString()),f.setAttributeNS(null,"height",l.toString()),f.setAttributeNS(null,"width",u.toString()),f.setAttributeNS(null,"fill","#000000"),f}}ws.QUIET_ZONE_SIZE=4,ws.SVG_NS="http://www.w3.org/2000/svg";class qs{encode(s,a,l,u,f){if(s.length===0)throw new w("Found empty contents");if(a!==xt.QR_CODE)throw new w("Can only encode QR_CODE, but got "+a);if(l<0||u<0)throw new w(`Requested dimensions are too small: ${l}x${u}`);let d=_e.L,m=qs.QUIET_ZONE_SIZE;f!==null&&(f.get(Ze.ERROR_CORRECTION)!==void 0&&(d=_e.fromString(f.get(Ze.ERROR_CORRECTION).toString())),f.get(Ze.MARGIN)!==void 0&&(m=Number.parseInt(f.get(Ze.MARGIN).toString(),10)));const b=Me.encode(s,d,f);return qs.renderResult(b,l,u,m)}static renderResult(s,a,l,u){const f=s.getMatrix();if(f===null)throw new tt;const d=f.getWidth(),m=f.getHeight(),b=d+u*2,y=m+u*2,C=Math.max(a,b),S=Math.max(l,y),M=Math.min(Math.floor(C/b),Math.floor(S/y)),D=Math.floor((C-d*M)/2),B=Math.floor((S-m*M)/2),U=new Xt(C,S);for(let j=0,q=B;j<m;j++,q+=M)for(let lt=0,ut=D;lt<d;lt++,ut+=M)f.get(lt,j)===1&&U.setRegion(ut,q,M,M);return U}}qs.QUIET_ZONE_SIZE=4;class Zp{encode(s,a,l,u,f){let d;switch(a){case xt.QR_CODE:d=new qs;break;default:throw new w("No encoder available for format "+a)}return d.encode(s,a,l,u,f)}}class hi extends Bt{constructor(s,a,l,u,f,d,m,b){if(super(d,m),this.yuvData=s,this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=f,u+d>a||f+m>l)throw new w("Crop rectangle does not fit within image data.");b&&this.reverseHorizontal(d,m)}getRow(s,a){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,u,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=s*a,u=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return T.arraycopy(this.yuvData,f,u,0,l),u;for(let d=0;d<a;d++){const m=d*s;T.arraycopy(this.yuvData,f,u,m,s),f+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,l,u){return new hi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+a,l,u,!1)}renderThumbnail(){const s=this.getWidth()/hi.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/hi.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*a),u=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let d=0;d<a;d++){const m=d*s;for(let b=0;b<s;b++){const y=u[f+b*hi.THUMBNAIL_SCALE_FACTOR]&255;l[m+b]=4278190080|y*65793}f+=this.dataWidth*hi.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/hi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/hi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,a){const l=this.yuvData;for(let u=0,f=this.top*this.dataWidth+this.left;u<a;u++,f+=this.dataWidth){const d=f+s/2;for(let m=f,b=f+s-1;m<d;m++,b--){const y=l[m];l[m]=l[b],l[b]=y}}}invert(){return new te(this)}}hi.THUMBNAIL_SCALE_FACTOR=2;class Ul extends Bt{constructor(s,a,l,u,f,d,m){if(super(a,l),this.dataWidth=u,this.dataHeight=f,this.left=d,this.top=m,s.BYTES_PER_ELEMENT===4){const b=a*l,y=new Uint8ClampedArray(b);for(let C=0;C<b;C++){const S=s[C],M=S>>16&255,D=S>>7&510,B=S&255;y[C]=(M+D+B)/4&255}this.luminances=y}else this.luminances=s;if(u===void 0&&(this.dataWidth=a),f===void 0&&(this.dataHeight=l),d===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(s,a){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,u,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=s*a,u=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return T.arraycopy(this.luminances,f,u,0,l),u;for(let d=0;d<a;d++){const m=d*s;T.arraycopy(this.luminances,f,u,m,s),f+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,l,u){return new Ul(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+s,this.top+a)}invert(){return new te(this)}}class fh extends K{static forName(s){return this.getCharacterSetECIByName(s)}}class Vl{}Vl.ISO_8859_1=K.ISO8859_1;class dh{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class gh{static singletonList(s){return[s]}static min(s,a){return s.sort(a)[0]}}class qp{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Qs extends qp{constructor(s,a,l){super(s),this.value=a,this.bitCount=l}appendTo(s,a){s.appendBits(this.value,this.bitCount)}add(s,a){return new Qs(this,s,a)}addBinaryShift(s,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Qs(this,s,a)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+F.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Hl extends Qs{constructor(s,a,l){super(s,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(s,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(s,a){return new Hl(this,s,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Qp(E,s,a){return new Hl(E,s,a)}function Pr(E,s,a){return new Qs(E,s,a)}const $p=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ki=0,qo=1,Xn=2,ph=3,fi=4,Jp=new Qs(null,0,0),zl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function tm(E){for(let s of E)L.fill(s,-1);return E[Ki][fi]=0,E[qo][fi]=0,E[qo][Ki]=28,E[ph][fi]=0,E[Xn][fi]=0,E[Xn][Ki]=15,E}const mh=tm(L.createInt32Array(6,6));class di{constructor(s,a,l,u){this.token=s,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,a){let l=this.bitCount,u=this.token;if(s!==this.mode){let d=zl[this.mode][s];u=Pr(u,d&65535,d>>16),l+=d>>16}let f=s===Xn?4:5;return u=Pr(u,a,f),new di(u,s,0,l+f)}shiftAndAppend(s,a){let l=this.token,u=this.mode===Xn?4:5;return l=Pr(l,mh[this.mode][s],u),l=Pr(l,a,5),new di(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(s){let a=this.token,l=this.mode,u=this.bitCount;if(this.mode===fi||this.mode===Xn){let m=zl[l][Ki];a=Pr(a,m&65535,m>>16),u+=m>>16,l=Ki}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new di(a,l,this.binaryShiftByteCount+1,u+f);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(s+1)),d}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Qp(a,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new di(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let a=this.bitCount+(zl[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?a+=di.calculateBinaryShiftCost(s)-di.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(a+=10),a<=s.bitCount}toBitArray(s){let a=[];for(let u=this.endBinaryShift(s.length).token;u!==null;u=u.getPrevious())a.unshift(u);let l=new V;for(const u of a)u.appendTo(l,s);return l}toString(){return ht.format("%s bits=%d bytes=%d",$p[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}di.INITIAL_STATE=new di(Jp,Ki,0,0);function em(E){const s=ht.getCharCode(" "),a=ht.getCharCode("."),l=ht.getCharCode(",");E[Ki][s]=1;const u=ht.getCharCode("Z"),f=ht.getCharCode("A");for(let M=f;M<=u;M++)E[Ki][M]=M-f+2;E[qo][s]=1;const d=ht.getCharCode("z"),m=ht.getCharCode("a");for(let M=m;M<=d;M++)E[qo][M]=M-m+2;E[Xn][s]=1;const b=ht.getCharCode("9"),y=ht.getCharCode("0");for(let M=y;M<=b;M++)E[Xn][M]=M-y+2;E[Xn][l]=12,E[Xn][a]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let M=0;M<C.length;M++)E[ph][ht.getCharCode(C[M])]=M;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let M=0;M<S.length;M++)ht.getCharCode(S[M])>0&&(E[fi][ht.getCharCode(S[M])]=M);return E}const jl=em(L.createInt32Array(5,256));class Lr{constructor(s){this.text=s}encode(){const s=ht.getCharCode(" "),a=ht.getCharCode(`
`);let l=gh.singletonList(di.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let d,m=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case ht.getCharCode("\r"):d=m===a?2:0;break;case ht.getCharCode("."):d=m===s?3:0;break;case ht.getCharCode(","):d=m===s?4:0;break;case ht.getCharCode(":"):d=m===s?5:0;break;default:d=0}d>0?(l=Lr.updateStateListForPair(l,f,d),f++):l=this.updateStateListForChar(l,f)}return gh.min(l,(f,d)=>f.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,a){const l=[];for(let u of s)this.updateStateForChar(u,a,l);return Lr.simplifyStates(l)}updateStateForChar(s,a,l){let u=this.text[a]&255,f=jl[s.getMode()][u]>0,d=null;for(let m=0;m<=fi;m++){let b=jl[m][u];if(b>0){if(d==null&&(d=s.endBinaryShift(a)),!f||m===s.getMode()||m===Xn){const y=d.latchAndAppend(m,b);l.push(y)}if(!f&&mh[s.getMode()][m]>=0){const y=d.shiftAndAppend(m,b);l.push(y)}}}if(s.getBinaryShiftByteCount()>0||jl[s.getMode()][u]===0){let m=s.addBinaryShiftChar(a);l.push(m)}}static updateStateListForPair(s,a,l){const u=[];for(let f of s)this.updateStateForPair(f,a,l,u);return this.simplifyStates(u)}static updateStateForPair(s,a,l,u){let f=s.endBinaryShift(a);if(u.push(f.latchAndAppend(fi,l)),s.getMode()!==fi&&u.push(f.shiftAndAppend(fi,l)),l===3||l===4){let d=f.latchAndAppend(Xn,16-l).latchAndAppend(Xn,1);u.push(d)}if(s.getBinaryShiftByteCount()>0){let d=s.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(d)}}static simplifyStates(s){let a=[];for(const l of s){let u=!0;for(const f of a){if(f.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(f)&&(a=a.filter(d=>d!==f))}u&&a.push(l)}return a}}class ie{constructor(){}static encodeBytes(s){return ie.encode(s,ie.DEFAULT_EC_PERCENT,ie.DEFAULT_AZTEC_LAYERS)}static encode(s,a,l){let u=new Lr(s).encode(),f=F.truncDivision(u.getSize()*a,100)+11,d=u.getSize()+f,m,b,y,C,S;if(l!==ie.DEFAULT_AZTEC_LAYERS){if(m=l<0,b=Math.abs(l),b>(m?ie.MAX_NB_BITS_COMPACT:ie.MAX_NB_BITS))throw new w(ht.format("Illegal value %s for layers",l));y=ie.totalBitsInLayer(b,m),C=ie.WORD_SIZE[b];let at=y-y%C;if(S=ie.stuffBits(u,C),S.getSize()+f>at)throw new w("Data to large for user specified layer");if(m&&S.getSize()>C*64)throw new w("Data to large for user specified layer")}else{C=0,S=null;for(let at=0;;at++){if(at>ie.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(m=at<=3,b=m?at+1:at,y=ie.totalBitsInLayer(b,m),d>y)continue;(S==null||C!==ie.WORD_SIZE[b])&&(C=ie.WORD_SIZE[b],S=ie.stuffBits(u,C));let Qt=y-y%C;if(!(m&&S.getSize()>C*64)&&S.getSize()+f<=Qt)break}}let M=ie.generateCheckWords(S,y,C),D=S.getSize()/C,B=ie.generateModeMessage(m,b,D),U=(m?11:14)+b*4,j=new Int32Array(U),q;if(m){q=U;for(let at=0;at<j.length;at++)j[at]=at}else{q=U+1+2*F.truncDivision(F.truncDivision(U,2)-1,15);let at=F.truncDivision(U,2),Qt=F.truncDivision(q,2);for(let Ht=0;Ht<at;Ht++){let In=Ht+F.truncDivision(Ht,15);j[at-Ht-1]=Qt-In-1,j[at+Ht]=Qt+In+1}}let lt=new Xt(q);for(let at=0,Qt=0;at<b;at++){let Ht=(b-at)*4+(m?9:12);for(let In=0;In<Ht;In++){let ti=In*2;for(let Tn=0;Tn<2;Tn++)M.get(Qt+ti+Tn)&&lt.set(j[at*2+Tn],j[at*2+In]),M.get(Qt+Ht*2+ti+Tn)&&lt.set(j[at*2+In],j[U-1-at*2-Tn]),M.get(Qt+Ht*4+ti+Tn)&&lt.set(j[U-1-at*2-Tn],j[U-1-at*2-In]),M.get(Qt+Ht*6+ti+Tn)&&lt.set(j[U-1-at*2-In],j[at*2+Tn])}Qt+=Ht*8}if(ie.drawModeMessage(lt,m,q,B),m)ie.drawBullsEye(lt,F.truncDivision(q,2),5);else{ie.drawBullsEye(lt,F.truncDivision(q,2),7);for(let at=0,Qt=0;at<F.truncDivision(U,2)-1;at+=15,Qt+=16)for(let Ht=F.truncDivision(q,2)&1;Ht<q;Ht+=2)lt.set(F.truncDivision(q,2)-Qt,Ht),lt.set(F.truncDivision(q,2)+Qt,Ht),lt.set(Ht,F.truncDivision(q,2)-Qt),lt.set(Ht,F.truncDivision(q,2)+Qt)}let ut=new dh;return ut.setCompact(m),ut.setSize(q),ut.setLayers(b),ut.setCodeWords(D),ut.setMatrix(lt),ut}static drawBullsEye(s,a,l){for(let u=0;u<l;u+=2)for(let f=a-u;f<=a+u;f++)s.set(f,a-u),s.set(f,a+u),s.set(a-u,f),s.set(a+u,f);s.set(a-l,a-l),s.set(a-l+1,a-l),s.set(a-l,a-l+1),s.set(a+l,a-l),s.set(a+l,a-l+1),s.set(a+l,a+l-1)}static generateModeMessage(s,a,l){let u=new V;return s?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=ie.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=ie.generateCheckWords(u,40,4)),u}static drawModeMessage(s,a,l,u){let f=F.truncDivision(l,2);if(a)for(let d=0;d<7;d++){let m=f-3+d;u.get(d)&&s.set(m,f-5),u.get(d+7)&&s.set(f+5,m),u.get(20-d)&&s.set(m,f+5),u.get(27-d)&&s.set(f-5,m)}else for(let d=0;d<10;d++){let m=f-5+d+F.truncDivision(d,5);u.get(d)&&s.set(m,f-7),u.get(d+10)&&s.set(f+7,m),u.get(29-d)&&s.set(m,f+7),u.get(39-d)&&s.set(f-7,m)}}static generateCheckWords(s,a,l){let u=s.getSize()/l,f=new Fl(ie.getGF(l)),d=F.truncDivision(a,l),m=ie.bitsToWords(s,l,d);f.encode(m,d-u);let b=a%l,y=new V;y.appendBits(0,b);for(const C of Array.from(m))y.appendBits(C,l);return y}static bitsToWords(s,a,l){let u=new Int32Array(l),f,d;for(f=0,d=s.getSize()/a;f<d;f++){let m=0;for(let b=0;b<a;b++)m|=s.get(f*a+b)?1<<a-b-1:0;u[f]=m}return u}static getGF(s){switch(s){case 4:return N.AZTEC_PARAM;case 6:return N.AZTEC_DATA_6;case 8:return N.AZTEC_DATA_8;case 10:return N.AZTEC_DATA_10;case 12:return N.AZTEC_DATA_12;default:throw new w("Unsupported word size "+s)}}static stuffBits(s,a){let l=new V,u=s.getSize(),f=(1<<a)-2;for(let d=0;d<u;d+=a){let m=0;for(let b=0;b<a;b++)(d+b>=u||s.get(d+b))&&(m|=1<<a-1-b);(m&f)===f?(l.appendBits(m&f,a),d--):m&f?l.appendBits(m,a):(l.appendBits(m|1,a),d--)}return l}static totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}ie.DEFAULT_EC_PERCENT=33,ie.DEFAULT_AZTEC_LAYERS=0,ie.MAX_NB_BITS=32,ie.MAX_NB_BITS_COMPACT=4,ie.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Qo{encode(s,a,l,u){return this.encodeWithHints(s,a,l,u,null)}encodeWithHints(s,a,l,u,f){let d=Vl.ISO_8859_1,m=ie.DEFAULT_EC_PERCENT,b=ie.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(Ze.CHARACTER_SET)&&(d=fh.forName(f.get(Ze.CHARACTER_SET).toString())),f.has(Ze.ERROR_CORRECTION)&&(m=F.parseInt(f.get(Ze.ERROR_CORRECTION).toString())),f.has(Ze.AZTEC_LAYERS)&&(b=F.parseInt(f.get(Ze.AZTEC_LAYERS).toString()))),Qo.encodeLayers(s,a,l,u,d,m,b)}static encodeLayers(s,a,l,u,f,d,m){if(a!==xt.AZTEC)throw new w("Can only encode AZTEC, but got "+a);let b=ie.encode(ht.getBytes(s,f),d,m);return Qo.renderResult(b,l,u)}static renderResult(s,a,l){let u=s.getMatrix();if(u==null)throw new tt;let f=u.getWidth(),d=u.getHeight(),m=Math.max(a,f),b=Math.max(l,d),y=Math.min(m/f,b/d),C=(m-f*y)/2,S=(b-d*y)/2,M=new Xt(m,b);for(let D=0,B=S;D<d;D++,B+=y)for(let U=0,j=C;U<f;U++,j+=y)u.get(U,D)&&M.setRegion(j,B,y,y);return M}}n.AbstractExpandedDecoder=Ml,n.ArgumentException=x,n.ArithmeticException=P,n.AztecCode=dh,n.AztecCodeReader=bn,n.AztecCodeWriter=Qo,n.AztecDecoder=ot,n.AztecDetector=en,n.AztecDetectorResult=bt,n.AztecEncoder=ie,n.AztecHighLevelEncoder=Lr,n.AztecPoint=ge,n.BarcodeFormat=xt,n.Binarizer=I,n.BinaryBitmap=A,n.BitArray=V,n.BitMatrix=Xt,n.BitSource=Dl,n.BrowserAztecCodeReader=jn,n.BrowserBarcodeReader=Dp,n.BrowserCodeReader=Ye,n.BrowserDatamatrixCodeReader=kp,n.BrowserMultiFormatReader=Gp,n.BrowserPDF417Reader=Yp,n.BrowserQRCodeReader=Xp,n.BrowserQRCodeSvgWriter=ws,n.CharacterSetECI=K,n.ChecksumException=_,n.Code128Reader=gt,n.Code39Reader=ne,n.DataMatrixDecodedBitStreamParser=Wi,n.DataMatrixReader=Gi,n.DecodeHintType=Q,n.DecoderResult=mt,n.DefaultGridSampler=de,n.DetectorResult=Rt,n.EAN13Reader=gs,n.EncodeHintType=Ze,n.Exception=p,n.FormatException=H,n.GenericGF=N,n.GenericGFPoly=Vt,n.GlobalHistogramBinarizer=_t,n.GridSampler=Pt,n.GridSamplerInstance=Kt,n.HTMLCanvasElementLuminanceSource=Ne,n.HybridBinarizer=ct,n.ITFReader=Zt,n.IllegalArgumentException=w,n.IllegalStateException=tt,n.InvertedLuminanceSource=te,n.LuminanceSource=Bt,n.MathUtils=it,n.MultiFormatOneDReader=Ks,n.MultiFormatReader=hh,n.MultiFormatWriter=Zp,n.NotFoundException=G,n.OneDReader=Ce,n.PDF417DecodedBitStreamParser=Z,n.PDF417DecoderErrorCorrection=rh,n.PDF417Reader=sn,n.PDF417ResultMetadata=ah,n.PerspectiveTransform=Ft,n.PlanarYUVLuminanceSource=hi,n.QRCodeByteMatrix=Zo,n.QRCodeDataMask=Gn,n.QRCodeDecodedBitStreamParser=Fe,n.QRCodeDecoderErrorCorrectionLevel=_e,n.QRCodeDecoderFormatInformation=ln,n.QRCodeEncoder=Me,n.QRCodeEncoderQRCode=bs,n.QRCodeMaskUtil=Ve,n.QRCodeMatrixUtil=Nt,n.QRCodeMode=Dt,n.QRCodeReader=Yi,n.QRCodeVersion=vt,n.QRCodeWriter=qs,n.RGBLuminanceSource=Ul,n.RSS14Reader=Ue,n.RSSExpandedReader=rt,n.ReaderException=Ko,n.ReedSolomonDecoder=st,n.ReedSolomonEncoder=Fl,n.ReedSolomonException=z,n.Result=ae,n.ResultMetadataType=ft,n.ResultPoint=X,n.StringUtils=ht,n.UnsupportedOperationException=Mt,n.VideoInputDevice=Qe,n.WhiteRectangleDetector=Et,n.WriterException=we,n.ZXingArrays=L,n.ZXingCharset=fh,n.ZXingInteger=F,n.ZXingStandardCharsets=Vl,n.ZXingStringBuilder=Ot,n.ZXingStringEncoding=At,n.ZXingSystem=T,n.createAbstractExpandedDecoder=ih,Object.defineProperty(n,"__esModule",{value:!0})})}(Jr,Jr.exports)),Jr.exports}var Oe=zI();const jI=VI(Oe),WI=om({__proto__:null,default:jI},[Oe]);var i1=function(){function e(t,n,i){if(this.formatMap=new Map([[yt.QR_CODE,Oe.BarcodeFormat.QR_CODE],[yt.AZTEC,Oe.BarcodeFormat.AZTEC],[yt.CODABAR,Oe.BarcodeFormat.CODABAR],[yt.CODE_39,Oe.BarcodeFormat.CODE_39],[yt.CODE_93,Oe.BarcodeFormat.CODE_93],[yt.CODE_128,Oe.BarcodeFormat.CODE_128],[yt.DATA_MATRIX,Oe.BarcodeFormat.DATA_MATRIX],[yt.MAXICODE,Oe.BarcodeFormat.MAXICODE],[yt.ITF,Oe.BarcodeFormat.ITF],[yt.EAN_13,Oe.BarcodeFormat.EAN_13],[yt.EAN_8,Oe.BarcodeFormat.EAN_8],[yt.PDF_417,Oe.BarcodeFormat.PDF_417],[yt.RSS_14,Oe.BarcodeFormat.RSS_14],[yt.RSS_EXPANDED,Oe.BarcodeFormat.RSS_EXPANDED],[yt.UPC_A,Oe.BarcodeFormat.UPC_A],[yt.UPC_E,Oe.BarcodeFormat.UPC_E],[yt.UPC_EAN_EXTENSION,Oe.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!WI)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var r=this.createZXingFormats(t),o=new Map;o.set(Oe.DecodeHintType.POSSIBLE_FORMATS,r),o.set(Oe.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,r){try{i(n.decode(t))}catch(o){r(o)}})},e.prototype.decode=function(t){var n=new Oe.MultiFormatReader(this.verbose,this.hints),i=new Oe.HTMLCanvasElementLuminanceSource(t),r=new Oe.BinaryBitmap(new Oe.HybridBinarizer(i)),o=n.decode(r);return{text:o.text,format:yp.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,r){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),GI=function(e,t,n,i){function r(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(i.next(x))}catch(w){c(w)}}function g(x){try{p(i.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):r(x.value).then(h,g)}p((i=i.apply(e,t||[])).next())})},YI=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(o=p[0]&2?r.return:p[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,p[1])).done)return o;switch(r=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],r=0}finally{i=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},s1=function(){function e(t,n,i){if(this.formatMap=new Map([[yt.QR_CODE,"qr_code"],[yt.AZTEC,"aztec"],[yt.CODABAR,"codabar"],[yt.CODE_39,"code_39"],[yt.CODE_93,"code_93"],[yt.CODE_128,"code_128"],[yt.DATA_MATRIX,"data_matrix"],[yt.ITF,"itf"],[yt.EAN_13,"ean_13"],[yt.EAN_8,"ean_8"],[yt.PDF_417,"pdf417"],[yt.UPC_A,"upc_a"],[yt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var r=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(r),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return GI(this,void 0,void 0,function(){var n,i;return YI(this,function(r){switch(r.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=r.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:yp.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,r=0,o=t;r<o.length;r++){var c=o[r],h=c.boundingBox.width*c.boundingBox.height;h>i&&(i=h,n=c)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,r){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),r1=function(e,t,n,i){function r(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(i.next(x))}catch(w){c(w)}}function g(x){try{p(i.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):r(x.value).then(h,g)}p((i=i.apply(e,t||[])).next())})},o1=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(o=p[0]&2?r.return:p[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,p[1])).done)return o;switch(r=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],r=0}finally{i=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},XI=function(){function e(t,n,i,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&s1.isSupported()?(this.primaryDecoder=new s1(t,i,r),this.secondaryDecoder=new i1(t,i,r)):this.primaryDecoder=new i1(t,i,r)}return e.prototype.decodeAsync=function(t){return r1(this,void 0,void 0,function(){var n;return o1(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return r1(this,void 0,void 0,function(){var n,i;return o1(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,r.sent()];case 3:if(i=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var r=i[n];t+=r}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),$u=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ja=function(e,t,n,i){function r(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(i.next(x))}catch(w){c(w)}}function g(x){try{p(i.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):r(x.value).then(h,g)}p((i=i.apply(e,t||[])).next())})},tl=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(o=p[0]&2?r.return:p[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,p[1])).done)return o;switch(r=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],r=0}finally{i=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Ep=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),KI=function(e){$u(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var r={advanced:[i]};return this.track.applyConstraints(r)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Ep),ZI=function(e){$u(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(KI),qI=function(e){$u(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Ep),QI=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new ZI(this.track)},e.prototype.torchFeature=function(){return new qI(this.track)},e}(),$I=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,r=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,r),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,r){return Ja(this,void 0,void 0,function(){var o,c;return tl(this,function(h){switch(h.label){case 0:return o=new e(t,n,r),i.aspectRatio?(c={aspectRatio:i.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Ja(this,void 0,void 0,function(){return tl(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var r=t.mediaStream.getVideoTracks(),o=r.length,c=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++c,c>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new QI(this.getFirstTrackOrFail())},e}(),JI=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return Ja(this,void 0,void 0,function(){return tl(this,function(r){return[2,$I.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return Ja(this,void 0,void 0,function(){var n,i;return tl(this,function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=r.sent(),[2,new e(i)]}})})},e}(),a1=function(e,t,n,i){function r(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(i.next(x))}catch(w){c(w)}}function g(x){try{p(i.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):r(x.value).then(h,g)}p((i=i.apply(e,t||[])).next())})},l1=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(o=p[0]&2?r.return:p[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,p[1])).done)return o;switch(r=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],r=0}finally{i=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},tT=function(){function e(){}return e.failIfNotSupported=function(){return a1(this,void 0,void 0,function(){return l1(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return a1(this,void 0,void 0,function(){return l1(this,function(n){return[2,JI.create(t)]})})},e}(),eT=function(e,t,n,i){function r(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(i.next(x))}catch(w){c(w)}}function g(x){try{p(i.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):r(x.value).then(h,g)}p((i=i.apply(e,t||[])).next())})},nT=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(o=p[0]&2?r.return:p[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,p[1])).done)return o;switch(r=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],r=0}finally{i=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},iT=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=ar.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=ar.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return eT(this,void 0,void 0,function(){var t,n,i,r,o,c,h;return nT(this,function(g){switch(g.label){case 0:return t=function(p){for(var x=p.getVideoTracks(),w=0,A=x;w<A.length;w++){var _=A[w];_.enabled=!1,_.stop(),p.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=g.sent(),r=[],o=0,c=i;o<c.length;o++)h=c[o],h.kind==="videoinput"&&r.push({id:h.deviceId,label:h.label});return t(n),[2,r]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(o){for(var c=[],h=0,g=o;h<g.length;h++){var p=g[h];p.kind==="video"&&c.push({id:p.id,label:p.label})}t(c)},r=MediaStreamTrack;r.getSources(i)})},e}(),He;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(He||(He={}));var sT=function(){function e(){this.state=He.NOT_STARTED,this.onGoingTransactionNewState=He.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===He.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=He.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===He.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=He.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==He.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case He.UNKNOWN:throw"Transition from unknown is not allowed";case He.NOT_STARTED:this.failIfNewStateIs(t,[He.PAUSED]);break;case He.SCANNING:break;case He.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),rT=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===He.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==He.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===He.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===He.PAUSED},e}(),oT=function(){function e(){}return e.create=function(){return new rT(new sT)},e}(),aT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),kn=function(e){aT(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ei),lT=function(){function e(t,n){this.logger=n,this.fps=kn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=kn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?_p.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!wi(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),c1=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new Cp(this.verbose),this.qrcode=new XI(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=oT.create()}return e.prototype.start=function(t,n,i,r){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;r?c=r:c=this.verbose?this.logger.log:function(){};var h=lT.create(n,this.logger);this.clearElement();var g=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:kn.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var w=this,A=this.stateManagerProxy.startTransition(He.SCANNING);return new Promise(function(_,I){var T=p?h.videoConstraints:w.createVideoConstraints(t);if(!T){A.cancel(),I("videoConstraints should be defined");return}var v={};(!p||h.aspectRatio)&&(v.aspectRatio=h.aspectRatio);var k={onRenderSurfaceReady:function(L,F){w.setupUi(L,F,h),w.isScanning=!0,w.foreverScan(h,i,c)}};tT.failIfNotSupported().then(function(L){L.create(T).then(function(F){return F.render(o.element,v,k).then(function(V){w.renderedCamera=V,A.execute(),_(null)}).catch(function(V){A.cancel(),I(V)})}).catch(function(F){A.cancel(),I(ar.errorGettingUserMedia(F))})}).catch(function(L){A.cancel(),I(ar.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(He.PAUSED),this.showPausedState(),(wi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(He.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(He.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var o=document.getElementById(kn.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},r=this;return this.renderedCamera.close().then(function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),i(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),n.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(wi(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(r,o){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var h=c.width,g=c.height,p=document.getElementById(i.elementId),x=p.clientWidth?p.clientWidth:kn.DEFAULT_WIDTH,w=Math.max(p.clientHeight?p.clientHeight:g,kn.FILE_SCAN_MIN_HEIGHT),A=i.computeCanvasDrawConfig(h,g,x,w);if(n){var _=i.createCanvasElement(x,w,"qr-canvas-visible");_.style.display="inline-block",p.appendChild(_);var I=_.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=x,I.canvas.height=w,I.drawImage(c,0,0,h,g,A.x,A.y,A.width,A.height)}var T=kn.FILE_SCAN_HIDDEN_CANVAS_PADDING,v=Math.max(c.width,A.width),k=Math.max(c.height,A.height),L=v+2*T,F=k+2*T,V=i.createCanvasElement(L,F);p.appendChild(V);var W=V.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=L,W.canvas.height=F,W.drawImage(c,0,0,h,g,T,T,v,k);try{i.qrcode.decodeRobustlyAsync(V).then(function(Q){r(t1.createFromQrcodeResult(Q))}).catch(o)}catch(Q){o("QR code parse error, error = ".concat(Q))}},c.onerror=o,c.onabort=o,c.onstalled=o,c.onsuspend=o,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return iT.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!_p.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[yt.QR_CODE,yt.AZTEC,yt.CODABAR,yt.CODE_39,yt.CODE_93,yt.CODE_128,yt.DATA_MATRIX,yt.MAXICODE,yt.ITF,yt.EAN_13,yt.EAN_8,yt.PDF_417,yt.RSS_14,yt.RSS_EXPANDED,yt.UPC_A,yt.UPC_E,yt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],r=0,o=t.formatsToSupport;r<o.length;r++){var c=o[r];FI(c)?i.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(wi(t))return!0;if(!wi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(wi(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return wi(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var r=this,o=i.qrbox;this.validateQrboxConfig(o);var c=this.toQrdimensions(t,n,o),h=function(p){if(p<kn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(kn.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>t&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};h(c.width),h(c.height),c.width=g(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var r=wi(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(r);var o=this.toQrdimensions(t,n,r);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=i.isShadedBoxEnabled()&&o.height<=n,h={x:0,y:0,width:t,height:n},g=c?this.getShadedRegionBounds(t,n,o):h,p=this.createCanvasElement(g.width,g.height),x={willReadFrequently:!0},w=p.getContext("2d",x);w.canvas.width=g.width,w.canvas.height=g.height,this.element.append(p),c&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=w,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=ar.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(r){return t(r.text,t1.createFromQrcodeResult(r)),i.possiblyUpdateShaders(!0),!0}).catch(function(r){i.possiblyUpdateShaders(!1);var o=ar.codeParseError(r);return n(o,Ap.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,i){var r=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),c=o.videoWidth/o.clientWidth,h=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,p=this.qrRegion.height*h,x=this.qrRegion.x*c,w=this.qrRegion.y*h;this.context.drawImage(o,x,w,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){r.foreverScanTimeout=setTimeout(function(){r.foreverScan(t,n,i)},r.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(_){!_&&t.disableFlip!==!0?(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(n,i).finally(function(){A()})):A()}).catch(function(_){r.logger.logError("Error happend while scanning context",_),A()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",r={user:!0,environment:!0},o="exact",c=function(I){if(I in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var p=t.facingMode;if(typeof p=="string"){if(c(p))return{facingMode:p}}else if(typeof p=="object")if(o in p){if(c(p["".concat(o)]))return{facingMode:{exact:p["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var x=typeof p;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(o in w)return{deviceId:{exact:w["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var A=typeof w;throw"Invalid type of 'deviceId' = ".concat(A)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,n,i,r){if(t<=i&&n<=r){var o=(i-t)/2,c=(r-n)/2;return{x:o,y:c,width:t,height:n}}else{var h=t,g=n;return t>i&&(n=i/t*n,t=i),n>r&&(t=r/n*t,n=r),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,r)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?kn.BORDER_SHADER_MATCH_COLOR:kn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var r=t,o=n,c=document.createElement("canvas");return c.style.width="".concat(r,"px"),c.style.height="".concat(o,"px"),c.style.display="none",c.id=wi(i)?"qr-canvas":i,c},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,r){if(!(n-r.width<1||i-r.height<1)){var o=document.createElement("div");o.style.position="absolute";var c=(n-r.width)/2,h=(i-r.height)/2;if(o.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(kn.SHADED_REGION_ELEMENT_ID),n-r.width<11||i-r.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(o,p,g,-g,null,0,!0),this.insertShaderBorders(o,p,g,-g,null,0,!1),this.insertShaderBorders(o,p,g,null,-g,0,!0),this.insertShaderBorders(o,p,g,null,-g,0,!1),this.insertShaderBorders(o,g,p+g,-g,null,-g,!0),this.insertShaderBorders(o,g,p+g,null,-g,-g,!0),this.insertShaderBorders(o,g,p+g,-g,null,-g,!1),this.insertShaderBorders(o,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,i,r,o,c,h){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=kn.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(i,"px"),r!==null&&(g.style.top="".concat(r,"px")),o!==null&&(g.style.bottom="".concat(o,"px")),h?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Ju="data:image/svg+xml;base64,",cT=Ju+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",uT=Ju+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",u1=Ju+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",hT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",h1=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),fT=function(){function e(){this.data=h1.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=h1.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),dT=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=e1.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var i=document.createElement("br"),r=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(r);var o=document.createElement("a");o.innerText=e1.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),gT=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=u1,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(i){return n.onHoverIn()},this.infoIcon.onmouseout=function(i){return n.onHoverOut()},this.infoIcon.onclick=function(i){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=hT,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=u1,this.infoIcon.style.opacity="0.6")},e}(),pT=function(){function e(){var t=this;this.infoDiv=new dT,this.infoIcon=new gT(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),mT=function(e,t,n,i){function r(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(i.next(x))}catch(w){c(w)}}function g(x){try{p(i.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):r(x.value).then(h,g)}p((i=i.apply(e,t||[])).next())})},xT=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(o=p[0]&2?r.return:p[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,p[1])).done)return o;switch(r=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],r=0}finally{i=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},f1=function(){function e(){}return e.hasPermissions=function(){return mT(this,void 0,void 0,function(){var t,n,i,r;return xT(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=o.sent(),n=0,i=t;n<i.length;n++)if(r=i[n],r.kind==="videoinput"&&r.label)return[2,!0];return[2,!1]}})})},e}(),qi=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var i=n[t];if(e.isCameraScanType(i))return!0}return!1},e.isCameraScanType=function(t){return t===us.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===us.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return ei.DEFAULT_SUPPORTED_SCAN_TYPE;var n=ei.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var i=0,r=t;i<r.length;i++){var o=r[i];if(!ei.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return t},e}(),Un=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Fi=function(){function e(){}return e.createElement=function(t,n){var i=document.createElement(t);return i.id=n,i.classList.add(Un.ALL_ELEMENT_CLASS),t==="button"&&i.setAttribute("type","button"),i},e}(),Sp=function(e,t,n,i){function r(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(i.next(x))}catch(w){c(w)}}function g(x){try{p(i.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):r(x.value).then(h,g)}p((i=i.apply(e,t||[])).next())})},Ip=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(o=p[0]&2?r.return:p[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,p[1])).done)return o;switch(r=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],r=0}finally{i=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},d1=function(){function e(t,n,i){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=i}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Sp(this,void 0,void 0,function(){var t,n;return Ip(this,function(i){switch(i.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=i.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?pe.torchOffButton():pe.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var i=t?pe.torchOnFailedMessage():pe.torchOffFailedMessage();n&&(i+="; Error = "+n),this.onTorchActionFailureCallback(i)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),bT=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Fi.createElement("button",Un.TORCH_BUTTON_ID),this.torchController=new d1(t,this,n)}return e.prototype.render=function(t,n){var i=this;this.torchButton.innerText=pe.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var r=this;this.torchButton.addEventListener("click",function(o){return Sp(i,void 0,void 0,function(){return Ip(this,function(c){switch(c.label){case 0:return[4,r.torchController.flipState()];case 1:return c.sent(),r.torchController.isTorchEnabled()?(r.torchButton.classList.remove(Un.TORCH_BUTTON_CLASS_TORCH_OFF),r.torchButton.classList.add(Un.TORCH_BUTTON_CLASS_TORCH_ON)):(r.torchButton.classList.remove(Un.TORCH_BUTTON_CLASS_TORCH_ON),r.torchButton.classList.add(Un.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new d1(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=pe.torchOnButton(),this.torchController.reset()},e.create=function(t,n,i,r){var o=new e(n,r);return o.render(t,i),o},e}(),wT=function(){function e(t,n,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var r=document.createElement("label");r.setAttribute("for",this.getFileScanInputId()),r.style.display="inline-block",this.fileBasedScanRegion.appendChild(r),this.fileSelectionButton=Fi.createElement("button",Un.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(h){r.click()}),r.append(this.fileSelectionButton),this.fileScanInput=Fi.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",r.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(h){if(!(h==null||h.target==null)){var g=h.target;if(!(g.files&&g.files.length===0)){var p=g.files,x=p[0],w=x.name;o.setImageNameToButton(w),i(x)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(h){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(h){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(h){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(h){h.stopPropagation(),h.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var g=h.dataTransfer;if(g){var p=g.files;if(!p||p.length===0)return;for(var x=!1,w=0;w<p.length;++w){var A=p.item(w);if(A){var _=/image.*/;if(A.type.match(_)){x=!0;var I=A.name;o.setImageNameToButton(I),i(A),c.innerText=pe.dragAndDropMessage();break}}}x||(c.innerText=pe.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=pe.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var i=t.substring(0,8),r=t.length,o=t.substring(r-8,r);t="".concat(i,"....").concat(o)}var c=pe.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=pe.fileSelectionChooseImage()+" - "+pe.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,i){var r=new e(t,n,i);return r},e}(),yT=function(){function e(t){this.selectElement=Fi.createElement("select",Un.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var i=this.cameras.length;if(i===0)throw new Error("No cameras found");if(i===1)n.style.display="none";else{var r=pe.selectCamera();n.innerText="".concat(r," (").concat(this.cameras.length,")  ")}for(var o=1,c=0,h=this.cameras;c<h.length;c++){var g=h[c],p=g.id,x=g.label==null?p:g.label;(!x||x==="")&&(x=[pe.anonymousCameraPrefix(),o++].join(" "));var w=document.createElement("option");w.value=p,w.innerText=x,this.options.push(w),this.selectElement.appendChild(w)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,i=this.options;n<i.length;n++){var r=i[n];if(r.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var i=new e(n);return i.render(t),i},e}(),AT=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Fi.createElement("input",Un.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=pe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var r=this;this.rangeInput.addEventListener("input",function(){return r.onValueChange()}),this.rangeInput.addEventListener("change",function(){return r.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=pe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,i,r){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=r.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var i=new e;return i.render(t,n),i},e}(),Pn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Pn||(Pn={}));function CT(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function _T(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var ET=function(){function e(t,n,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=i===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new qi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Cp(this.verbose),this.persistedDataManager=new fT,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,c){if(t)t(o,c);else{if(i.lastMatchFound===o)return;i.lastMatchFound=o,i.setHeaderMessage(pe.lastMatch(o),Pn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,c){n&&n(o,c)};var r=document.getElementById(this.elementId);if(!r)throw"HTML Element with id=".concat(this.elementId," not found");r.innerHTML="",this.createBasicLayout(r),this.html5Qrcode=new c1(this.getScanRegionId(),_T(this.config,this.verbose))},e.prototype.pause=function(t){(wi(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var i=document.getElementById(t.elementId);i&&(i.innerHTML="",t.resetBasicLayout(i))};return this.html5Qrcode?new Promise(function(i,r){if(!t.html5Qrcode){i();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(o){if(!t.html5Qrcode){i();return}t.html5Qrcode.clear(),n(),i()}).catch(function(o){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",o),r(o)}):(t.html5Qrcode.clear(),n(),i())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ei.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ei.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ei.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ei.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ei.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ei.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ei.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),i=this.getScanRegionId();n.id=i,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),qi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var r=document.createElement("div"),o=this.getDashboardId();r.id=o,r.style.width="100%",t.appendChild(r),this.setupInitialDashboard(r)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var i=new pT;i.renderInto(n);var r=document.createElement("div");r.id=this.getHeaderMessageContainerId(),r.style.display="none",r.style.textAlign="center",r.style.fontSize="14px",r.style.padding="2px 10px",r.style.margin="4px",r.style.borderTop="1px solid #f6f6f6",n.appendChild(r)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,i){var r=this;r.showHideScanTypeSwapLink(!1),r.setHeaderMessage(pe.cameraPermissionRequesting());var o=function(){i||r.createPermissionButton(t,n)};c1.getCameras().then(function(c){r.persistedDataManager.setHasPermission(!0),r.showHideScanTypeSwapLink(!0),r.resetHeaderMessage(),c&&c.length>0?(t.removeChild(n),r.renderCameraSelection(c)):(r.setHeaderMessage(pe.noCameraFound(),Pn.STATUS_WARNING),o())}).catch(function(c){r.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:o(),r.setHeaderMessage(c,Pn.STATUS_WARNING),r.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var i=this,r=Fi.createElement("button",this.getCameraPermissionButtonId());r.innerText=pe.cameraPermissionTitle(),r.addEventListener("click",function(){r.disabled=!0,i.createCameraListUi(t,n,r)}),n.appendChild(r)},e.prototype.createPermissionsUi=function(t,n){var i=this;if(qi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){f1.hasPermissions().then(function(r){r?i.createCameraListUi(t,n):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n))}).catch(function(r){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=qi.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(i);var r=document.createElement("div");r.style.textAlign="center",i.appendChild(r),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,r),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=qi.isFileScanType(this.currentScanType),i=this,r=function(o){if(!i.html5Qrcode)throw"html5Qrcode not defined";qi.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(pe.loadingImage()),i.html5Qrcode.scanFileV2(o,!0).then(function(c){i.resetHeaderMessage(),i.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){i.setHeaderMessage(c,Pn.STATUS_WARNING),i.qrCodeErrorCallback(c,Ap.createFrom(c))}))};this.fileSelectionUi=wT.create(t,n,r)},e.prototype.renderCameraSelection=function(t){var n=this,i=this,r=document.getElementById(this.getDashboardSectionCameraScanRegionId());r.style.textAlign="center";var o=AT.create(r,!1),c=function(T){var v=T.zoomFeature();if(v.isSupported()){o.setOnCameraZoomValueChangeCallback(function(L){v.apply(L)});var k=1;n.config.defaultZoomValueIfSupported&&(k=n.config.defaultZoomValueIfSupported),k=UI(k,v.min(),v.max()),o.setValues(v.min(),v.max(),k,v.step()),o.show()}},h=yT.create(r,t),g=document.createElement("span"),p=Fi.createElement("button",Un.CAMERA_START_BUTTON_ID);p.innerText=pe.scanButtonStartScanningText(),g.appendChild(p);var x=Fi.createElement("button",Un.CAMERA_STOP_BUTTON_ID);x.innerText=pe.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,g.appendChild(x);var w,A=function(T){if(!T.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(T.torchFeature()):w=bT.create(g,T.torchFeature(),{display:"none",marginLeft:"5px"},function(v){i.setHeaderMessage(v,Pn.STATUS_WARNING)}),w.show()};r.appendChild(g);var _=function(T){T||(p.style.display="none"),p.innerText=pe.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,T&&(p.style.display="inline-block")};if(p.addEventListener("click",function(T){p.innerText=pe.scanButtonScanningStarting(),h.disable(),p.disabled=!0,p.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var v=h.getValue();i.persistedDataManager.setLastUsedCameraId(v),i.html5Qrcode.start(v,CT(i.config),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then(function(k){x.disabled=!1,x.style.display="inline-block",_(!1);var L=i.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&A(L),n.config.showZoomSliderIfSupported===!0&&c(L)}).catch(function(k){i.showHideScanTypeSwapLink(!0),h.enable(),_(!0),i.setHeaderMessage(k,Pn.STATUS_WARNING)})}),h.hasSingleItem()&&p.click(),x.addEventListener("click",function(T){if(!i.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,i.html5Qrcode.stop().then(function(v){n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),h.enable(),p.disabled=!1,x.style.display="none",p.style.display="inline-block",w&&(w.reset(),w.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),i.insertCameraScanImageToScanRegion()}).catch(function(v){x.disabled=!1,i.setHeaderMessage(v,Pn.STATUS_WARNING)})}),i.persistedDataManager.getLastUsedCameraId()){var I=i.persistedDataManager.getLastUsedCameraId();h.hasValue(I)?(h.setValue(I),p.click()):i.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=pe.textIfCameraScanSelected(),i=pe.textIfFileScanSelected(),r=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var c=Fi.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=qi.isCameraScanType(this.currentScanType)?n:i,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,qi.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=i,t.currentScanType=us.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=n,t.currentScanType=us.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),o.appendChild(c),r.appendChild(o)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){f1.hasPermissions().then(function(i){if(i){var r=document.getElementById(n.getCameraPermissionButtonId());if(!r)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";r.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(i){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Pn.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=t,i.style.display="block",n){case Pn.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case Pn.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case Pn.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=cT,this.cameraScanImage.alt=pe.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=uT,this.fileScanImage.alt=pe.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Un.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Un.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const ST={data(){return{rentBooks:[],tempBooks:[],scannedData:null,currentMember:{}}},mounted(){new ET("qr-reader",{fps:10,qrbox:250}).render(t=>{this.scannedData=t},t=>{t.message.includes("NotFoundException")||console.error("Scan failed:",t)})},methods:{async fetchCurrentMember(e){try{const t=await Wt.get(`http://localhost:8080/api/members/${e}`,{withCredentials:!0});this.currentMember=t.data,console.log("member name="+this.currentMember.memName),console.log("member Id:"+t.data.memId)}catch(t){console.error("   :",t)}},async fetchRentList(e){},fetchBook(e){const t=this.extractBookData(e);try{this.tempBooks.some(n=>n.bookId===t.bookId)?alert("  .  ."):this.tempBooks.push(t)}catch(n){console.log("/     :",n)}},extractMemberId(e){const t=e.match(/Member ID:\s*(\d+)/);return t?t[1]:null},extractBookId(e){const t=e.match(/Book ID:\s*(\d+)/);return t?parseInt(t[1],10):null},extractBookData(e){const t=e.match(/Book ID:\s*(\d+),\s*Title:\s*([^,]+),\s*Author:\s*([^,]+),\s*Publisher:\s*([^,]+),\s*Category:\s*([^,]+)/);return t?{bookId:parseInt(t[1],10),bookTitle:t[2].trim(),bookAuthor:t[3].trim(),bookPublisher:t[4].trim(),bookCategory:t[5].trim()}:null},getDefaultMember(){return{memId:"",memName:"",memEmail:"",memPhone:""}},removeTempBook(e){this.tempBooks=this.tempBooks.filter(t=>t.bookId!==e)},removeCurrentMember(){this.currentMember=this.getDefaultMember()}},watch:{scannedData(e){console.log("QR  :",e);const t=this.extractMemberId(e);if(t){console.log(" QR ,  ID:",t),this.fetchCurrentMember(t),this.fetchRentList(t);return}const n=this.extractBookId(e);n&&(console.log(" QR ,  ID:",n),this.fetchBook(e),this.scannedData="")}}},IT={class:"user-info"},TT={class:"info-row"},MT={class:"books-list-table",border:"1"},OT=["onClick"];function vT(e,t,n,i,r,o){return St(),Tt(Pe,null,[t[4]||(t[4]=O("h1",null,"/",-1)),t[5]||(t[5]=O("div",{class:"qr-scanner"},[O("h1",null,"QR Code Scanner"),O("div",{id:"qr-reader"})],-1)),O("div",IT,[O("div",TT,[O("p",null,"id : "+It(r.currentMember.memId),1),O("p",null,"name : "+It(r.currentMember.memName),1),O("p",null,"email : "+It(r.currentMember.memEmail),1),O("p",null,"phone : "+It(r.currentMember.memPhone),1),O("button",{onClick:t[0]||(t[0]=c=>o.removeCurrentMember())},"delete")])]),t[6]||(t[6]=O("div",{class:"rent-return-btn"},[O("button",null,"Rent/Return")],-1)),O("table",MT,[t[3]||(t[3]=O("thead",null,[O("tr",null,[O("th",null,"checkBox"),O("th",null,"Id"),O("th",null,"Title"),O("th",null,"Author"),O("th",null,"Publisher"),O("th",null,"Category"),O("th",null,"delete")])],-1)),O("tbody",null,[(St(!0),Tt(Pe,null,Bs(r.rentBooks,c=>(St(),Tt("tr",{key:c.bookId},[t[1]||(t[1]=O("td",null,[O("input",{type:"checkbox",value:!0})],-1)),O("td",null,It(c.bookId),1),O("td",null,It(c.bookTitle),1),O("td",null,It(c.bookAuthor),1),O("td",null,It(c.bookPublisher),1),O("td",null,It(c.bookCategory),1)]))),128)),(St(!0),Tt(Pe,null,Bs(r.tempBooks,c=>(St(),Tt("tr",{key:c.bookId},[t[2]||(t[2]=O("td",null,[O("input",{type:"checkbox",value:!0})],-1)),O("td",null,It(c.bookId),1),O("td",null,It(c.bookTitle),1),O("td",null,It(c.bookAuthor),1),O("td",null,It(c.bookPublisher),1),O("td",null,It(c.bookCategory),1),O("td",null,[O("button",{onClick:h=>o.removeTempBook(c.bookId)},"delete",8,OT)])]))),128))])])],64)}const RT=De(ST,[["render",vT]]),DT={name:"AdminDashboard",data(){return{selectedMenu:"main"}},computed:{currentComponent(){switch(this.selectedMenu){case"main":return Qd;case"member":return YA;case"product":return _C;case"rental":return RT;default:return Qd}}},methods:{changeMenu(e){console.log(e),this.selectedMenu=e}}},NT={class:"dashboard"},kT={class:"sidebar"},PT={class:"main-content"};function LT(e,t,n,i,r,o){return St(),Tt("div",NT,[O("aside",kT,[O("ul",null,[O("li",{onClick:t[0]||(t[0]=c=>o.changeMenu("member"))},""),O("li",{onClick:t[1]||(t[1]=c=>o.changeMenu("product"))},""),O("li",{onClick:t[2]||(t[2]=c=>o.changeMenu("order"))},""),O("li",{onClick:t[3]||(t[3]=c=>o.changeMenu("rental"))},"")])]),O("main",PT,[(St(),A0(cx(o.currentComponent)))])])}const BT=De(DT,[["render",LT],["__scopeId","data-v-4d887a63"]]),Ac="/members/me",g1="http://localhost:8080/api/uploads/member-qr-image",FT={name:"Mypage",data(){return{memName:[],memPassword:[],memEmail:[],memPhone:[],currentMember:{},isModalVisible:!1,isEditing:!1,member:[],memberQRImg:null,passwordError:!1,phoneError:!1,phonePattern:/^010-\d{4}-\d{4}$/,emailError:!1,emailPattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/}},watch:{"currentMember.memPassword":{handler(e){e&&this.currentMember.memPassword2&&(this.passwordError=e!==this.currentMember.memPassword2)},immediate:!0},"currentMember.memPassword2":{handler(e){e&&this.currentMember.memPassword&&(this.passwordError=e!==this.currentMember.memPassword)},immediate:!0},"currentMember.memPhone":{handler(e){e&&(this.phoneError=!this.phonePattern.test(e))},immediate:!0},"currentMember.memEmail":{handler(e){e&&(this.emailError=!this.emailPattern.test(e))},immediate:!0}},methods:{getDefaultMember(){return{memName:"",memPassword:"",memEmail:"",memPhone:""}},handleSubmit(){this.updateMember()},async updateMember(){if(!this.passwordError&&!this.phoneError&&!this.emailError)try{await this.$axios.put(Ac,this.currentMember),this.member=this.currentMember,this.closeModal()}catch(e){console.error("Error updating member: ",e)}},openModal(e=!1,t=null){this.isEditing=e,this.currentMember=e?{...t}:this.getDefaultMember(),this.isModalVisible=!0},closeModal(){this.isModalVisible=!1,this.currentMember={}},async promptDelete(e){const t=prompt("  .");if(t&&t===this.member.memEmail)try{await this.$axios.delete(Ac),localStorage.removeItem("isLoggedIn"),this.isLoggedIn=!1,alert("   ."),setTimeout(()=>{this.$router.push("/")},500)}catch(n){console.error("Error delete member: ",n)}else alert("  .   .")},async fetchQRImage(){try{const e=await this.$axios.get(g1,{responseType:"blob"});e.data&&(this.qrImageUrl=URL.createObjectURL(e.data))}catch(e){console.warn("QR   :",e)}},async getMemberQRImage(){try{const e=await this.$axios.get(g1,{responseType:"blob"});e.status===200?this.memberQRImg=URL.createObjectURL(e.data):this.memberQRImg=""}catch(e){console.error("Error fetching QR image: ",e),this.memberQRImg=""}}},async mounted(){try{const e=await this.$axios.get(Ac);this.member=e.data,this.memId=e.data.memId,this.getMemberQRImage()}catch(e){console.log(" : ",e)}}},UT={class:"mypage"},VT={class:"memberInfo"},HT={class:"qrContainer"},zT=["src"],jT={key:1},WT={class:"memberInfoBtn"},GT={key:0,class:"custom-modal"},YT={class:"modal-content"},XT={class:"form-group"},KT={class:"form-group"},ZT={key:0,class:"error-message"},qT={class:"form-group"},QT={class:"form-group"},$T={key:0,class:"error-message"},JT={class:"form-group"},t8={key:0,class:"error-message"},e8={class:"modal-actions"};function n8(e,t,n,i,r,o){const c=Xe("router-link");return St(),Tt(Pe,null,[O("div",UT,[t[16]||(t[16]=O("h1",null,"",-1)),$t(c,{to:"/"},{default:Ls(()=>t[9]||(t[9]=[Zn("  ")])),_:1}),t[17]||(t[17]=O("h3",null," ",-1)),O("div",VT,[t[10]||(t[10]=O("label",{class:"info"},": ",-1)),O("span",null,It(r.member.memName),1),t[11]||(t[11]=O("label",{class:"info"},":",-1)),O("span",null,It(r.member.memEmail),1),t[12]||(t[12]=O("label",{class:"info"},":",-1)),t[13]||(t[13]=O("span",null,"********",-1)),t[14]||(t[14]=O("label",{class:"info"},":",-1)),O("span",null,It(r.member.memPhone),1),t[15]||(t[15]=O("label",{class:"info"},"QR:",-1)),O("div",HT,[r.memberQRImg?(St(),Tt("img",{key:0,src:r.memberQRImg,alt:"Member QR Code",class:"qr-image"},null,8,zT)):(St(),Tt("span",jT,"QR  .. "))])]),O("div",WT,[O("button",{onClick:t[0]||(t[0]=h=>o.openModal(!0,r.member)),type:"button",class:"btn btn-secondary"}," "),O("button",{onClick:t[1]||(t[1]=h=>o.promptDelete(r.member.memId,r.member.memEmail)),type:"button",class:"btn btn-secondary"}," ")])]),r.isModalVisible?(St(),Tt("div",GT,[O("div",YT,[t[24]||(t[24]=O("h2",null,"  ",-1)),O("form",{onSubmit:t[8]||(t[8]=Er((...h)=>o.handleSubmit&&o.handleSubmit(...h),["prevent"]))},[O("div",XT,[t[18]||(t[18]=O("label",{for:"memName"},": ",-1)),fe(O("input",{"onUpdate:modelValue":t[2]||(t[2]=h=>r.currentMember.memName=h),type:"text",id:"memName",required:""},null,512),[[be,r.currentMember.memName]])]),O("div",KT,[t[19]||(t[19]=O("label",{for:"memEmail"},": ",-1)),fe(O("input",{"onUpdate:modelValue":t[3]||(t[3]=h=>r.currentMember.memEmail=h),type:"email",id:"memEmail",placeholder:"bible@gmail.com",class:es({"error-border":r.emailError}),required:""},null,2),[[be,r.currentMember.memEmail]]),r.emailError?(St(),Tt("span",ZT,"   ")):on("",!0)]),O("div",qT,[t[20]||(t[20]=O("label",{for:"memPassword"},": ",-1)),fe(O("input",{"onUpdate:modelValue":t[4]||(t[4]=h=>r.currentMember.memPassword=h),type:"password",id:"memPassword",class:es({"error-border":r.passwordError}),required:""},null,2),[[be,r.currentMember.memPassword]])]),O("div",QT,[t[21]||(t[21]=O("label",{for:"memPassword2"}," : ",-1)),fe(O("input",{"onUpdate:modelValue":t[5]||(t[5]=h=>r.currentMember.memPassword2=h),type:"password",id:"memPassword2",class:es({"error-border":r.passwordError}),required:""},null,2),[[be,r.currentMember.memPassword2]]),r.passwordError?(St(),Tt("span",$T,"  !")):on("",!0)]),O("div",JT,[t[22]||(t[22]=O("label",{for:"memPhone"},": ",-1)),fe(O("input",{"onUpdate:modelValue":t[6]||(t[6]=h=>r.currentMember.memPhone=h),type:"tel",id:"memPhone",pattern:"^010-\\d{4}-\\d{4}$",placeholder:"010-1234-5678",class:es({"error-border":r.phoneError}),maxlength:"13",required:""},null,2),[[be,r.currentMember.memPhone]]),r.phoneError?(St(),Tt("span",t8,"010-XXXX-XXXX .")):on("",!0)]),O("div",e8,[t[23]||(t[23]=O("button",{type:"submit",class:"btn-primary"},"",-1)),O("button",{type:"button",onClick:t[7]||(t[7]=(...h)=>o.closeModal&&o.closeModal(...h)),class:"btn-secondary"},"")])],32)])])):on("",!0)],64)}const i8=De(FT,[["render",n8],["__scopeId","data-v-f0b68bbf"]]),s8={data(){return{carts:[],books:{},selectedCartIds:[],totalPayPrice:0}},mounted(){this.fetchCarts()},methods:{fetchCarts(){Wt.get("http://localhost:8080/api/carts/list",{withCredentials:!0}).then(e=>{this.carts=e.data,this.carts.forEach(t=>{this.books[t.bookId]||this.fetchBook(t.bookId)})}).catch(e=>{console.error("     :",e)})},fetchBook(e){Wt.get(`http://localhost:8080/api/books/${e}`).then(t=>{this.books[e]=t.data}).catch(t=>{console.error("     :",t)})},calculateTotal(){let e=0;this.selectedCartIds.forEach(t=>{const n=this.carts.find(i=>i.cartId===t);this.books[n.bookId]!=null&&(e+=this.books[n.bookId].bookPrice*n.bookCount)}),this.totalPayPrice=e},calculateBookPrice(e,t,n){Wt.put("http://localhost:8080/api/carts/update",{cartId:e,newCount:t}).then(i=>{this.calculateTotal()}).catch(i=>{console.error("Error - cart:",i)})},deleteCart(e){Wt.delete(`http://localhost:8080/api/carts/delete/${e}`,{withCredentials:!0}).then(t=>{alert(t.data),this.carts=this.carts.filter(n=>n.cartId!==e),this.selectedCartIds=this.selectedCartIds.filter(n=>n!==e),this.calculateTotal()}).catch(t=>{console.error("     :",t)})},getBookImageUrl(e){return`http://localhost:8080/api/uploads/book-image?bookid=${e}`}}},r8={border:"1",cellspacing:"0",cellpadding:"5"},o8=["value"],a8=["src","alt"],l8=["onUpdate:modelValue","onChange"],c8=["onClick"],u8={style:{"margin-top":"20px"}};function h8(e,t,n,i,r,o){return St(),Tt("div",null,[t[3]||(t[3]=O("h1",null,"Cart Page",-1)),O("table",r8,[t[2]||(t[2]=O("thead",null,[O("tr",null,[O("th",null,"Check"),O("th",null,"Cart ID"),O("th",null,"Img"),O("th",null,"Title"),O("th",null,"Author"),O("th",null,"Price"),O("th",null,"Count"),O("th",null,"totalPrice"),O("th",null,"Delete")])],-1)),O("tbody",null,[(St(!0),Tt(Pe,null,Bs(r.carts,c=>{var h,g;return St(),Tt("tr",{key:c.cartId},[O("td",null,[fe(O("input",{type:"checkbox",value:c.cartId,"onUpdate:modelValue":t[0]||(t[0]=p=>r.selectedCartIds=p),onChange:t[1]||(t[1]=p=>o.calculateTotal())},null,40,o8),[[b2,r.selectedCartIds]])]),O("td",null,It(c.cartId),1),O("td",null,[O("img",{src:o.getBookImageUrl(c.bookId),alt:((h=r.books[c.bookId])==null?void 0:h.bookTitle)||"  ",width:"100",height:"auto"},null,8,a8)]),O("td",null,It(r.books[c.bookId]?r.books[c.bookId].bookTitle:" "),1),O("td",null,It(r.books[c.bookId]?r.books[c.bookId].bookAuthor:" "),1),O("td",null,It(r.books[c.bookId]?r.books[c.bookId].bookPrice+"":"-"),1),O("td",null,[fe(O("input",{type:"number","onUpdate:modelValue":p=>c.bookCount=p,class:"cartBookCount",onChange:p=>o.calculateBookPrice(c.cartId,c.bookCount,c.bookId),min:"1"},null,40,l8),[[be,c.bookCount]])]),O("td",null,It(((g=r.books[c.bookId])==null?void 0:g.bookPrice)*c.bookCount||0),1),O("td",null,[O("button",{onClick:p=>o.deleteCart(c.cartId)},"Delete",8,c8)])])}),128))])]),O("div",u8,[O("strong",null,"Total Price: "+It(r.totalPayPrice)+" ",1)])])}const f8=De(s8,[["render",h8],["__scopeId","data-v-52ab3c2c"]]),d8={name:"AddressSearch",data(){return{postcode:"",address:"",detailAddress:"",isScriptLoaded:!1}},mounted(){const e=document.createElement("script");e.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",e.onload=()=>{this.isScriptLoaded=!0},document.head.appendChild(e)},methods:{emitAddressData(){this.$emit("address-change",{postcode:this.postcode,address:this.address,detailAddress:this.detailAddress})},execDaumPostcode(){if(!this.isScriptLoaded){alert("    .  .");return}new window.daum.Postcode({oncomplete:e=>{let t="",n="";e.userSelectedType==="R"?t=e.roadAddress:t=e.jibunAddress,e.userSelectedType==="R"&&(e.bname!==""&&/[||]$/g.test(e.bname)&&(n+=e.bname),e.buildingName!==""&&e.apartment==="Y"&&(n+=n!==""?", "+e.buildingName:e.buildingName),n!==""&&(n=` (${n})`)),this.postcode=e.zonecode,this.address=t+n,this.emitAddressData()}}).open()}}},g8={class:"address-search"},p8={class:"input-group"};function m8(e,t,n,i,r,o){return St(),Tt("div",g8,[O("div",p8,[fe(O("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=c=>r.postcode=c),placeholder:"",readonly:""},null,512),[[be,r.postcode]]),O("button",{onClick:t[1]||(t[1]=(...c)=>o.execDaumPostcode&&o.execDaumPostcode(...c))}," ")]),fe(O("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=c=>r.address=c),placeholder:"",readonly:""},null,512),[[be,r.address]]),fe(O("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=c=>r.detailAddress=c),placeholder:"",onInput:t[4]||(t[4]=(...c)=>o.emitAddressData&&o.emitAddressData(...c))},null,544),[[be,r.detailAddress]])])}const x8=De(d8,[["render",m8],["__scopeId","data-v-47597d4c"]]),b8={name:"ParentComponent",components:{AddressSearch:x8},data(){return{addressData:null}},methods:{handleAddressChange(e){this.addressData=e,console.log(" :",e)}}};function w8(e,t,n,i,r,o){const c=Xe("AddressSearch");return St(),Tt("div",null,[$t(c,{onAddressChange:o.handleAddressChange},null,8,["onAddressChange"])])}const y8=De(b8,[["render",w8]]),A8={data(){return{selectedFile:null,uploadStatus:null}},methods:{handleFileUpload(e){this.selectedFile=e.target.files[0]},async uploadFile(){var t;if(!this.selectedFile){this.uploadStatus="No file selected!";return}const e=new FormData;e.append("file",this.selectedFile);try{const n=await Wt.post("http://localhost:8080/api/books/excel",e,{headers:{"Content-Type":"multipart/form-data"}});this.uploadStatus=`${n.data}`,this.selectedFile=null}catch(n){this.uploadStatus=`Upload failed: ${((t=n.response)==null?void 0:t.data)||n.message}`}},async downloadExcel(){try{const e=await fetch("http://localhost:8080/api/books/download-excel",{method:"GET"});if(!e.ok)throw new Error("  ");const t=await e.blob(),n=window.URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="books.xlsx",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}catch(e){console.error("Error downloading Excel file:",e)}}}},C8={class:"upload-container"},_8=["disabled"],E8={key:0,class:"status-message"};function S8(e,t,n,i,r,o){return St(),Tt("div",C8,[t[3]||(t[3]=O("h1",null,"Upload/Download Book List with Excel File",-1)),t[4]||(t[4]=O("h2",null," Add Books - Excel File",-1)),O("form",{onSubmit:t[1]||(t[1]=Er((...c)=>o.uploadFile&&o.uploadFile(...c),["prevent"])),class:"upload-form"},[O("input",{type:"file",onChange:t[0]||(t[0]=(...c)=>o.handleFileUpload&&o.handleFileUpload(...c)),accept:".xlsx, .xls",class:"file-input"},null,32),O("button",{type:"submit",disabled:!r.selectedFile,class:"upload-btn"},"Upload",8,_8)],32),r.uploadStatus?(St(),Tt("div",E8,It(r.uploadStatus),1)):on("",!0),t[5]||(t[5]=O("h2",null," Download Book List",-1)),O("button",{onClick:t[2]||(t[2]=c=>o.downloadExcel())},"download Excel")])}const I8=De(A8,[["render",S8]]),T8=[{path:"/",name:"main",component:dA},{path:"/book",name:"book-list",component:Qy},{path:"/book/:bookId",name:"book-detail",component:nA,props:!0},{path:"/signUp",name:"SignUp",component:xA},{path:"/login",name:"Login",component:AA},{path:"/admin",name:"AdminFilter",component:MA},{path:"/",redirect:"/login"},{path:"/mypage",name:"Mypage",component:i8},{path:"/cart",name:"cart",component:f8},{path:"/address",name:"address",component:y8},{path:"/book/excel",name:"addBookExcel",component:I8},{path:"/admin-page",name:"AdminPage",component:BT,beforeEnter:(e,t,n)=>{t.name!=="AdminFilter"?n("/admin"):n()},meta:{requiresAdmin:!0}}],M8=sw({history:Nb("/"),routes:T8}),zo=Wt.create({baseURL:"http://localhost:8080",withCredentials:!0});zo.interceptors.request.use(e=>(console.log("  :",e),e),e=>Promise.reject(e));zo.interceptors.response.use(e=>e,e=>(console.error(" :",e.response||e.message),Promise.reject(e)));zo.defaults.baseURL="http://localhost:8080/api";zo.defaults.withCredentials=!0;const Tp=E2(O2);Tp.config.globalProperties.$axios=zo;Tp.use(nb).use(M8).mount("#app");
